<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<HTML>
<HEAD>
	<TITLE>why’s (poignant) guide to ruby</TITLE>

	<META NAME="Author" CONTENT="why the lucky stiff"/>
</HEAD>
<BODY>
<h3><font color="#222222"><b>About this Book</b></font></h3>
<img src="whys-poignant-guide-to-ruby_pic0002.jpg"/><img src="whys-poignant-guide-to-ruby_pic0003.png"/><img src="whys-poignant-guide-to-ruby_pic0004.png"/><h3><font color="#222222"><b>Kon’nichi wa, Ruby</b></font></h3>
<img src="whys-poignant-guide-to-ruby_pic0009.jpg"/><font color="#222222"><b>1. Opening This Book</b><br/>
Pretend that you’ve opened this book (although you probably <i>have</i> opened this book), just to find a huge onion right in the 
middle crease of the book. (The manufacturer of the book has included the onion at my request.)<br/>
So you’re like, “Wow, this book comes with an onion!” (Even if you don’t particularly like onions, I’m sure you can appreciate
the logistics of shipping any sort of produce discreetly inside of an alleged programming manual.)
<p>Then you ask yourself, “Wait a minute. I thought this was a book on Ruby, the incredible new programming language from
Japan. And although I can appreciate the logistics of shipping any sort of produce discreetly inside of an alleged programming
manual: Why an onion? What am I supposed to do with it?”</p>
No. Please don’t puzzle over it. You don’t need to do anything with the onion. Set the onion aside and let <i>it</i> do something with 
<i>you</i>.
<p>I’ll be straight with you. I want you to cry. To weep. To whimper sweetly. This book is a 
<b>poignant</b> guide to Ruby. That means
code so beautiful that tears are shed. That means gallant tales and somber truths that have you waking up the next morning in
the arms of this book. Hugging it tightly to you all the day long. If necessary, fashion a makeshift hip holster for <i>Why’s
(Poignant) Guide to Ruby</i>, so you can always have this book’s tender companionship.</p>
You really must sob once. Or at least sniffle. And if not, then the onion will make it all happen for you.</font><br/>
<b><font color="#F0FAEE">sidebar!</font><br/>
<font color="#222222">2. The Dog Story</font><br/>
<font color="#545454">What I’m Going to Do With the
Massive Proceeds from this Book</font></b>
<font color="#222222">So try this first bit of poignancy on for size:
<p>One day I was walking down one of those busy roads covered with car dealerships (this
was shortly after my wedding was called off) and I found an orphaned dog on the road.
A wooly, black dog with greenish red eyes. I was kind of feeling like an orphan myself,
so I took a couple balloons that were tied to a pole at the dealership and I relocated
them to the dog’s collar. Then, I decided he would be my dog. I named him Bigelow.</p>
We set off to get some Milkbones for Bigelow and, afterwards, head over to my place,</font>
<p>Anyone who’s written a book can tell you
how easily an author is distracted by visions
of grandeur. In my experience, I stop twice
for each paragraph, and four times for each
panel of a comic, just to envision the wealth
and prosperity that this book will procure for
my lifestyle. I fear that the writing of this
book will halt altogether to make way for the
armada of SUVs and luxury towne cars that</p>
<font color="#222222">where we could sit in recliners and listen to Gorky’s Zygotic Mynci. Oh, and we’d also
need to stop by a thrift store and get Bigelow his own recliner.</font><br/>
are blazing away in my head.
<p><font color="#222222">But Bigelow hadn’t accepted me as his master. So five minutes later, the stupid dog
took a different crosswalk than I did and I never caught up. So whereas he had
previously only been lost once, he was now lost twice. I slowed my pace towards the
life of Milkbones and an extra recliner. I had a dog for five minutes.</font></p>
<p>Rather than stop my production of the
(Poignant) Guide, I’ve reserved this space as
a safety zone for pouring my empty and vain
wishes.</p>
<font color="#222222"><p>Stupid Benedict Arnold of a dog. I sat on a city bench and threw pinecones at a statue
of three sheep crossing a bridge. After that, I wept for hours. The tears just came. Now
there’s a little something poignant to get you started.</p>
I wonder where he went with all those balloons. That crazy dog must have looked like
a party with legs.
<p>It wasn’t much later that I pulled my own Bigelow. I printed out a bunch of pages on
Ruby. Articles found around the Web. I scanned through them on a train ride home
one day. I flipped through them for five minutes and then gave up. Not impressed.</p>
<p>I sat, staring out the window at the world, a life-sized blender mixing graffiti and iron
smelts before my eyes. <i>This world’s too big for such a a little language</i>, I thought. 
<i>Poor little thing doesn’t stand a chance. Doesn’t have legs to stand on.
Doesn’t have arms to swim.</i></p>
<p>And yet, there I was. One little man on a flimsy little train (and I even still had a baby
tooth to lose at the time) out of billions of people living on a floating blue rock. How
can I knock Ruby? Who’s to say that I’m not going to happen to choke on my cell
phone and die later that evening. Why’s dead, Ruby lives on.</p></font>
<p>Today I was at this Italian restaraunt,
Granado’s, and I was paying my bill.
Happened to notice (under glass) a bottle of
balsamic vinegar going for $150. Fairly
small. I could conceal it in my palm. Aged
twenty-two years.</p>
<p>I’ve spent a lot of time thinking about that
bottle. It is often an accessory in some of
these obsessive fantasies. In one fantasy, I
walk into the restaraunt, toss a stack of
greenery on the counter and earnestly say to
the cashier, “Quick! I have an important
salad to make!”</p>
<p>In another, related fantasy, I am throwing
away lettuce. Such roughage isn’t befitting of
my new vinegar. No, I will have come to a
point where the fame and the aristocracy will
have corrupted me to my core. My new
lettuce will be cash. Cold, hard cash, Mrs.
Price.</p>
<font color="#222222">The gravestone:</font>
Soon, I will be expending hundreds for a 
block of myzithra cheese.<br/>
<font color="#443254"><i>What’s in his trachea? Oh, look, a Nokia!</i></font><br/>
<font color="#222222">Just my luck. Finally get to have a good, long sleep underground, only to be constantly
disturbed by <i>Pachelbel’s Canon</i> going off in my stomach.<br/>
<b>3. The Red Sun Rises</b></font>
<p>My imaginations have now gone beyond
posessions, though. Certainly, I have
thought through my acquisition of grecian
urns, motorcades, airlines, pyramids,
dinosaur bones. Occassionally I’ll see
wind-tossed cities on the news and I’ll jot
down on my shopping list: <i>Hurricane</i>.</p>
<font color="#222222">So, now you’re wondering why I changed my mind about Ruby. The quick answer is:
we clicked.
<p>Like when you meet Somebody in college and they look like somebody who used to hit 
you in the face with paintbrushes when you were a kid. And so, impulsively, you
conclude that this new Somebody is likely a non-friend. You wince at their hair. You
hang up phones loudly during crucial moments in their anecdotes. You use your pogo
stick right there where they are trying to walk!</p>
<p>Six months later, somehow, you and Somebody are sitting at a fountain having a
perfectly good chat. Their face doesn’t look so much like that childhood nemesis.
You’ve met the Good Twin. You clicked.</p></font>
<p>But, now I’m seeing a larger goal. Simply
put: what if I amassed such a fortune that
the mints couldn’t print enough to keep up
with my demand? So, everyone else would
be forced to use Monopoly money as actual
currency. And you would have to win in
Monopoly to keep food on the table. These
would be some seriously tense games. I
mean you go to mortgage St. James Place
and your kids start crying. In addition, I
think you’ll begin to see the end of those who
choose to use the Free Parking square as <font color="#0000EF">the </font></p>
<img src="whys-poignant-guide-to-ruby_pic000B.png"/><p><font color="#0000EF">underground coffers</font>
 for city funds.</p>
<font color="#222222"><p>So whereas I should probably be pounding your teeth in with hype about Ruby and the
tightly-knit cadre of pertinent ancronyms that accompany it everywhere (whetting the
collective whistles of your bosses and their bosses’ bosses), instead I will just let you
coast. I’ll let you freefall through some code, interjecting occassionally with my own
heartfelt experiences. It’ll be quite easy, quite natural.</p>
I should offer you some sort of motivation, though. So, Smotchkkiss, I’m going to give
my three best reasons to learn Ruby and be done with it.</font>
<p>You’ve got to hand it to fun money, though.
Fake money rules. You can get your hands
on it so quickly. For a moment, it seems like
you’re crazy rich. When I was a kid, I got
with some of the neighborhood kids and we
built this little Tijuana on our street. We
made our own pesos and wore sombreros
and everything!</p>
<font color="#222222">1.
<b>Brain health.</b>
<p>Vitamin R. Goes straight to the head. Ruby will teach you to 
<i>express</i>
your ideas through a computer. You will be writing stories for a
machine.</p></font>
<p>One kid was selling hot tamales for two 
pesos each. <i>Two pesos!</i> Did this kid know
that the money was fake? Was he out of his
mind? Who invited this kid? Didn’t he know
this wasn’t really Tijuana? Maybe he was
really from Tijuana! Maybe these were <i>real</i>
pesos! Let’s go make more <i>real</i> pesos!</p>
<font color="#222222"><p>Creative skills, people. Deduction. Reason. Nodding intelligently. The
language will become a tool for you to better connect your mind to the
world. I’ve noticed that many experienced users of Ruby seem to be
clear thinkers and objective. (In contrast to: heavily biased and
coarse.)</p>
2.
<b>One man on one island.</b></font>
<p>I think we even had a tavern where you
could get totally hammered off Kool-Aid.
There’s nothing like a bunch of kids<br/>
stumbling around, mumbling incoherently
with punchy red clown lips.</p>
<img src="whys-poignant-guide-to-ruby_pic000C.png"/><font color="#F0FAEE"><b>sidebar!</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0008.png"/><font color="#222222"><p>Ruby was born in Japan. Which is freaky. Japan is not known for its
software. And since programming languages are largely written in
English, who would suspect a language to come from Japan?</p>
<p>And yet, here we have Ruby. Against the odds, Yukihiro Matsumoto
created Ruby on February 24, 1993. For the past ten years, he has
steadily brought Ruby to a global audience. It’s triumphant and noble
and all that. Support diversity. Help us tilt the earth just a bit.</p>
3.
<b>Free.</b><br/>
Using Ruby costs nothing. The code to Ruby itself is open for all of the world to inhale/exhale. Heck, this book is free.
It’s all part of a great, big giveaway that should have some big hitch to it.<br/>
You’d think we’d make you buy vacuums or timeshare or fake Monets. You’d think there’d be a 90 minute presentation
where the owner of the company comes out at the end and knuckles you into sealing the deal.<br/>
Nope, free.
<p>With that, it’s time for the book to begin. You can now get out your highlighter and start dragging it along each captivating
word from this sentence on. I think I have enough hairspray and funny money on my person to keep me sustained until the
final page.</p>
<b>4. How Books Start</b><br/>
Now, if you ever have read a book, you know that no book can properly start without an exorbitant amount of synergy. Yes,
synergy. Maybe you didn’t know this. Synergy means that you and I are supposed to cooperate to make this a great reading
experience.
We start off the book by getting along well in the Introduction. This togetherness, this <b>synergy</b>, propels us through the book, 
with me guiding you on your way. You give me a reassuring nod or snicker to indicate your progress.<br/>
I’m Peter Pan holding your hand. Come on, Wendy! Second star to the right and on till morning.<br/>
One problem here. I don’t get along well with people. I don’t hold hands very well.
<p>Any of my staff will tell you. At the Opening Ceremonies of This Book (a catered event with stadium seating), I discovered that
the cucumber sandwiches weren’t served in tea towels. As a result, the butter hadn’t set with the cucumbers right… Anyways, I
made a big scene and set fire to some of the advertising trucks outside. I smashed this spotlight to pieces and so on. I had this
loud maniacal laughing thing going on deep into that night. It was a real mess.</p>
But, since I don’t get along well with people, I hadn’t invited anyone but myself to the Opening Ceremonies of This Book. So it
wasn’t really that embarassing. I kept it under wraps and no one found out about the whole ordeal.
<p>So you’ve got to know that 
<b>synergy</b> doesn’t actually mean <b>synergy</b> in this book. I can’t do normal <b>synergy</b>. No, in this 
book, <b>synergy</b> means <b>cartoon foxes</b>. What I’m saying is: this book will be starting off with an exorbitant amount of
<b>cartoon foxes</b>.</p>
And I will be counting on you to turn them into <b>synergy</b>.</font>
<img src="whys-poignant-guide-to-ruby_pic000D.png"/><font color="#222222"><b>3.
<h3>A Quick (and Hopefully Painless) 
Ride Through Ruby (with Cartoon 
Foxes)</h3></b></font>
<img src="whys-poignant-guide-to-ruby_pic000E.jpg"/><img src="whys-poignant-guide-to-ruby_pic000F.png"/><font color="#222222">Yeah, these are the two. My asthma’s kickin in so I’ve got to go take a puff of medicated air just now. Be with you in a moment.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0010.png"/><font color="#222222">I’m told that this chapter is best accompanied by a rag. Something you can mop your face with as the sweat pours off your face.<br/>
Indeed, we’ll be racing through the whole language. Like striking every match in a box as quickly as can be done.<br/>
<b>1. Language and I MEAN Language</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0011.png"/><font color="#222222"><p>My conscience won’t let me call Ruby a 
<i>computer</i> language. That would imply that the language works primarily on the
computer’s terms. That the language is designed to accomodate the computer, first and foremost. That therefore, we, the
coders, are foreigners, seeking citizenship in the computer’s locale. It’s the computer’s language and we are translators for the
world.</p>
<p>But what do you call the language when your brain begins to think in that language? When you start to use the language’s own
words and colloquialisms to express yourself. Say, the computer can’t do that. How can it be the computer’s language? It is
ours, we speak it natively!</p>
We can no longer truthfully call it a <i>computer</i> language. It is <i>coderspeak</i>. It is the language of our thoughts.<br/>
<b>Read the following aloud to yourself.</b></font><br/>
<font face="Courier, serif"><font color="#329A65">5</font><font color="#9A3265">.</font><font color="#32659A">times</font><font color="#9A3265"> { </font><font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">Odelay!</font><font color="#9A3265">" }</font></font><br/>
<font color="#222222">In English sentences, punctuation (such as periods, exclamations, parentheses) are silent. Punctuation adds meaning to
words, helps give cues as to what the author intended by a sentence. So let’s read the above as: <i>Five times print “Odelay!”.</i><br/>
Which is exactly what this small Ruby program does. Beck’s </font><font color="#0000EF">mutated Spanish</font><font color="#222222"> exclamation will print five times on the 
computer screen.<br/>
<b>Read the following aloud to yourself.</b></font><br/>
<font face="Courier, serif"><font color="#32659A">exit</font><font color="#9A3265"><b> unless</b> "</font><font color="#329A65">restaurant</font><font color="#9A3265">".</font><font color="#32659A">include?</font><font color="#9A3265"> "</font><font color="#329A65">aura</font><font color="#9A3265">"</font></font><br/>
<font color="#222222">Here we’re doing a basic reality check. Our program will <b>exit</b> (the program will end) <b>unless</b> the word <b>restaurant</b> contains
(or <b>includes</b>) the word <b>aura</b>. Again, in English: <i>Exit unless the word restaurant includes the word aura.</i><br/>
Ever seen a programming language use question marks so effectively? Ruby uses some punctuation, such as exclamations and
question marks, to enhance readability of the code. We’re asking a question in the above code, so why not make that apparent?<br/>
<b>Read the following aloud to yourself.</b></font><br/>
<font face="Courier, serif"><font color="#9A3265">['</font><font color="#329A65">toast</font><font color="#9A3265">', '</font><font color="#329A65">cheese</font><font color="#9A3265">', '</font><font color="#329A65">wine</font><font color="#9A3265">'].</font><font color="#32659A">each</font><font color="#9A3265"> { |</font><font color="#32659A">food</font><font color="#9A3265">| </font><font color="#32659A">print food</font><font color="#9A3265">.</font><font color="#32659A">capitalize</font><font color="#9A3265"> }</font></font>
<p><font color="#222222">While this bit of code is less readable and sentence-like than the previous examples, I’d still encourage you to read it aloud.
While Ruby may sometimes read like English, it sometimes reads as a shorter English. Fully translated into English, you might
read the above as: <i>With the words ‘toast’, ‘cheese’, and ‘wine’: take each food and print it capitalized.</i></font></p>
<p><font color="#222222">The computer then courteously responds: </font>
<font face="Courier, serif"><font color="#653200"><b>Toast</b></font></font><font color="#222222">, </font><font face="Courier, serif"><font color="#653200"><b>Cheese</b></font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#653200"><b>Wine</b></font></font><font color="#222222">.<br/>
At this point, you’re probably wondering how these words actually fit together. Smotchkkiss is wondering what the dots and
brackets mean. I’m going to discuss the various <i>parts of speech</i> next.</font></p>
<p><font color="#222222">All you need to know thus far is that Ruby is basically built from sentences. They aren’t exactly English sentences. They are
short collections of words and punctuation which encompass a single thought. These sentences can form books. They can form
pages. They can form entire novels, when strung together. Novels that can be read by humans, but also by computers.</font></p>
<b><font color="#F0FAEE">sidebar!</font><br/>
<font color="#222222">2. The Parts of Speech</font><br/>
<font color="#545454">Concerning Commercial Uses of the 
(Poignant) Guide</font></b>
<font color="#222222"><p>Just like the white stripe down a skunk’s back and the winding, white train of a bride,
many of Ruby’s parts of speech have visual cues to help you identify them. Punctuation
and capitalization will help your brain to see bits of code and feel intense recognition.
Your mind will frequently yell <i>Hey, I know that guy!</i> You’ll also be able to
name-drop in conversations with other Rubyists.</p>
<p>Try to focus on the look of each of these parts of speech. The rest of the book will detail
the specifics. I give short descriptions for each part of speech, but you don’t have to
understand the explanation. By the end of this chapter, you should be able to recognize
every part of a Ruby program.</p></font>
<p>This book is released under a Creative 
Commons license which allows unlimited 
commercial use of this text. Basically, this
means you can sell all these bootleg copies of
my book and keep the revenues for yourself.
I trust my readers (and the world around 
them) to rip me off. To put out some crappy 
Xerox edition with that time-tested clipart of
praying hands on the cover.</p>
<font color="#222222"><b>Variables</b><br/>
Any plain, lowercase word is a variable in ruby. Variables may consist of letters, digits
and underscores.</font><br/>
<font face="Courier, serif"><font color="#32659A">x</font></font><font color="#443254"><i> , </i></font><font face="Courier, serif"><font color="#32659A">y</font></font><font color="#443254"><i> , </i></font><font face="Courier, serif"><font color="#32659A">banana2</font></font><font color="#443254"><i> or </i></font><font face="Courier, serif"><font color="#32659A">phone_a_quail</font></font><font color="#443254"><i> are examples.</i></font>
<p>Guys, the lawsuits just ain’t worth the
headache. So I’m just going to straight up
endorse authorized piracy, folks. Anybody
who wants to read the book should be able to
read it. Anybody who wants to market the
book or come up with special editions, I’m
flattered.</p>
<font color="#222222"><p>Variables are like nicknames. Remember when everyone used to call you Stinky Pete?
People would say, “Get over here, Stinky Pete!” And everyone miraculously knew that
Stinky Pete was you.</p>
<p>With variables, you give a nickname to something you use frequently. For instance,
let’s say you run an orphanage. It’s a mean orphanage. And whenever Daddy
Warbucks comes to buy more kids, we insist that he pay us <b>one-hundred 
twenty-one dollars and eight cents</b> for the kid’s teddy bear, which the kid has
become attached to over in the darker moments of living in such nightmarish custody.</p></font>
<font face="Courier, serif"><font color="#32659A">teddy_bear_fee</font><font color="#9A3265"> = </font><font color="#329A65">121.08</font></font><br/>
<font color="#222222">Later, when you ring him up at the cash register (a really souped-up cash register
which runs Ruby!), you’ll need to add together all his charges into a <b>total</b>.</font>
<p>Why would I want the $$$? IGNORE ALL 
OTHER SIDEBARS: I’ve lost the will to be a
rich slob. Sounds inhuman, but I like my
little black-and-white television. Also my
hanging plastic flower lamp. I don’t want to
be a career writer. Cash isn’t going inspire
me. Pointless.</p>
<p>So, if money means nothing to the lucky 
stiff, why rip me off when you could co-opt 
shady business practices to literally crush my
psyche and leave me wheezing in some sooty
iron lung? Oh, and the irony of using my
own works against me! Die, Poignant Boy!</p>
<font face="Courier, serif"><font color="#32659A">total</font><font color="#9A3265"> = </font><font color="#32659A">orphan_fee</font><font color="#9A3265"> + </font><font color="#32659A">teddy_bear_fee</font><font color="#9A3265"> + </font><font color="#32659A">gratuity</font></font><br/>
<font color="#222222">Those variable nicknames sure help. And in the seedy underground of child sales, any
help is appreciated I’m sure.</font>
<p>To give you an idea of what I mean, here are 
a few underhanded concepts that could 
seriously kill my willpower and force me to 
reconsider things like existence.</p>
<b>IDEA ONE: BIG TOBACCO</b><br/>
<img src="whys-poignant-guide-to-ruby_pic0013.png"/>Buy a cigarette company. Use my cartoon
foxes to fuel an aggressive ad campaign.<br/>
<img src="whys-poignant-guide-to-ruby_pic0017.png"/><font color="#222222"><b>Numbers</b><br/>
The most basic type of number is an <i>integer</i>, a <b>series of digits</b> which can start 
with a <b>plus or minus sign</b>.</font><br/>
<font face="Courier, serif"><font color="#329A65">1</font></font><font color="#443254"><i> , </i></font><font face="Courier, serif"><font color="#329A65">23</font></font><font color="#443254"><i> , and </i></font><font face="Courier, serif"><font color="#9A3265">-</font><font color="#329A65">10000</font></font><font color="#443254"><i> are examples.</i></font><br/>
<font color="#222222">Commas are not allowed in numbers, but underscores are. So if you feel the need to
mark your thousands so the numbers are more readable, use an underscore.</font><br/>
<font face="Courier, serif"><font color="#32659A">population</font><font color="#9A3265"> = </font><font color="#329A65">12_000_000_000</font></font><br/>
<font color="#222222">Decimal numbers are called <i>floats</i> in Ruby. Floats consist of numbers with <b>a 
decimal place</b> or <b>scientific notation</b>.</font><br/>
<font face="Courier, serif"><font color="#329A65">3.14</font></font><font color="#443254"><i> , </i></font><font face="Courier, serif"><font color="#9A3265">-</font><font color="#329A65">808.08</font></font><font color="#443254"><i> and </i></font><font face="Courier, serif"><font color="#329A65">12.043</font><font color="#32659A">e</font><font color="#9A3265">-</font><font color="#329A65">04</font></font><font color="#443254"><i> are examples.</i></font><br/>
<font color="#222222"><b>Strings</b><br/>
Strings are any sort of characters (letters, digits, punctuation) surrounded by quotes.
Both single and double <b>quotes</b> are used to create strings.</font><br/>
<font face="Courier, serif"><font color="#9A3265">"</font><font color="#329A65">sealab</font><font color="#9A3265">"</font></font><font color="#443254"><i> , </i></font><font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">2021</font><font color="#9A3265">'</font></font><font color="#443254"><i> , or </i></font><font face="Courier, serif"><font color="#9A3265">"</font><font color="#329A65">These cartoons are hilarious!</font><font color="#9A3265">"</font></font>
<font color="#443254"><i>are examples.</i></font><br/>
<font color="#222222">When you enclose characters in quotes, they are stored together as a single string.
<p>Think of a reporter who is jotting down the mouthnoises of a rambling celebrity. “I’m a
lot wiser,” says Avril Lavigne. “Now I know what the business is like—what you have to
do and how to work it.”</p></font>
<p><font face="Courier, serif"><font color="#32659A">avril_quote</font>
<font color="#9A3265"> = "</font><font color="#329A65">I'm a lot wiser.  Now I know <br/>
what the business is like -- what you have <br/>
to do and how to work it.</font><font color="#9A3265">"</font></font></p>
<p><font color="#222222">So, just as we stored a number in the 
<b>teddy_bear_fee</b> variable, now we’re storing a
collection of characters (a string) in the <b>avril_quote</b> variable. The reporter sends
this quote to the printers, who just happen to use Ruby to operate their printing press.</font></p>
Here’s a billboard for starters:
<p>Make it obvious that you’re targeting
children and the asthmatic. Then, once
you’ve got everyone going, have the <b>truth</b>
people do an expose on me and my farm of 
inky foxes.</p>
<font color="#656565"><i><p><font size="-1"><b>Sensible Hipster Standing on Curb in 
Urban Wilderness</b></font><font size="-2">: He calls himself the 
lucky stiff.</font></p>
<font size="-2">(Pulls aside curtain to reveal grey corpse on a 
gurney.)</font><br/>
<font size="-1"><b>Hipster</b></font><font size="-2">: Some stiffs ain’t so lucky.<br/>
(Erratic zoom in. Superimposed cartoon foxes for
subliminal Willy Wonka mind trip.)</font></i></font><br/>
Yo. Why you gotta dis Big Smokies like dat,
Holmes?<br/>
<b>IDEA TWO: HEY, FIRING SQUAD</b>
<p>Like I said, start selling copies of my book, 
but corrupt the text. These altered copies
would contain numerous blatant (and 
libelous) references to government agencies, 
such as the U.S. Marshals and the Pentagon.
You could make me look like a complete 
traitor. Like I have all these plans to, you
know, kill certain less desirable members of 
the U.S. Marshals or the Pentagon.</p>
<p>Not that there are any less desirable
members of the U.S. Marshals or the
Pentagon. Yeah, I didn’t mean it like that.</p>
Oh, crap.<br/>
Oh, crap. Oh, crap. Oh, crap.<br/>
<img src="whys-poignant-guide-to-ruby_pic0015.png"/>Turn off the lights. Get down.
<p><font face="Courier, serif"><font color="#32659A">print oprah_quote<br/>
print avril_quote<br/>
print ashlee_simpson_debacle</font></font></p>
<b>IDEA THREE: BILLBOARDS, 
PART II</b><br/>
<img src="whys-poignant-guide-to-ruby_pic001A.png"/><font color="#222222"><b>Symbols</b><br/>
Symbols are words that look just like variables. Again, they may contain letters, digits,
or underscores. But they <b>start with a colon</b>.</font><br/>
<font face="Courier, serif">:a</font><font color="#443254"><i> , </i></font><font face="Courier, serif">:b</font><font color="#443254"><i> , or </i></font><font face="Courier, serif">:ponce_de_leon</font><font color="#443254"><i> are examples.</i></font><br/>
<font color="#222222">Symbols are lightweight strings. Usually, symbols are used in situations where you
need a string but you won’t be printing it to the screen.
<p>You could say a symbol is a bit easier on the computer. It’s like an antacid. The colon
indicates the bubbles trickling up from your computer’s stomach as it digests the
symbol. Ah. Sweet, sweet relief.</p></font>
<img src="whys-poignant-guide-to-ruby_pic001B.png"/><font color="#222222"><b>Constants</b><br/>
Constants are words like variables, but constants are <b>capitalized</b>. If variables are
the nouns of Ruby, then think of constants as the proper nouns.</font><br/>
<font face="Courier, serif"><font color="#653200"><b>Time</b></font></font><font color="#443254"><i> , </i></font><font face="Courier, serif"><font color="#653200"><b>Array</b></font></font><font color="#443254"><i> or </i></font><font face="Courier, serif"><font color="#653200"><b>Bunny_Lake_is_Missing</b></font></font><font color="#443254"><i> are examples.</i></font>
<p><font color="#222222">In English, proper nouns are capitalized. The Empire State Building. You can’t just
move The Empire State Building. You can’t just decide that the Empire State Building
is something else. Proper nouns are like that. They refer to something very specific and</font></p>
How about making fun of asthmatics 
directly?<br/>
<b>IDEA FOUR: ALEC BALDWIN</b>
<p>Adapt the book into a movie. And since, you
know, I’m a character in this book, you could
get someone like Alec Baldwin to play me.
Someone who’s at a real lowpoint in his
career.</p>
<p>You could make it seem like I did tons of 
drugs. Like I was insane to work with. Like I
kept firing people and locking them in the 
scooter room and making them wear outfits 
made of bread. Yeah, like I could actually be
<i>baking</i> people into the outfits.</p>
<p>You could have this huge mold that I strap
people into. Then, I pour all the dough on
them and actually bake them until the bread
has risen and they’ve almost died. And when
the television crews come and I’m on Good
Morning America, they’ll ask, “So, how many
people have you employed in the production
of your book?” And I’d respond, “A baker’s
dozen!” and erupt into that loud maniacal
laughing that would force audience members
to cup their hands over their ears.</p>
<p>Of course, in the throes of my insanity, I 
would declare war on the world. The bread
people would put up quite a fight. Until the
U.S. Marshals (or the Pentagon) engineer a 
giant robotic monkey brain (played by Burt 
Lancaster) to come after me.</p>
<img src="whys-poignant-guide-to-ruby_pic0018.png"/>Here’s where you’ll make me look<br/>
completely lame. Not only will I sacrifice all<br/>
<img src="whys-poignant-guide-to-ruby_pic0014.png"/><font color="#222222">usually don’t change over time.<br/>
In the same way, constants can’t be changed after they are set.</font><br/>
<font face="Courier, serif"><font color="#653200"><b>EmpireStateBuilding</b></font><font color="#9A3265"> = "</font><font color="#329A65">350 5th Avenue, NYC, NY</font><font color="#9A3265">"</font></font><br/>
<font color="#222222">If we try to change the constant, Ruby will complain to us. Such things are frowned
upon.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic001D.png"/><font color="#222222"><b>Methods</b></font>
<p>of the bread people (the Starchtroopers) to
save myself, not only will I surrender to the
great monkey brain like a coward, but when
I narrowly escape, I’ll yell at the audience.
Screaming insistently that it’s <i>MY</i> movie and
no one should see it any more, I’ll rip the
screen in half and the film projector will spin
with its reel flapping in defeat. And that will
be the end of the movie. People will be <i>so</i>
pissed.</p>
<p>Now, I’ve got to thinking. See, and actually,
Alec Baldwin did a decent voiceover in <i>The 
Royal Tenenbaums</i>. His career might be
okay. You might not want to use him. He
might not do it.</p>
Tell ya what. I’ll play the part. I’ve made a
career out of lowpoints.<br/>
<img src="whys-poignant-guide-to-ruby_pic001C.png"/><font color="#F0FAEE"><b>sidebar!</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0014.png"/><font color="#222222">If variables and constants are the nouns, then methods are the verbs. Methods are usually attached to the end of variables and 
constants by a <b>dot</b>. You’ve already seen methods at work.</font><br/>
<font face="Courier, serif"><font color="#32659A">front_door</font><font color="#9A3265">.</font><font color="#32659A">open</font></font><br/>
<font color="#222222">In the above, <b>open</b> is the method. It is the action, the verb. In some cases, you’ll see actions chained together.</font><br/>
<font face="Courier, serif"><font color="#32659A">front_door</font><font color="#9A3265">.</font><font color="#32659A">open</font><font color="#9A3265">.</font><font color="#32659A">close</font></font><br/>
<font color="#222222">We’ve instructed the computer to open the front door and then immediately close it.</font><br/>
<font face="Courier, serif"><font color="#32659A">front_door</font><font color="#9A3265">.</font><font color="#32659A">is_open?</font></font><br/>
<font color="#222222">The above is an action as well. We’re instructing the computer to test the door to see if it’s open. The method could be called</font><br/>
<font face="Courier, serif"><font color="#653200"><b>Door</b></font><font color="#9A3265">.</font><font color="#32659A">test_to_see_if_its_open</font></font><font color="#222222"><sub>, but the </sub></font><font face="Courier, serif"><font color="#32659A">is_open?</font></font><font color="#222222"><sub> name is succinct and just as correct. Both</sub><br/>
exclamation marks and question marks may be used in method names.<br/>
<b>Method arguments</b><br/>
A method may require more information in order to perform its action. If we want the computer to paint the door, we should
provide a color as well.<br/>
Method arguments are attached to the end of a method. The arguments are usually surrounded by <b>parentheses</b> and 
separated by <b>commas</b>.</font><br/>
<font face="Courier, serif"><font color="#32659A">front_door</font><font color="#9A3265">.</font><font color="#32659A">paint</font><font color="#9A3265">( </font><font color="#329A65">3</font><font color="#9A3265">, </font>:red<font color="#9A3265"> )</font></font>
<font color="#222222"><p>The above paints the front door 3 coats of red.
Think of it as an inner tube the method is pulling along, containing its extra instructions. The parentheses form the wet, round
edges of the inner tube. The commas are the feet of each argument, sticking over the edge. The last argument has its feet
tucked under so they don’t show.</p>
Like a boat pulling many inner tubes, methods with arguments can be chained.</font><br/>
<font face="Courier, serif"><font color="#32659A">front_door</font><font color="#9A3265">.</font><font color="#32659A">paint</font><font color="#9A3265">( </font><font color="#329A65">3</font><font color="#9A3265">, </font>:red<font color="#9A3265"> ).</font><font color="#32659A">dry</font><font color="#9A3265">( </font><font color="#329A65">30</font><font color="#9A3265"> ).</font><font color="#32659A">close</font><font color="#9A3265">()</font></font>
<font color="#222222"><p>The above paints the front door 3 coats of red, dries for 30 minutes, and closes the door. Even though the last method has no
arguments, you can still put parentheses if you like. There is no use dragging an empty inner tube, so the parentheses are
normally dropped.</p>
Some methods (such as </font><font face="Courier, serif"><font color="#32659A">print</font></font><font color="#222222">) are kernel methods. These methods are used throughout Ruby. Since they are so common,
you won’t use the dot.</font><br/>
<font face="Courier, serif"><font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">See, no dot.</font><font color="#9A3265">"</font></font><br/>
<font color="#222222"><b>Class methods</b><br/>
Like the methods described above (also called <i>instance</i> methods), class methods are usually attached after variables and 
constants. Rather than a dot, a <b>double colon</b> is used.</font><br/>
<font face="Courier, serif"><font color="#653200"><b>Door</b></font><font color="#9A3265">::</font><font color="#32659A">new</font><font color="#9A3265">( </font>:oak<font color="#9A3265"> )</font></font><br/>
<font color="#222222">As seen above, the </font><font face="Courier, serif"><font color="#32659A">new</font></font><font color="#222222"> class method is most often used to create things. In the above example, we’re asking Ruby to make a
new oak door for us. Of course, Ruby has to have an understanding of how to make a door—as well as a wealth of timber,
lumberjacks, and those long, wiggily, two-man saws.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic001E.png"/><font color="#222222"><b>Global variables</b><br/>
Variables which begin with a <b>dollar sign</b> are global.</font><br/>
<font face="Courier, serif"><font color="#9A3265">$x</font></font><font color="#443254"><i> , </i></font><font face="Courier, serif"><font color="#9A3265">$1</font></font><font color="#443254"><i> , </i></font><font face="Courier, serif"><font color="#9A3265">$chunky</font></font><font color="#443254"><i> and </i></font><font face="Courier, serif"><font color="#9A3265">$CHunKY_bACOn</font></font><font color="#443254"><i> are examples.</i></font><br/>
<font color="#222222">Most variables are rather temporary in nature. Some parts of your program are like little houses. You walk in and they have
their own variables. In one house, you may have a </font><font face="Courier, serif"><font color="#32659A">dad</font></font><font color="#222222"> that represents Archie, a travelling salesman and skeleton collector.<br/>
In another house, </font><font face="Courier, serif"><font color="#32659A">dad</font></font><font color="#222222"> could represent Peter, a lion tamer with a great love for flannel. Each house has its own meaning for</font><br/>
<font face="Courier, serif"><font color="#32659A">dad</font></font><font color="#222222"><sub>.</sub>
<p>With global variables, you can be guaranteed that the variable is the same in every little house. The dollar sign is very
appropriate. Every American home respects the value of the dollar. We’re crazy for the stuff. Try knocking on any door in
America and hand them cash. I can guarantee you won’t get the same reaction if you knock on a door and offer Peter, a lion
tamer with a great love for flannel.</p>
Global variables can be used anywhere in your program. They never go out of sight.<br/>
<b>Instance variables</b><br/>
Variables which begin with an <b>at</b> symbol are instance variables.</font><br/>
<font face="Courier, serif"><font color="#9A3265">@x</font></font><font color="#443254"><i> , </i></font><font face="Courier, serif"><font color="#9A3265">@y</font></font><font color="#443254"><i> , and </i></font><font face="Courier, serif"><font color="#9A3265">@only_the_chunkiest_cut_of_bacon_I_have_ever_seen</font></font><font color="#443254"><i> are 
examples.</i></font>
<p><font color="#222222">These variables are often used to define the attributes of something. For example, you might provide Ruby with the width of
the </font><font face="Courier, serif"><font color="#32659A">front_door</font></font><font color="#222222"> by setting the </font><font face="Courier, serif"><font color="#9A3265">@width</font></font><font color="#222222"> variable inside that </font><font face="Courier, serif"><font color="#32659A">front_door</font></font><font color="#222222">. Instance variables are used to
define characteristics of a single object in Ruby.</font></p>
<font color="#222222">Think of the <b>at</b> symbol as meaning <b>attribute</b>.<br/>
<b>Class variables</b><br/>
Variables which begin with <b>double at</b> symbols are class variables.</font><br/>
<font face="Courier, serif"><font color="#9A3265">@@x</font></font><font color="#443254"><i> , </i></font><font face="Courier, serif"><font color="#9A3265">@@y</font></font><font color="#443254"><i> , and </i></font><font face="Courier, serif"><font color="#9A3265">@@i_will_take_your_chunky_bacon_and_raise_you_two</font></font><font color="#443254"><i> are 
examples.</i></font><br/>
<font color="#222222">Class variables, too, are used to define attributes. But rather than defining an attribute for a single object in Ruby, class
variables give an attribute to many related objects in Ruby. If instance variables set attributes for a single </font><font face="Courier, serif"><font color="#32659A">front_door</font></font><font color="#222222">, <br/>
then class variables set attributes for everything that is a </font><font face="Courier, serif"><font color="#653200"><b>Door</b></font></font><font color="#222222">.<br/>
Think of the <b>double at</b> prefix as meaning <b>attribute all</b>. Additionally, you can think of a swarm of <b>AT-ATs</b> from <i>Star 
Wars</i>, which are all commanded by Ruby. You change a class variable and not just one changes, they all change.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic001F.png"/><font color="#222222"><b>Blocks</b><br/>
Any code surrounded by <b>curly braces</b> is a block.</font><br/>
<font face="Courier, serif"><font color="#329A65">2</font><font color="#9A3265">.</font><font color="#32659A">times</font><font color="#9A3265"> { </font><font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">Yes, I've used chunky bacon in my examples, but never 
again!</font><font color="#9A3265">" }</font></font><font color="#443254"><i> is an example.</i></font>
<font color="#222222"><p>With blocks, you can group a set of instructions together so that they can be passed around your program. The curly braces
give the appearance of crab pincers that have snatched the code and are holding it together. When you see these two pincers,
remember that the code inside has been pressed into a single unit.</p>
<p>It’s like one of those little Hello Kitty boxes they sell at the mall that’s stuffed with tiny pencils and microscopic paper, all
crammed into a glittery transparent case that can be concealed in your palm for covert stationary operations. Except that
blocks don’t require so much squinting.</p>
The curly braces can also be traded for the words <b>do</b> and <b>end</b>, which is nice if your block is longer than one line.</font>
<font face="Courier, serif"><p><font color="#32659A">loop</font>
<font color="#9A3265"><b> do</b></font><br/>
<font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">Much better.</font><font color="#9A3265">" </font><br/>
<font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">Ah.  More space!</font><font color="#9A3265">" </font><br/>
<font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">My back was killin' me in those crab pincers.</font><font color="#9A3265">" </font></p>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222"><b>Block arguments</b><br/>
Block arguments are a set of variables surrounded by <b>pipe</b> characters and separated by <b>commas</b>.</font><br/>
<font face="Courier, serif"><font color="#9A3265">|x|</font></font><font color="#443254"><i> , </i></font><font face="Courier, serif"><font color="#9A3265">|</font><font color="#32659A">x</font><font color="#9A3265">,</font><font color="#32659A">y</font><font color="#9A3265">|</font></font><font color="#443254"><i> , and </i></font><font face="Courier, serif"><font color="#9A3265">|</font><font color="#32659A">up</font><font color="#9A3265">, </font><font color="#32659A">down</font><font color="#9A3265">, </font><font color="#32659A">all_around</font><font color="#9A3265">|</font></font><font color="#443254"><i> are examples.</i></font><br/>
<font color="#222222">Block arguments are used at the beginning of a block.</font><br/>
<font face="Courier, serif"><font color="#9A3265">{ |</font><font color="#32659A">x</font><font color="#9A3265">,</font><font color="#32659A">y</font><font color="#9A3265">| </font><font color="#32659A">x</font><font color="#9A3265"> + </font><font color="#32659A">y</font><font color="#9A3265"> }</font></font><br/>
<font color="#222222">In the above example, </font><font face="Courier, serif"><font color="#9A3265">|</font><font color="#32659A">x</font><font color="#9A3265">,</font><font color="#32659A">y</font><font color="#9A3265">|</font></font><font color="#222222"> are the arguments. After the arguments, we have a bit of code. The expression </font><font face="Courier, serif"><font color="#32659A">x</font><font color="#9A3265"> + </font><font color="#32659A">y</font></font>
<font color="#222222">adds the two arguments together.</font>
<p><font color="#222222">I like to think of the pipe characters as representing a tunnel. They give the appearance of a chute that the variables are sliding
down. (An </font><font face="Courier, serif"><font color="#32659A">x</font></font><font color="#222222"> goes down spread eagle, while the </font><font face="Courier, serif"><font color="#32659A">y</font></font><font color="#222222"> neatly crosses her legs.) This chute acts as a passageway between blocks
and the world around them.</font></p>
<font color="#222222">Variables are passed through this chute (or tunnel) into the block.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0020.png"/><font color="#222222"><b>Ranges</b><br/>
A range is two values surrounded by <b>parentheses</b> and separated by <b>an ellipsis</b> (in the form of two or three dots).</font><br/>
<font face="Courier, serif"><font color="#9A3265">(</font><font color="#329A65">1</font><font color="#9A3265">..</font><font color="#329A65">3</font><font color="#9A3265">)</font></font><font color="#443254"><i> is a range, representing the numbers 1 through 3.</i></font><br/>
<font face="Courier, serif"><font color="#9A3265">('</font><font color="#329A65">a</font><font color="#9A3265">'..'</font><font color="#329A65">z</font><font color="#9A3265">')</font></font><font color="#443254"><i> is a range, representing a lowercase alphabet.</i></font>
<font color="#222222"><p>Think of it as an accordion which has been squeezed down for carrying. (Sure, you can build a great sense of self-worth by
carrying around an unfolded accordion, but sometimes a person needs to wallow in self-doubt, carefully concealing the
squeeze-box.) The parentheses are the handles on the sides of a smaller, handheld accordion. The dots are the chain, keeping
the folds tightly closed.</p>
Normally, only two dots are used. If a third dot is used, the last value in the range is excluded.</font><br/>
<font face="Courier, serif"><font color="#9A3265">(</font><font color="#329A65">0</font><font color="#9A3265">...</font><font color="#329A65">5</font><font color="#9A3265">)</font></font><font color="#443254"><i> represents the numbers 0 through 4.</i></font><br/>
<font color="#222222">When you see that third dot, imagine opening the accordion slightly. Just enough to let one note from its chamber. The note is
that end value. We’ll let the sky eat it.<br/>
<b>Arrays</b><br/>
An array is a list surrounded by <b>square brackets</b> and separated by <b>commas</b>.</font><br/>
<font face="Courier, serif"><font color="#9A3265">[</font><font color="#329A65">1</font><font color="#9A3265">, </font><font color="#329A65">2</font><font color="#9A3265">, </font><font color="#329A65">3</font><font color="#9A3265">]</font></font><font color="#443254"><i> is an array of numbers.</i></font><br/>
<font face="Courier, serif"><font color="#9A3265">['</font><font color="#329A65">coat</font><font color="#9A3265">', '</font><font color="#329A65">mittens</font><font color="#9A3265">', '</font><font color="#329A65">snowboard</font><font color="#9A3265">']</font></font><font color="#443254"><i> is an array of strings.</i></font>
<font color="#222222"><p>Think of it as a caterpillar which has been stapled into your code. The two square brackets are staples which keep the
caterpillar from moving, so you can keep track of which end is the head and which is the tail. The commas are the caterpillar’s
legs, wiggling between each section of its body.</p>
<p>Once there was a caterpillar who had commas for legs. Which meant he had to allow a literary pause after each step. The other
caterpillars really respected him for it and he came to have quite a commanding presence. Oh, and talk about a philanthropist!
He was notorious for giving fresh leaves to those less-fortunate.</p>
Yes, an array is a collection of things, but it also keeps those things in a specific order.<br/>
<b>Hashes</b><br/>
A hash is a dictionary surrounded by <b>curly braces</b>. Dictionaries match words with their definitions. Ruby does so with
<b>arrows</b> made from an equals sign, followed by a greater-than sign.</font><br/>
<font face="Courier, serif"><font color="#9A3265">{'</font><font color="#329A65">a</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">aardvark</font><font color="#9A3265">', '</font><font color="#329A65">b</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">badger</font><font color="#9A3265">'}</font></font><font color="#443254"><i> is an example.</i></font><br/>
<font color="#222222">This time, the curly braces represent little book symbols. See how they look like little, open books with creases down the
middle? They represent opening and closing our dictionary.<br/>
Imagine our dictionary has a definition on each of its pages. The commas represent the corner of each page, which we turn to
see the next definition. And on each page: a word followed by an arrow pointing to the definition.</font>
<font face="Courier, serif"><p><font color="#9A3265">{
'</font><font color="#329A65">name</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">Peter</font><font color="#9A3265">',<br/>
'</font><font color="#329A65">profession</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">lion tamer</font><font color="#9A3265">',
'</font><font color="#329A65">great love</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">flannel</font><font color="#9A3265">'</font></p>
<font color="#9A3265">}</font></font>
<font color="#222222"><p>I’m not comparing hashes to dictionaries because you can only store definitions in a hash. In the example above, I stored
personal information for Peter, the lion tamer with a great love for flannel. Hashes are like dictionaries because they can be
very easy to search through.</p>
Unlike arrays, the items in a hash are not kept in a specific order.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0021.png"/><font color="#222222"><b>Regular Expressions</b><br/>
A regular expression (or <i>regexp</i>) is a set of characters surrounded by <b>slashes</b>.</font><br/>
<font face="Courier, serif"><font color="#9A3265">/</font><font color="#443254">ruby</font><font color="#9A3265">/</font></font><font color="#443254"><i> , </i></font><font face="Courier, serif"><font color="#9A3265">/</font><font color="#443254">[0-9]+</font><font color="#9A3265">/</font></font><font color="#443254"><i> and </i></font><font face="Courier, serif"><font color="#9A3265">/</font><font color="#443254">^\d{3}-\d{3}-\d{4}</font><font color="#9A3265">/</font></font><font color="#443254"><i> are examples.</i></font><br/>
<font color="#222222">Regular expressions are used to find words or patterns in text. The slashes on each side of the expression are pins.
<p>Imagine if you had a little word with pins on both side and you held it over a book. You pass the word over the book and when
it gets near a matching word, it starts blinking. You pin the regular expression onto the book, right over the match and it glows
with the letters of the matching word.</p>
Oh, and when you poke the pins into the book, the paper sneezes, <i>reg-exp!</i><br/>
Regular expressions are much faster than passing your hand over pages of a book. Ruby can use a regular expression to search
volumes of books very quickly.<br/>
<b>Operators</b><br/>
You’ll use the following list of operators to do math in Ruby or to compare things. Scan over the list, recognize a few. You
know, addition </font><font face="Courier, serif"><font color="#9A3265">+</font></font><font color="#222222"> and subtraction </font><font face="Courier, serif"><font color="#9A3265">-</font></font><font color="#222222"> and so on.</font>
<p><font face="Courier, serif"><font color="#9A3265">** !  ~  *  /  %  +  -  &amp;  <br/>
&lt;&lt; &gt;&gt; |  ^  &gt;  &gt;= &lt;  &lt;= &lt;=&gt;<br/>
|| != =~ !~ &amp;&amp; += -= == ===<br/>
.. ... not and or          </font></font></p>
<font color="#222222"><b>Keywords</b>
<p>Ruby has a number of built-in words, imbued with meaning. These words cannot be used as variables or changed to suit your
purposes. Some of these we’ve already discussed. They are in the safe house, my friend. You touch these and you’ll be served
an official syntax error.</p></font>
<p><font face="Courier, serif"><font color="#9A3265">alias   and     BEGIN   begin   break   case    class   def     defined 
do      else    elsif   END     end     ensure  false   for     if 
in      module  next    nil     not     or      redo    rescue  retry 
return  self    super   then    true    undef   unless  until   when 
while   yield </font></font></p>
<font color="#222222">Good enough. These are the illustrious members of the Ruby language. We’ll be having quite the junket for the next three
chapters, gluing these parts together into sly bits of (poignant) code.<br/>
I’d recommend skimming all of the parts of speech once again. Give yourself a broad view of them. I’ll be testing your metal in
the next section.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0023.png"/><b><font color="#F0FAEE">sidebar!</font><br/>
<font color="#222222">3. If I Haven't Treated You Like a Child Enough 
Already</font><br/>
<font color="#545454">Seven Moments of Zen from My Life</font></b>
<font color="#222222"><p>I’m proud of you. Anyone will tell you how much I brag about you. How I go on and on
about this great anonymous person out there who scrolls and reads and scrolls and
reads. “These kids,” I tell them. “Man, these kids got heart. I never…” And I can’t even
finish a sentence because I’m absolutely blubbering.</p>
<p>And my heart glows bright red under my filmy, translucent skin and they have to 
administer 10cc of JavaScript to get me to come back. (I respond well to toxins in the
blood.) Man, that stuff will kick the peaches right out your gills!</p>
<p>So, yes. You’ve kept up nicely. But now I must begin to be a brutal schoolmaster. I
need to start seeing good marks from you. So far, you’ve done nothing but move your
eyes around a lot. Okay, sure, you did some exceptional reading aloud earlier. Now we
need some comprehension skills here, Smotchkkiss.</p></font>
<p>1.
8 years old. Just laying in bed, thinking.
And I realize. <i>There’s nothing stopping
me from becoming a child dentist.</i></p>
<p>2.
21. Found a pencil on the beach.
Embossed on it: <i>I cherish serenity.</i>
Tucked it away into the inside breast 
pocket of my suit jacket. Watched the
waves come and recede.</p>
<p>3.
22. Found a beetle in my bathroom that
was just about to fall into a heating vent. 
Swiped him up. Tailored him a little
backpack out of a leaf and a thread. In 
the backpack: a skittle and a AAA battery.
That should last him. Set him loose out
by the front gate.</p>
4.
Three years of age. Brushed aside the
curtain. Sunlight.<br/>
<font color="#222222"><b>Say aloud each of the parts of speech used below.</b></font><br/>
<font face="Courier, serif"><font color="#329A65">5</font><font color="#9A3265">.</font><font color="#32659A">times</font><font color="#9A3265"> { </font><font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">Odelay!</font><font color="#9A3265">" }</font></font><br/>
<font color="#222222">You might want to even cover this paragraph up while you read, because your eyes 
might want to sneak to the answer. We have a <i>number</i></font><font face="Courier, serif"><font color="#329A65">5</font></font><font color="#222222">, followed by a <i>method</i></font>
<p>5.
14. Riding my bike out on the pier with
my coach who is jogging behind me as
the sun goes down right after I knocked
out Piston Honda in the original<br/>
Nintendo version of Mike Tyson’s
Punch-Out.</p>
<img src="whys-poignant-guide-to-ruby_pic0022.png"/>6.
11. Sick. Watching Heathcliff on<br/>
television. For hours, it was Heathcliff.<br/>
<img src="whys-poignant-guide-to-ruby_pic0014.png"/><font face="Courier, serif"><font color="#9A3265">.</font><font color="#32659A">times</font></font><font color="#222222">. Then, the first crab pincers of a <i>block</i>. The kernel <i>method</i></font><font face="Courier, serif"><font color="#32659A">print</font></font><font color="#222222"> has<br/>
no dot and is followed by a <i>string</i></font><font face="Courier, serif"><font color="#9A3265">"</font><font color="#329A65">Odelay!</font><font color="#9A3265">"</font></font><font color="#222222">. The final crab pincers close our
<i>block</i>.<br/>
<b>Say aloud each of the parts of speech used below.</b></font><br/>
<font face="Courier, serif"><font color="#32659A">exit</font><font color="#9A3265"><b> unless</b> "</font><font color="#329A65">restaurant</font><font color="#9A3265">".</font><font color="#32659A">include?</font><font color="#9A3265"> "</font><font color="#329A65">aura</font><font color="#9A3265">"</font></font>
<p>And he was able to come right up close to
my face. His head spun toward me. His
face pulsed back and forth, up close, then
off millions of miles away. Sound was
gone. In fractions of a second, Heathcliff
filled the universe, then blipped off to the
end of infinity. I heard my mother’s voice
trying to cut through the cartoon.
Heathclose, Heathaway, Heathclose,
Heathaway. It was a religious rave with a
cat strobe and muffled bass of mother’s
voice. (I ran a fever of 105 that day.)</p>
<font color="#222222">Like the </font><font face="Courier, serif"><font color="#32659A">print</font></font><font color="#222222"> method, </font><font face="Courier, serif"><font color="#32659A">exit</font></font><font color="#222222"> is a kernel <i>method</i>. If you were paying attention<br/>
during the big list of keywords, you’ll know that </font><font face="Courier, serif"><font color="#9A3265"><b>unless</b></font></font><font color="#222222"> is just such a <i>keyword</i>.<br/>
<sub>The </sub><i>string</i></font><font face="Courier, serif"><font color="#9A3265">"</font><font color="#329A65">restaurant</font><font color="#9A3265">"</font></font><font color="#222222"><sub> is clung to by the </sub><i>method</i></font><font face="Courier, serif"><font color="#32659A">include?</font></font><font color="#222222"><sub>. And</sub><br/>
finally, the string </font><font face="Courier, serif"><font color="#9A3265">"</font><font color="#329A65">aura</font><font color="#9A3265">"</font></font><font color="#222222">.<br/>
<b>Say aloud each of the parts of speech used below.</b></font>
<p>7.
18. Bought myself a gigapet. A duck. Fed
it for awhile. Gave it a bath. Forgot about
it for almost a couple months. One day,
while cleaning, I found a chain and he
was there on the end. Hey, little duck.
Mad freaky, hoppin’ around with his hair
out, squawking diagonal lines. In a
tuxedo.</p>
<img src="whys-poignant-guide-to-ruby_pic0024.png"/><font color="#F0FAEE"><b>sidebar!</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0014.png"/><font face="Courier, serif"><font color="#9A3265">['</font><font color="#329A65">toast</font><font color="#9A3265">', '</font><font color="#329A65">cheese</font><font color="#9A3265">', '</font><font color="#329A65">wine</font><font color="#9A3265">'].</font><font color="#32659A"> each</font><font color="#9A3265"> { |</font><font color="#32659A">food</font><font color="#9A3265">| </font><font color="#32659A">print</font><font color="#9A3265">( </font><font color="#32659A">food</font><font color="#9A3265">.</font><font color="#32659A">capitalize</font><font color="#9A3265"> ) }</font></font><br/>
<font color="#222222">This caterpillar partakes of finer delicacies. An <i>array</i> starts this example. In the array, three <i>strings</i></font><font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">toast</font><font color="#9A3265">'</font></font><font color="#222222">, </font><br/>
<font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">cheese</font><font color="#9A3265">'</font></font><font color="#222222"><sub>, and </sub></font><font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">wine</font><font color="#9A3265">'</font></font><font color="#222222"><sub>. The whole array is trailed by a </sub><i>method</i></font><font face="Courier, serif"><font color="#32659A">each</font></font><font color="#222222"><sub>.</sub><br/>
Inside of a <i>block</i>, the <i>block argument</i></font><font face="Courier, serif"><font color="#32659A">food</font></font><font color="#222222">, travelling down its little waterslide into the block. The <i>method</i></font><br/>
<font face="Courier, serif"><font color="#32659A">capitalize</font></font><font color="#222222"> then capitalizes the first letter of the block argument, which has become <i>variable</i></font><font face="Courier, serif"><font color="#32659A">food</font></font><font color="#222222">. This<br/>
capitalized <i>string</i> is passed to kernel <i>method</i></font><font face="Courier, serif"><font color="#32659A">print</font></font><font color="#222222">.<br/>
Look over these examples once again. Be sure you recognize the parts of speech used. They each have a distinct look, don’t
they? Take a deep breath, press firmly on your temples. Now, let’s dissect a cow’s eye worth of code.<br/>
<b>4. An Example to Help You Grow Up</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0025.png"/><font color="#222222"><b>Say aloud each of the parts of speech used below.</b></font>
<font face="Courier, serif"><p><font color="#32659A">require</font>
<font color="#9A3265"> '</font><font color="#329A65">net/http</font><font color="#9A3265">'</font><br/>
<font color="#653200"><b>Net</b></font><font color="#9A3265">::</font><font color="#653200"><b>HTTP</b></font><font color="#9A3265">.</font><font color="#32659A">start</font><font color="#9A3265">( '</font><font color="#329A65">www.ruby-lang.org</font><font color="#9A3265">', </font><font color="#329A65">80</font><font color="#9A3265"> ) <b>do</b> |</font><font color="#32659A">http</font><font color="#9A3265">|</font><br/>
<font color="#32659A">print</font><font color="#9A3265">( </font><font color="#32659A">http</font><font color="#9A3265">.</font><font color="#32659A">get</font><font color="#9A3265">( '</font><font color="#329A65">/en/LICENSE.txt</font><font color="#9A3265">' ).</font><font color="#32659A">body</font><font color="#9A3265"> )</font></p>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">The first line is a method call. The <i>method</i> called </font><font face="Courier, serif"><font color="#32659A">require</font></font><font color="#222222"> is used. A <i>string</i> is passed to the method containing </font><br/>
<font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">net/http</font><font color="#9A3265">'</font></font><font color="#222222">. Think of this first line of code as a sentence. We have told Ruby to load some helper code, the</font><br/>
<font face="Courier, serif"><font color="#653200"><b>Net</b></font><font color="#9A3265">::</font><font color="#653200"><b>HTTP</b></font></font><font color="#222222"><sub> library.</sub><br/>
The next three lines all go together. The <i>constant</i></font><font face="Courier, serif"><font color="#653200"><b>Net</b></font><font color="#9A3265">::</font><font color="#653200"><b>HTTP</b></font></font><font color="#222222"> refers to the library we loaded above. We are using the <br/>
<i>method</i></font><font face="Courier, serif"><font color="#32659A">start</font></font><font color="#222222"> from the library. Into the method, we’re sending a <i>string</i></font><font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">www.ruby-lang.org</font><font color="#9A3265">'</font></font><font color="#222222"> and the <br/>
<i>number</i></font><font face="Courier, serif"><font color="#329A65">80</font></font><font color="#222222">.<br/>
The word </font><font face="Courier, serif"><font color="#9A3265"><b>do</b></font></font><font color="#222222"> opens a <i>block</i>. The block has one <i>block variable</i></font><font face="Courier, serif"><font color="#32659A">http</font></font><font color="#222222">. Inside the block, the <i>method</i></font><font face="Courier, serif"><font color="#32659A">print</font></font><font color="#222222"> is called.
What is being printed?<br/>
From the <i>variable</i></font><font face="Courier, serif"><font color="#32659A">http</font></font><font color="#222222">, the <i>method</i></font><font face="Courier, serif"><font color="#32659A">get</font></font><font color="#222222"> is called. Into </font><font face="Courier, serif"><font color="#32659A">get</font></font><font color="#222222">, we pass a <i>string</i> containing the path </font><br/>
<font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">/en/LICENSE.txt</font><font color="#9A3265">'</font></font><font color="#222222">. Now, notice that another method is chained onto </font><font face="Courier, serif"><font color="#32659A">get</font></font><font color="#222222">. The <i>method</i></font><font face="Courier, serif"><font color="#32659A">body</font></font><font color="#222222">. Then, the<br/>
block closes with </font><font face="Courier, serif"><font color="#9A3265"><b>end</b></font></font><font color="#222222">.
<p>Doing okay? Just out of curiousity, can you guess what this example does? Hopefully, you’re seeing some patterns in Ruby. If
not, just shake your head vigorously while you’ve got these examples in your mind. The code should break apart into
manageable pieces.</p>
For example, this pattern is used a number of times:</font><br/>
<font color="#443254"><i>variable . method ( method arguments )</i></font><br/>
<font color="#222222">You see it inside the block:</font><br/>
<font face="Courier, serif"><font color="#32659A">http</font><font color="#9A3265">.</font><font color="#32659A">get</font><font color="#9A3265">( '</font><font color="#329A65">/en/LICENSE.txt</font><font color="#9A3265">' )</font></font>
<font color="#222222"><p>We’re using Ruby to get a web page. You’ve probably used HTTP with your web browser. HTTP is the Hypertext Transfer 
Protocol. HTTP is used to transfer web pages across the internet. Conceptualize a bus driver that can drive across the internet
and bring back web pages for us. On his hat are stitched the letters HTTP.</p>
The variable </font><font face="Courier, serif"><font color="#32659A">http</font></font><font color="#222222"> is that bus driver. The <i>method</i> is a message to the bus driver. Go </font><font face="Courier, serif"><font color="#32659A">get</font></font><font color="#222222"> the web page called </font><br/>
<font face="Courier, serif"><font color="#9A3265">/</font><font color="#443254">en</font><font color="#9A3265">/</font><font color="#653200"><b>LICENSE</b></font><font color="#9A3265">.</font><font color="#32659A">txt</font></font><font color="#222222">.<br/>
So where you see the chain of methods:</font><br/>
<font face="Courier, serif"><font color="#32659A">http</font><font color="#9A3265">.</font><font color="#32659A">get</font><font color="#9A3265">( '</font><font color="#329A65">/en/LICENSE.txt</font><font color="#9A3265">' ).</font><font color="#32659A">body</font></font><br/>
<font color="#222222">Since we’ll be getting back a web page from the </font><font face="Courier, serif"><font color="#32659A">http</font></font><font color="#222222"> bus driver, you can read this in your brain as:</font><br/>
<font color="#443254"><i>web page .body</i></font><br/>
<font color="#222222">And this bit of code:</font><br/>
<font face="Courier, serif"><font color="#32659A">print</font><font color="#9A3265">( </font><font color="#32659A">http</font><font color="#9A3265">.</font><font color="#32659A">get</font><font color="#9A3265">( '</font><font color="#329A65">/en/LICENSE.txt</font><font color="#9A3265">' ).</font><font color="#32659A">body</font><font color="#9A3265"> )</font></font><br/>
<font color="#222222">This code gets the web page. We send a </font><font face="Courier, serif"><font color="#32659A">body</font></font><font color="#222222"> message to the web page, which gives us all the HTML in a <i>string</i>. We then</font><br/>
<font face="Courier, serif"><font color="#32659A">print</font></font><font color="#222222"> that string. See how the basic dot-method pattern happens in a chain. The next chapter will explore all these sorts
of patterns in Ruby. It’ll be good fun.<br/>
So, what does this code do? It prints the HTML for the Ruby home page to the screen. Using an web-enabled bus driver.<br/>
<b>5. And So, The Quick Trip Came To An Eased, Cushioned Halt</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0027.png"/><font color="#222222">So now we have a problem. I get the feeling that you are enjoying this way too much. And you haven’t even hit the chapter
where I use jump-roping songs to help you learn how to parse XML!
<p>If you’re already enjoying this, then things are really going bad. Two chapters from now you’ll be writing your own Ruby
programs. In fact, it’s right about there that I’ll have you start writing your own role-playing game, your own file-sharing
network (a la BitTorrent), as well as a program that will pull genuine random numbers from the Internet.</p>
<p>And you know (you’ve got to know!) that this is going to turn into
an obsession. First, you’ll completely forget to take the dog out.
It’ll be standing by the screen door, darting its head about, as
your eyes devour the code, as your fingers slip messages to the
computer.</p>
<p>Thanks to your neglect, things will start to break. Your mounds of
printed sheets of code will cover up your air vents. Your furnace
will choke. The trash will pile-up: take-out boxes you hurriedly
ordered in, junk mail you couldn’t care to dispose of. Your own
uncleanliness will pollute the air. Moss will infest the rafters, the</p></font>
<img src="whys-poignant-guide-to-ruby_pic0026.png"/><font color="#222222"><p>water will clog, animals will let themselves in, trees will come up through the foundations.</p>
<p>But your computer will be well-cared for. And you, Smotchkkiss, will have nourished it with your knowledge. In the eons you
will have spent with your machine, you will have become part-CPU. And it will have become part-flesh. Your arms will flow
directly into its ports. Your eyes will accept the video directly from DVI-24 pin. Your lungs will sit just above the processor,
cooling it.</p>
<p>And just as the room is ready to force itself shut upon you, just as all the overgrowth swallows you and your machine, you will
finish your script. You and the machine together will run this latest Ruby script, the product of your obsession. And the script
will fire up chainsaws to trim the trees, hearths to warm and regulate the house. Builder nanites will rush from your script,
reconstructing your quarters, retiling, renovating, chroming, polishing, disinfecting. Mighty androids will force your
crumbling house into firm, rigid architecture. Great pillars will rise, statues chiseled. You will have dominion over this palatial
estate and over the encompassing mountains and islands of your stronghold.</p>
So I guess you’re going to be okay. Whatdya say? Let’s get moving on this script of yours?</font>
<img src="whys-poignant-guide-to-ruby_pic0028.png"/><font color="#222222"><b>4.
<h3>Floating Little Leaves of Code</h3></b></font>
<img src="whys-poignant-guide-to-ruby_pic0029.jpg"/><img src="whys-poignant-guide-to-ruby_pic002A.png"/><img src="whys-poignant-guide-to-ruby_pic002B.png"/><font color="#222222"><p>I’ve never seen the ham do anything but leak juice. Today, our business in Ambrose Caverns is with the elf. He is a crucial part
of the next lessons. Let’s all make him feel welcome. Go start warming up your listening hats! (And please change out of those
ridiculous stirrup pants.)</p>
<p>A prompt warning: this lesson is much slower. Stay with it. This will be a long, deep breath. The most crucial stage of your
instruction. It may seem like you’re not learning much code at first. You will be learning concepts. By the end of this chapter,
you will know Ruby’s beauty. The coziness of the code will become a down sleeping bag for your own solace.</p>
<b>1. The Leaf as a Status Symbol in Ambrose</b><br/>
Alright, Elf. Give us a quick rundown of the currency issues you’ve faced there in your kingdom.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic002C.png"/><font color="#222222"><p>Yeah, that’s not the way I remember it. This Elf was paging me constantly. When I refused to call him back, he somehow left a
message on my pager. Meaning: it beeped a couple times and then printed out a small slip of paper. The slip said something to
the effect of, “Get down here quick!” and also, “We’ve got to rid the earth of this scourge of enterpreneurial caterpillars, these
twisted insect vikings are suffocating my blue crystals!”</p>
Lately, the exchange rate has settled down between leaves and crystals. One treegrown note is worth five crystals. So the basic
money situation looks like this:</font><br/>
<font face="Courier, serif"><font color="#32659A">blue_crystal</font><font color="#9A3265"> = </font><font color="#329A65">1</font><br/>
<font color="#32659A">leaf_tender</font><font color="#9A3265"> = </font><font color="#329A65">5</font></font><br/>
<font color="#222222">This example is, like, <i>totally</i> last chapter. Still. It’s a start. We’re setting two <i>variables</i>. The <b>equals sign</b> is used for 
<i>assignment</i>.</font>
<p><font color="#222222">Now </font>
<font face="Courier, serif"><font color="#32659A">leaf_tender</font></font><font color="#222222"> represents the number </font><font face="Courier, serif"><font color="#329A65">5</font></font><font color="#222222"> (as in: five blue crystals.) This concept right here is <b>half of Ruby</b>.
We’re <i>defining</i>. We’re <i>creating</i>. This is half of the work. Assignment is the most basic form of defining.
You can’t complain though, can you Elf? You’ve built an empire from cashing your blue crystals into the new free market
among the forest creatures. (And even though he’s an elf to us, he’s a tall monster to them.)</font></p>
<img src="whys-poignant-guide-to-ruby_pic002F.png"/><font color="#222222">Nonono. Hang on a sec. You’re not ready for what the Elf here is doing in his caves.
You’ll think it’s all positively inhumane, naughty, sick, tweeested, yada yada.</font><br/>
<b><font color="#F0FAEE">sidebar!</font>
<font color="#545454">The Scarf Eaters</font>
<p><font color="#222222">Now You’re Going to Hear the Animal Perfect Mission
Statement Because This Is A Book And We Have Time And No
Rush, Right?</font></p></b>
<p>I hate to intrude upon your instruction, but
I’ve already walked all over it enough to
warrant some further disregard. Can I go
over my next project with you?</p>
<p><font color="#222222">Back, back, way back before speedboats, I owned a prize race horse who took a
stumble on the track. She did ten front flips and crashed into a guy who was carrying a
full jar of mayonnaisse. We had blood and mayonnaisse up and down the track.
Needless to say, she was a disaster.</font></p>
<p>I’ve pledged to write another book.<br/>
(<i>Trombones</i>.) The good news is that I won’t
actually be writing any of it. You won’t have
to endure any more of this inane blathering.</p>
<font color="#222222"><p>The vet took one look at her and swore she’d never walk again. Her legs were gone and
the vet wouldn’t allow a legless horse to just sit around. We’d need to put her down. He
swore his life and career on it, insisting we divide into two parallel lines. The people
who could not refute the doctor’s claims on one side; those too stubborn to accept his
infallable medical reasoning on the other. The Elf, his pet ham, and I were the only
ones in that second line.</p>
<p>So while the others heaped up trophies and great wreaths around the horse, bidding it
a fond farewell before the bullet came to take him home, the Elf and I frantically
pawed the Internet for answers. We took matter into our own hands, cauterizing her
leg wounds with live crawdads. It worked great! We now had a horse again. Or at least:
a horse body with a crustaceous abdominal frosting.</p>
She scurried everywhere after that and lived for years in pleasantly moist underground
cavities.</font>
<p>It’s over between me and words. I’d love to
stick around and exploit them each, one
after another, but it’s all becoming quite
predictable, wouldn’t you say? Eventually,
they will all be used and I’d have to come up
with fake words and that would be way too
cnoofy.</p>
<p>Now. The deal isn’t cut yet, but I’m in
negotiations with Anna Quindlen to do my
ghost writing. We’re tag-teaming on a book
that’s going to blow the (Poignant) Guide
right out of your hands. To put it bluntly, the
Guide will be worthless. You won’t be able to
pile enough pomegranates on top of the
thing.</p>
<font color="#222222"><p>Animal Perfect is now the future of animal enhancement. They build new animals and
salvage old-style animals for parts. Of course, they’ve come a long ways. When Animal
Perfect started, you’d see a full-grown bear walk into Animal Perfect and you’d see a
full-grown bear with sunglasses walk out. Completely cheesy.</p>
Stick around and you’ll see a crab with <i>his own jet pack</i>. That’s a new 2004 model
jetcrab.</font>
<p>So this new book. The Scarf Eaters. It’s a
coming-of-age novel. But it’s also a<br/>
beginner’s guide to Macromedia Flash. It’s
like Judy Blume crossed Praystation. It’s like
0sil8 starring Hillary Duff.</p>
<font color="#222222">But now, the whole operation is up and running. And the cleanliness of the place is</font>
<p>I don’t want to give away the plot at all, but
to tug your appetite I’ll just say this: one kid</p>
<img src="whys-poignant-guide-to-ruby_pic002D.png"/><p>talks to his dead brother in ActionScript.</p>
<img src="whys-poignant-guide-to-ruby_pic002E.png"/><font color="#222222"><p>astonishing. All the equipment is so shiny. Everything is in chrome. Oh, and all the
staff have concealed weapons. They’re trained to kill anyone who enters unannounced.
Or, if they run out of bullets, they’re trained to pistol whip anyone who enters
unannounced.</p>
Elf, make me a starmonkey.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0032.png"/><font color="#222222">Some imaginary Ruby for you:</font><br/>
<font face="Courier, serif"><font color="#32659A">pipe</font><font color="#9A3265">.</font><font color="#32659A">catch_a_star</font></font><br/>
More to come.<br/>
<img src="whys-poignant-guide-to-ruby_pic0030.png"/><font color="#F0FAEE"><b>sidebar!</b></font><br/>
<font color="#222222">Variable </font><font face="Courier, serif"><font color="#32659A">pipe</font></font><font color="#222222">. Method </font><font face="Courier, serif"><font color="#32659A">catch_a_star</font></font><font color="#222222">. A lot of Rubyists like to think of methods as a message. Whatever comes<br/>
before the dot is handed the message. The above code tells the </font><font face="Courier, serif"><font color="#32659A">pipe</font></font><font color="#222222"> to </font><font face="Courier, serif"><font color="#32659A">catch_a_star</font></font><font color="#222222">.<br/>
This is the <b>second half</b> of Ruby. Putting things in motion. These things you define and create in the first half start to <i>act</i> in 
the second half.<br/>
1.
Defining things.<br/>
2.
Putting those things into action.<br/>
So what if the star catching code works? Where does the star go?</font><br/>
<font face="Courier, serif"><font color="#32659A">captive_star</font><font color="#9A3265"> = </font><font color="#32659A">pipe</font><font color="#9A3265">.</font><font color="#32659A">catch_a_star</font></font><br/>
<font color="#222222">See, it’s up to you to collect the miserable, little star. If you don’t, it’ll simply vanish. Whenever you use a method, you’ll always
be given something back. You can ignore it or use it.<br/>
<i>If you can learn to use the answers that methods give you back, then you will <b>dominate</b>.</i><br/>
Quickly then.</font><br/>
<font face="Courier, serif"><font color="#32659A">starmonkey</font><font color="#9A3265"> = </font><font color="#32659A">ratchet</font><font color="#9A3265">.</font><font color="#32659A">attach</font><font color="#9A3265">( </font><font color="#32659A">captive_monkey</font><font color="#9A3265">, </font><font color="#32659A">captive_star</font><font color="#9A3265"> )</font></font><br/>
<font color="#222222">The </font><font face="Courier, serif"><font color="#32659A">ratchet</font></font><font color="#222222"> gets an </font><font face="Courier, serif"><font color="#32659A">attach</font></font><font color="#222222"> message. What needs to be attached? The <i>method arguments</i>: the </font><br/>
<font face="Courier, serif"><font color="#32659A">captive_monkey</font></font><font color="#222222"> and the </font><font face="Courier, serif"><font color="#32659A">captive_star</font></font><font color="#222222">. We are given back a </font><font face="Courier, serif"><font color="#32659A">starmonkey</font></font><font color="#222222">, which we have decided <br/>
to hang on to.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0034.png"/><font color="#222222">This is turning out to be such a short, little proggie that I’m just going to put it all together as one statement.</font><br/>
<font face="Courier, serif"><font color="#32659A">starmonkey</font><font color="#9A3265"> = </font><font color="#32659A">ratchet</font><font color="#9A3265">.</font><font color="#32659A">attach</font><font color="#9A3265">( </font><font color="#32659A">captive_monkey</font><font color="#9A3265">, </font><font color="#32659A">pipe</font><font color="#9A3265">.</font><font color="#32659A">catch_a_star</font><font color="#9A3265"> ) +</font>
<font color="#32659A">deco_hand_frog</font></font><br/>
<font color="#222222">See how </font><font face="Courier, serif"><font color="#32659A">pipe</font><font color="#9A3265">.</font><font color="#32659A">catch_a_star</font></font><font color="#222222"> is right in the arguments for the method? The caught star will get passed right to the
ratchet. No need to find a place to put it. Just let it go.<br/>
<b>2. Small and Nearly Worthless</b>
<p>The hotel here in Ambrose is no good at all. The beds are all lumpy. The elevator is tiny. One guy put all his bags in the
elevator and found out there wasn’t room for him. He hit the button and chased up the stairs after it all. But the stairwell
turned out to be too narrow and his shoulders got wedged going up.</p>
The soap mini-bars they give you are sized down for elves, so it’s impossible to work up a lather. I hate it. I keep mistaking
them for contact lenses.
<p>I turned on the faucet and nothing came out. Thing is: Ambrose is a place with magical properties, so I took a chance. I put my
hands under the spigot. Invisible, warm wetness. I felt the hurried sensation of running water, darting through my fingers.
When I took my hands away, they were dry and clean.</p>
It was an amazing nothingness to experience. It was just like </font><font face="Courier, serif"><font color="#653200"><b>nil</b></font></font><font color="#222222">.<br/>
<b>Nil</b><br/>
In Ruby, </font><font face="Courier, serif"><font color="#653200"><b>nil</b></font></font><font color="#222222"> represents an emptiness. It is <b>without value</b>. It isn’t zero. Zero is a number.<br/>
It’s Ruby’s own walking dead, a flatlined keyword. You can’t add to it, it doesn’t evolve. But it’s terribly popular. This skeleton’s
smiling in all the pictures.</font><br/>
<font face="Courier, serif"><font color="#32659A">plastic_cup</font><font color="#9A3265"> = </font><font color="#653200"><b>nil</b></font></font><br/>
<font color="#222222">The above </font><font face="Courier, serif"><font color="#32659A">plastic_cup</font></font><font color="#222222"> is <b>empty</b>. You could argue that the </font><font face="Courier, serif"><font color="#32659A">plastic_cup</font></font><font color="#222222"> contains something, a </font><font face="Courier, serif"><font color="#653200"><b>nil</b></font></font><font color="#222222">. The</font><br/>
<font face="Courier, serif"><font color="#653200"><b>nil</b></font></font><font color="#222222"> represents the emptiness, though, so go ahead and call it empty.<br/>
Some of you who have programmed before will be tempted to say the </font><font face="Courier, serif"><font color="#32659A">plastic_cup</font></font><font color="#222222"> is <b>undefined</b>. How about let’s
not. When you say a variable is undefined, you’re saying that Ruby simply has no recollection of the variable, it doesn’t know
the var, it’s absolutely non-existent.<br/>
But Ruby is aware of the </font><font face="Courier, serif"><font color="#32659A">plastic_cup</font></font><font color="#222222">. Ruby can easily look in the </font><font face="Courier, serif"><font color="#32659A">plastic_cup</font></font><font color="#222222">. It’s <b>empty</b>, but not 
<b>undefined</b>.<br/>
<b>False</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0037.png"/><font color="#222222"><p><i>The cat Trady Blix. Frozen in emptiness. Immaculate whiskers
rigid. Placid eyes of lake. Tail of warm icicle. Sponsored by a Very
Powerful Pause Button.</i></p>
The darkness surrounding Blix can be called <b>negative space</b>. Hang on to
that phrase. Let it suggest that the emptiness has a negative connotation. In
a similar way, </font><font face="Courier, serif"><font color="#653200"><b>nil</b></font></font><font color="#222222"> has a slightly sour note that it whistles.</font>
<p><font color="#222222">Generally speaking, 
<b>everything in Ruby has a positive charge to 
it</b>. This spark flows through strings, numbers, regexps, all of it. Only two
keywords wear a shady cloak: </font><font face="Courier, serif"><font color="#653200"><b>nil</b></font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#653200"><b>false</b></font></font><font color="#222222"> draggin us down.</font></p>
<font color="#222222">You can <b>test that charge</b> with an </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> keyword. It looks very much like the </font><font face="Courier, serif"><font color="#9A3265"><b>do</b></font></font><font color="#222222"> blocks we saw in the last chapter, in that <br/>
both end with an </font><font face="Courier, serif"><font color="#9A3265"><b>end</b></font></font><font color="#222222">.</font>
<p><font face="Courier, serif"><font color="#9A3265"><b>if</b></font>
<font color="#32659A"> plastic_cup<br/>
print</font><font color="#9A3265"> "</font><font color="#329A65">Plastic cup is on the up 'n' up!</font><font color="#9A3265">" <br/>
<b>end</b></font></font></p>
<font color="#222222">If </font><font face="Courier, serif"><font color="#32659A">plastic_cup</font></font><font color="#222222"> contains either </font><font face="Courier, serif"><font color="#653200"><b>nil</b></font></font><font color="#222222"> or </font><font face="Courier, serif"><font color="#653200"><b>false</b></font></font><font color="#222222">, you won’t see anything print to the screen. They’re not on the</font><br/>
<font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> guest list. So </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> isn’t going to run any of the code it’s protecting.<br/>
But </font><font face="Courier, serif"><font color="#653200"><b>nil</b></font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#653200"><b>false</b></font></font><font color="#222222"> need not walk away in shame. They may be of questionable character, but </font><font face="Courier, serif"><font color="#9A3265"><b>unless</b></font></font><font color="#222222"> runs a </font><br/>
<font face="Courier, serif"><font color="#9A3265"><b>unless</b></font></font><font color="#222222"> keyword has a policy of <b>only allowing those with </b>smaller establishment that caters to the bedraggled. The <br/>
<b>a negative charge in</b>. Who are: </font><font face="Courier, serif"><font color="#653200"><b>nil</b></font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#653200"><b>false</b></font></font><font color="#222222">.</font>
<p><font face="Courier, serif"><font color="#9A3265"><b>unless</b></font>
<font color="#32659A"> plastic_cup<br/>
print</font><font color="#9A3265"> "</font><font color="#329A65">Plastic cup is on the down low.</font><font color="#9A3265">" <br/>
<b>end</b></font></font></p>
<font color="#222222">You can also use </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#9A3265"><b>unless</b></font></font><font color="#222222"> at the <b>end of a single line of code</b>, if that’s all that is being protected.</font><br/>
<font face="Courier, serif"><font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">Yeah, plastic cup is up again!</font><font color="#9A3265">" <b>if</b></font><font color="#32659A"> plastic_cup
print</font><font color="#9A3265"> "</font><font color="#329A65">Hardly. It's down.</font><font color="#9A3265">" <b>unless</b></font><font color="#32659A"> plastic_cup</font></font><br/>
<font color="#222222">And another nice trick: stack the </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#9A3265"><b>unless</b></font></font><font color="#222222">.</font><br/>
<font face="Courier, serif"><font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">We're using plastic 'cause we don't have glass.</font><font color="#9A3265">" <b>if</b></font><font color="#32659A"> plastic_cup</font><font color="#9A3265"><b> unless</b></font><font color="#32659A"> glass_cup</font></font><br/>
<font color="#222222">This trick is a gorgeous way of expressing, <i>Do this only if <b>a* is true and *b</b> isn’t true</i>.<br/>
Now that you’ve met </font><font face="Courier, serif"><font color="#653200"><b>false</b></font></font><font color="#222222">, I’m sure you can see what’s on next.</font><br/>
<b><font color="#F0FAEE">sidebar!</font>
<font color="#222222">True</font></b><br/>
<img src="whys-poignant-guide-to-ruby_pic0038.png"/><font color="#545454"><b>Make Your Own Starmonkey!</b></font>
<font face="Courier, serif"><font color="#32659A">approaching_guy</font><font color="#9A3265"> = </font><font color="#653200"><b>true</b></font></font><br/>
<img src="whys-poignant-guide-to-ruby_pic002E.png"/><p><font color="#222222">I saw </font>
<font face="Courier, serif"><font color="#653200"><b>true</b></font></font><font color="#222222"> at the hotel buffet tables today. I cannot stand that guy. His stance is
way too wide. And you’ve never met anyone who planted his feet so hard in the
ground. He wears this corny necklace made out of shells. His face exudes this brash
confidence. (You can tell he’s exerting all of his restraint just to keep from bursting
into Neo flight.)</font></p>
<font color="#222222">To be honest, I can’t be around someone who always has to be right. This </font><font face="Courier, serif"><font color="#653200"><b>true</b></font></font><font color="#222222"> is
always saying, “A-OK.” Flashing hang ten. And seriously, he loves that necklace. Wears
it constantly.</font><br/>
1. Turn a mug upside-down.<br/>
<font color="#222222">As you’d suspect, he’s backstage at everything on the </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> event schedule.</font>
2. Attach an apple with a rubber band.<br/>
<font face="Courier, serif"><font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">Hugo Boss</font><font color="#9A3265">" </font><b><font color="#9A3265">if</font><font color="#653200"> true</font></b></font><font color="#443254"><i> acts like </i></font><font face="Courier, serif"><font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">Hugo Boss</font><font color="#9A3265">"</font></font><font color="#443254"><i> .</i></font>
<p><font color="#222222">Occassionally, </font>
<font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> will haul out the velvet ropes to exercise some crowd control. The
<b>double equals</b> gives the appearance of a short link of ropes, right along the sides of 
a red carpet where only </font><font face="Courier, serif"><font color="#653200"><b>true</b></font></font><font color="#222222"> can be admitted.</font></p>
<p><font face="Courier, serif"><font color="#9A3265"><b>if</b></font>
<font color="#32659A"> approaching_guy</font><font color="#9A3265"> == </font><font color="#653200"><b>true</b></font><br/>
<font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">That necklace is classic.</font><font color="#9A3265">" <br/>
<b>end</b></font></font></p>
<font color="#222222">The double equals is simply <b>an ID check</b>. Do the gentleman at both ends of this
rope appear to match?<br/>
In this way, you control who </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> lets in. If you have a hard time getting along with</font><br/>
<font face="Courier, serif"><font color="#653200"><b>true</b></font></font><font color="#222222"> as I do, you can heartily welcome </font><font face="Courier, serif"><font color="#653200"><b>false</b></font></font><font color="#222222">.</font>
<p><font face="Courier, serif"><font color="#9A3265"><b>if</b></font>
<font color="#32659A"> approaching_guy</font><font color="#9A3265"> == </font><font color="#653200"><b>false</b></font><br/>
<font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">Get in here, you conniving devil.</font><font color="#9A3265">" <br/>
<b>end</b></font></font></p>
<font color="#222222">Same goes for </font><font face="Courier, serif"><font color="#9A3265"><b>unless</b></font></font><font color="#222222">. The gateway is yours. Take possession of it.<br/>
<b>Again, I Want You to Dominate</b><br/>
Now, you want a head trip? <b>The double equals sign is a method.</b> Can you
guess how it works? Here, check it out with the dot and parens:</font><br/>
<font face="Courier, serif"><font color="#32659A">approaching_guy</font><font color="#9A3265">.==( </font><font color="#32659A">true</font><font color="#9A3265"> )</font></font><br/>
<font color="#222222">Ruby allows the shortcut, though. You can drop the dot and back away slowly.<br/>
Now, do you remember what you need to do to <b>dominate</b> in Ruby? <i>Use the 
answers the methods give you.</i></font><br/>
3. Shove car keys into the sides of the apple.<br/>
4. Glue star face.<br/>
<img src="whys-poignant-guide-to-ruby_pic003D.png"/><img src="whys-poignant-guide-to-ruby_pic0039.png"/>You have two complementary star faces 
waiting in your account.<br/>
<img src="whys-poignant-guide-to-ruby_pic002E.png"/><p><font face="Courier, serif"><b><font color="#9A3265">if</font>
<font color="#653200"> nil</font></b><font color="#9A3265">.==( </font><font color="#32659A">true</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">This will never see realization.</font><font color="#9A3265">"<br/>
<b>end</b></font></font></p>
<font color="#222222">In the above, how is the method’s answer being used?<br/>
Let’s take the statement </font><font face="Courier, serif"><font color="#653200"><b>nil true</b></font></font><font color="#222222">. This will fail every time. No match. When<br/>
there’s no match, the double equals method answers with </font><font face="Courier, serif"><font color="#653200"><b>false</b></font></font><font color="#222222">. A shake of the<br/>
head. That answer is given to </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222">, who can’t accept a </font><font face="Courier, serif"><font color="#653200"><b>false</b></font></font><font color="#222222">. The </font><font face="Courier, serif"><font color="#32659A">print</font></font><font color="#222222"> never 
sees realization.</font><br/>
<font face="Courier, serif"><font color="#32659A">at_hotel</font><font color="#9A3265"> = </font><font color="#653200"><b>true</b></font><br/>
<font color="#32659A">email</font><font color="#9A3265"> = <b>if</b></font><font color="#32659A"> at_hotel</font>
<p><font color="#9A3265">"</font>
<font color="#329A65">why@hotelambrose.com</font><font color="#9A3265">" 
<b>else</b><br/>
"</font><font color="#329A65">why@drnhowardcham.com</font><font color="#9A3265">" 
<b>end</b></font></p></font>
<font color="#222222">Even though </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> isn’t a method, </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> does give a return answer. Look at the above<br/>
and wonder over what happens when </font><font face="Courier, serif"><font color="#32659A">at_hotel</font></font><font color="#222222"> is </font><font face="Courier, serif"><font color="#653200"><b>true</b></font></font><font color="#222222">.<br/>
The </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> will return the answer given by the code it chooses to run. In the case of</font><br/>
<font face="Courier, serif"><font color="#32659A">at_hotel</font></font><font color="#222222"> being true, the first string, my e-mail address at Hotel Ambrose, will <br/>
be returned. The </font><font face="Courier, serif"><font color="#9A3265"><b>else</b></font></font><font color="#222222"> keyword marks code which will run, should </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> fail. If</font><br/>
<font face="Courier, serif"><font color="#32659A">at_hotel</font></font><font color="#222222"> is false, the </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> will answer with my e-mail address at Dr. N. Howard
Cham’s office, where I take my apprenticeship.</font><br/>
Standard, placid.<br/>
<img src="whys-poignant-guide-to-ruby_pic003E.png"/>Eating chalk.<br/>
<font color="#F0FAEE"><b>sidebar!</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic002E.png"/><font color="#222222">Should you have several lines of code in an </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> or </font><font face="Courier, serif"><font color="#9A3265"><b>unless</b></font></font><font color="#222222">, <b>only the answer from the last full statement will 
be used</b>.</font>
<font face="Courier, serif"><p><font color="#32659A">email</font>
<font color="#9A3265"> = <b>if</b></font><font color="#32659A"> at_hotel<br/>
address</font><font color="#9A3265"> = "</font><font color="#329A65">why</font><font color="#9A3265">" </font><br/>
<font color="#32659A">address</font><font color="#9A3265"> &lt;&lt; "</font><font color="#329A65">@hotelambrose</font><font color="#9A3265">" </font>
<font color="#32659A">address</font><font color="#9A3265"> &lt;&lt; "</font><font color="#329A65">.com</font><font color="#9A3265">" </font></p>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">Three lines of code inside the </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222">. The first line assigns a string with my name in it to a variable. The second and third lines<br/>
add the rest of my e-mail address on to the end. The </font><b><font color="#222222">double less-than </font><font face="Courier, serif"><font color="#9A3265">&lt;&lt;</font></font></b><font color="#222222"><b> is the concatenation operator</b>. To
concatenate is to <b>append</b>, or <b>add to the end</b>.<br/>
Just as we saw with the equality checker </font><font face="Courier, serif"><font color="#9A3265">==</font></font><font color="#222222">, the concatenator is a method. After adding to the end of the string, the</font><br/>
<font face="Courier, serif"><font color="#9A3265">address.&lt;&lt;( </font></font><font color="#222222">concatenator also <b>answers with that very string</b>. So, the third line, which could be read as </font><br/>
<font face="Courier, serif"><font color="#9A3265">".com" )</font></font><font color="#222222">, gives back </font><font face="Courier, serif"><font color="#9A3265">address</font></font><font color="#222222">, which the </font><font face="Courier, serif"><font color="#9A3265">if</font></font><font color="#222222"> then hands back for </font><font face="Courier, serif"><font color="#9A3265">email</font></font><font color="#222222">'s assignment.<br/>
Here’s a question: what if the </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> fails? What if </font><font face="Courier, serif"><font color="#32659A">at_hotel</font></font><font color="#222222"> is false in the above example? Is anything returned? Nothing<br/>
is assigned to </font><font face="Courier, serif"><font color="#32659A">email</font></font><font color="#222222">, right?<br/>
Yes, nothing is returned. By which I mean: </font><font face="Courier, serif"><font color="#653200"><b>nil</b></font></font><font color="#222222"> is returned. And often </font><font face="Courier, serif"><font color="#653200"><b>nil</b></font></font><font color="#222222"> is a very useful answer.</font><br/>
<font face="Courier, serif"><font color="#32659A">print</font><font color="#9A3265">( <b>if</b></font><font color="#32659A"> at_hotel</font><font color="#9A3265">.</font><font color="#32659A">nil?</font>
<p><font color="#9A3265">"</font>
<font color="#329A65">No clue if he's in the hotel.</font><font color="#9A3265">" 
<b>elsif</b></font><font color="#32659A"> at_hotel</font><font color="#9A3265"> == </font><font color="#653200"><b>true</b></font><br/>
<font color="#9A3265">"</font><font color="#329A65">Definitely in.</font><font color="#9A3265">" <br/>
<b>elsif</b></font><font color="#32659A"> at_hotel</font><font color="#9A3265"> == </font><font color="#653200"><b>false</b></font><br/>
<font color="#9A3265">"</font><font color="#329A65">He's out.</font><font color="#9A3265">" <br/>
<b>else</b><br/>
"</font><font color="#329A65">The system is on the freee-itz.</font><font color="#9A3265">" 
<b>end</b> )</font></p></font>
<font color="#222222">You can use the </font><font face="Courier, serif"><font color="#32659A">nil?</font></font><font color="#222222"> method on any value in Ruby. Again, think of it as a message. To the value: “Are you nil? Are you
empty?”<br/>
If </font><font face="Courier, serif"><font color="#32659A">at_hotel</font></font><font color="#222222"> is empty, Ruby doesn’t have any idea if I’m in the hotel or not. So </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> answers with the “No clue” string. In<br/>
order to handle the </font><font face="Courier, serif"><font color="#653200"><b>true</b></font></font><font color="#222222"> or </font><font face="Courier, serif"><font color="#653200"><b>false</b></font></font><font color="#222222"> possibilities, the </font><font face="Courier, serif"><font color="#9A3265"><b>elsif</b></font></font><font color="#222222"> keyword is used. While you can have only one </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> and <br/>
one </font><font face="Courier, serif"><font color="#9A3265"><b>else</b></font></font><font color="#222222">, you can fill the inbetween with an exorbitant number of </font><font face="Courier, serif"><font color="#9A3265"><b>elsif</b></font></font><font color="#222222"> keywords. Each </font><font face="Courier, serif"><font color="#9A3265"><b>elsif</b></font></font><font color="#222222"> acts as </font><b><font color="#222222">a further </font><br/>
<font face="Courier, serif"><font color="#9A3265">if</font></font></b><font color="#222222"><b> test</b>. Checking for a positive charge.<br/>
If you’re doing okay at this point, then you’re in tip-top shape for the rest of the book. You have seen some pretty tough code in
the last few examples. You strong fellow.<br/>
<b>3. Chaining Delusions Together</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0041.png"/><font color="#222222"><p>You finish reading the above comic and retire to your daybed for reflection. It’s one of those canopy affairs which is always
logjammed with pillows. You sit atop the pile, gazing out upon the world. You see the tall smokestacks belching wide spools of
fume and haze. The tangled concourses of freeways smattered with swift, shimmering traffic is but a gently pulsing eye muscle
from your vantage point.</p>
It is all so fantastic. How the colors of the horizon spread across the landscape as a great mix of butter and grease with a
tablespoon of vanilla extract.<br/>
Yet, for all of the beauty which beckons for your attention, the images of the Elf and his Olympic Hopeful return. And more
especially, that order for <b>55,000</b> starmonkeys. <i>55,000 starmonkeys</i>, you think. <i>Fifty-five Thousand</i>.
<p>You think of just the number itself. 
<i>55,000</i>. It’s walking down a road. It might be in a forest, you don’t know for sure as your
eyes are fixed right on the number itself. It’s stopping and talking to people. To tennis players, to a men’s choral group. There
is merriment and good feeling. When it laughs, its lower zeros quiver with glee.</p>
<p>You want to talk to it. You want to skip along that forest trail with it. You want to climb aboard a jet bound to Brazil with it.
And after five days and four nights at the leisureful Costa do Sauipe Marriott Resort &amp; Spa, to marry it, to bear a family of 
55,000 starmonkeys with it. To take possession of Nigeria with it.</p>
With a flying leap, you dismount your pillow tower of isolation. Scrambling with the key, you unlock your roll top desk and
pull out a sheet of paper, holding it firmly upon the desk. You begin scribbling.</font>
<p><font color="#443254"><i>Take possession of Nigeria with my new 55,000 starmonkeys
... Over it, 
build Nigeria-sized <b>vegetarians only</b> casino and go-cart arena...
Wings… we could have our own special sauce on the wings that’s different...
Mustard + codeine = Smotchkkiss’ Starry Starmonkey Glow Sauce...
Franchise, franchise… logos... Employee instructional videos... When you 
give the customer change, let them reach inside the frog on your hand to get
it... If they have no change, at least put their reciept some place where they 
have to touch the frog... We’re leveling the playing field here... Advertise
cheap pizza, let’s make our money off soda... Collect all 4 frosted glasses...</i></font></p>
<font color="#222222"><p>Wow, the ideas are really coming out. You literally had to smack yourself to stop. We need to put these in a safe place.
Actually, we should store them on your computer and mangle the words. You look out the window and watch for FBI. I’m
going to start this script.</p>
<b>The Flipping Script</b></font><br/>
<font face="Courier, serif"><font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">Type and be diabolical: </font><font color="#9A3265">" </font>
<font color="#32659A">idea_backwards</font><font color="#9A3265"> = </font><font color="#32659A">gets</font><font color="#9A3265">.</font><font color="#32659A">reverse</font></font><br/>
<font color="#222222">Let this script be your confidante. It will ask for evil plans and turn their letters backwards. The </font><font face="Courier, serif"><font color="#32659A">gets</font></font><font color="#222222"> method is <b>built <br/>
into Ruby</b>. It’s a <b>kernel method</b> like </font><font face="Courier, serif"><font color="#32659A">print</font></font><font color="#222222">. This method </font><font face="Courier, serif"><font color="#32659A">gets</font></font><font color="#222222"> will pause Ruby to let you type. When you hit<br/>
<i>Enter</i>, </font><font face="Courier, serif"><font color="#32659A">gets</font></font><font color="#222222"> will then stop paying attention to your keyboard punchings and answer back to Ruby with a string that 
contains everything you typed.<br/>
The </font><font face="Courier, serif"><font color="#32659A">reverse</font></font><font color="#222222"> method is then used on the string that </font><font face="Courier, serif"><font color="#32659A">gets</font></font><font color="#222222"> is giving back. The</font>
<p><font face="Courier, serif"><font color="#32659A">reverse</font></font>
<font color="#222222"> method is part of the </font><font face="Courier, serif"><font color="#653200"><b>String</b></font></font><font color="#222222"> class. Which means that </font><b><font color="#222222">anything 
which is a string has the </font><font face="Courier, serif"><font color="#32659A">reverse</font></font></b><font color="#222222"><b> method available</b>. More on classes</font></p>
<font color="#222222">in the next chapter, for now just know that <b>a lot of methods are only 
available with certain types of values</b>.<br/>
I don’t think </font><font face="Courier, serif"><font color="#32659A">reverse</font></font><font color="#222222"> is going to cut it. The authorities only need to put a mirror
to “airegiN fo noissessop ekaT.” Bust us when starmonkeys start to touch down in
Lagos.<br/>
The capital letters give it away. Maybe if we uppercase all letters in the string before we
reverse it.</font><br/>
<b><font color="#F0FAEE">sidebar!</font>
<font color="#545454">Get Ahead with The Tiger’s Vest</font></b><br/>
<img src="whys-poignant-guide-to-ruby_pic0042.png"/><img src="whys-poignant-guide-to-ruby_pic002E.png"/><font face="Courier, serif"><font color="#32659A">idea_backwards</font><font color="#9A3265"> = </font><font color="#32659A">gets</font><font color="#9A3265">.</font><font color="#32659A">upcase</font><font color="#9A3265">.</font><font color="#32659A">reverse</font></font><br/>
<font color="#222222"><b>Your Repetitiveness Pays Off</b>
<p>You hand me a legal pad, doused in illegible shorthand. Scanning over it, I start to
notice patterns. That you seem to use the same set of words repeatedly in your
musings. Words like <i>starmonkey</i>, <i>Nigeria</i>, <i>firebomb</i>. Some phrases even. <i>Put the 
kabosh on.</i> That gets said a lot.</p>
Let us disguise these foul terms, my brother. Let us obscure them from itching eyes</font>
<p>Want to start using Ruby alongside your 
reading? Split your attention and head off to
<font color="#541A8C">Expansion Pak I: The Tiger’s Vest</font>, a trite
mini-chapter which will aid you in installing
Ruby. In addition, you’ll learn how to use Irb
and Ri, two teaching aids that come with
Ruby which will really speed you up in your
learning.</p>
<img src="whys-poignant-guide-to-ruby_pic0044.png"/><font color="#F0FAEE"><b>sidebar!</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic002E.png"/><font color="#222222">that cry to know our delicate schemes and to thwart us from having great pleasure and many go-carts. We will replace them 
with the most innocent language. New words with secret meaning.<br/>
I start up a word list, a Ruby </font><font face="Courier, serif"><font color="#653200"><b>Hash</b></font></font><font color="#222222">, which contains these oft seen and dangerous words of yours. In the Hash, each 
dangerous word is matched up against a code word (or phrase). The code word will be swapped in for the real word.</font>
<font face="Courier, serif"><p><font color="#32659A">code_words</font>
<font color="#9A3265"> = {<br/>
'</font><font color="#329A65">starmonkeys</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">Phil and Pete, those prickly chancellors of the New Reich</font><font color="#9A3265">',
'</font><font color="#329A65">catapult</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">chucky go-go</font><font color="#9A3265">', '</font><font color="#329A65">firebomb</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">Heat-Assisted Living</font><font color="#9A3265">',
'</font><font color="#329A65">Nigeria</font><font color="#9A3265">' =&gt; "</font><font color="#329A65">Ny and Jerry's Dry Cleaning (with Donuts)</font><font color="#9A3265">",<br/>
'</font><font color="#329A65">Put the kabosh on</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">Put the cable box on</font><font color="#9A3265">'</font></p>
<font color="#9A3265">}</font></font><br/>
<font color="#222222">The words which are placed before the arrow are called <b>keys</b>. The words after the arrows, the definitions, are often just called
<b>values</b>.<br/>
<sub>Notice the double quotes around </sub></font><font face="Courier, serif"><b><font color="#653200">Ny</font><font color="#9A3265"> and</font><font color="#653200"> Jerry</font></b><font color="#9A3265">'</font><font color="#329A65">s Dry Cleaning (with Donuts)</font></font><font color="#222222"><sub>. Since a</sub><br/>
single quote is being used an apostrophe, we can’t use single quotes around the string. (Although, you can use single quotes if<br/>
<sub>you put a backslash before the apostrophe such as: </sub></font><font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">Ny and Jerry\'s Dry Cleaning (with 
Donuts)</font><font color="#9A3265">'</font></font><font color="#222222"><sub>.)</sub><br/>
Should you need to look up a specific word, you can do so by using the <b>square brackets</b> method.</font><br/>
<font face="Courier, serif"><font color="#32659A">code_words</font><font color="#9A3265">['</font><font color="#329A65">catapult</font><font color="#9A3265">']</font></font><font color="#443254"><i> will answer with the string </i></font><font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">chucky go-go</font><font color="#9A3265">'</font></font><font color="#443254"><i> .</i></font>
<font color="#222222"><p>Look at the square brackets as if they are a wooden pallet the word is sitting upon. A forklift could slide its prongs into each 
side of the pallet and bring it down from a shelf back in the warehouse. The word on the pallet is called the <i>index</i>. We are 
asking the forklift to find the index for us and bring back its corresponding value.</p>
<p>If you’ve never been to a warehouse, you could also look at the brackets as handles. Imagine an industrious worker putting on
his work gloves and hefting the index back to your custody. If you’ve never used handles before, then I’m giving you about
thirty seconds to find a handle and use it before I blow my lid.</p>
As with many of the other operators you’ve seen recently, the index brackets are simply a shortcut for a method.</font><br/>
<font face="Courier, serif"><font color="#32659A">code_words</font><font color="#9A3265">.[]( '</font><font color="#329A65">catapult</font><font color="#9A3265">' )</font></font><font color="#443254"><i> will answer with the string </i></font><font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">chucky go-go</font><font color="#9A3265">'</font></font><font color="#443254"><i> .</i></font><br/>
<font color="#222222"><b>Making the Swap</b><br/>
I went ahead and saved the Hash of code words to a file called <b>wordlist.rb</b>.</font><br/>
<font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">wordlist</font><font color="#9A3265">'</font>
<p><font color="#545454"># Get evil idea and swap in code words</font>
<font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">Enter your new idea: </font><font color="#9A3265">" </font><br/>
<font color="#32659A">idea</font><font color="#9A3265"> = </font><font color="#32659A">gets<br/>
code_words</font><font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">real</font><font color="#9A3265">, </font><font color="#32659A">code</font><font color="#9A3265">| </font></p>
<font color="#32659A">idea</font><font color="#9A3265">.</font><font color="#32659A">gsub!</font><font color="#9A3265">( </font><font color="#32659A">real</font><font color="#9A3265">, </font><font color="#32659A">code</font><font color="#9A3265"> )<br/>
<b>end</b></font>
<p><font color="#545454"># Save the jibberish to a new file</font><br/>
<font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">File encoded.  Please enter a name for this idea: </font><font color="#9A3265">" </font>
<font color="#32659A">idea_name</font><font color="#9A3265"> = </font><font color="#32659A">gets</font><font color="#9A3265">.</font><font color="#32659A">strip</font><br/>
<font color="#653200"><b>File</b></font><font color="#9A3265">::</font><font color="#32659A">open</font><font color="#9A3265">( "</font><font color="#329A65">idea</font><font color="#9A3265">" + </font><font color="#32659A">idea_name</font><font color="#9A3265"> + "</font><font color="#329A65">.txt</font><font color="#9A3265">", "</font><font color="#329A65">w</font><font color="#9A3265">" ) <b>do</b> |</font><font color="#32659A">f</font><font color="#9A3265">|</font></p>
<font color="#32659A">f</font><font color="#9A3265"> &lt;&lt; </font><font color="#32659A">idea</font><br/>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">Script starts by pulling in our word list. Like </font><font face="Courier, serif"><font color="#32659A">gets</font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#32659A">print</font></font><font color="#222222">, the </font><font face="Courier, serif"><font color="#32659A">require</font></font><font color="#222222"> method is a kernel method, you can <br/>
use it anywhere. I give it the string </font><font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">wordlist</font><font color="#9A3265">'</font></font><font color="#222222"> and it will look for a file named <b>wordlist.rb</b>.
<p>After that, there are two sections. I am marking these sections with comments, the lines that start with 
<b>pound</b> symbols.
Comments are <b>useful notes</b> that accompany your code. Folks who come wandering through your code will appreciate the
help. When going through your own code after some time has passed, comments will help you get back into your mindset. And
there’s software out there that can take your comments and build documents from them. (RDoc and Ri—see Expansion Pak
#1!)</p>
I like comments because I can skim a big pile of code and spot the highlights.<br/>
As the comments tell us, the first section asks you for your evil idea and swaps in the new code words. The second section
saves the encoded idea into a new text file.</font>
<p><font face="Courier, serif"><font color="#32659A">code_words</font>
<font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">real</font><font color="#9A3265">, </font><font color="#32659A">code</font><font color="#9A3265">| </font>
<font color="#32659A">idea</font><font color="#9A3265">.</font><font color="#32659A">gsub!</font><font color="#9A3265">( </font><font color="#32659A">real</font><font color="#9A3265">, </font><font color="#32659A">code</font><font color="#9A3265"> )<br/>
<b>end</b></font></font></p>
<font color="#222222">You see the </font><font face="Courier, serif"><font color="#32659A">each</font></font><font color="#222222"> method? The </font><font face="Courier, serif"><font color="#32659A">each</font></font><font color="#222222"> method is all over in Ruby. It’s available for Arrays, Hashes, even Strings. Here,<br/>
our </font><font face="Courier, serif"><font color="#32659A">code_words</font></font><font color="#222222"> dictionary is kept in a Hash. This </font><font face="Courier, serif"><font color="#32659A">each</font></font><font color="#222222"> method will hurry through <b>all the pairs of the Hash</b>, <br/>
one dangerous word matched with its code word, handing each pair to the </font><font face="Courier, serif"><font color="#32659A">gsub!</font></font><font color="#222222"> method for the actual replacement.<br/>
In Ruby, </font><font face="Courier, serif"><font color="#32659A">gsub</font></font><font color="#222222"> is short for <i>global substitution</i>. The method is used to search and replace. Here, we want to find all the</font><br/>
<font face="Courier, serif"><font color="#32659A">gsub</font></font><font color="#222222">, you provide the <b>word to find as the </b>occurences of a dangerous word and replace with its safe code word. With <br/>
<b>first argument</b>, then the <b>word to put in its place as the second argument</b>.<br/>
Why aren’t we hanging on to the answer from </font><font face="Courier, serif"><font color="#32659A">gsub</font></font><font color="#222222">? Doesn’t </font><font face="Courier, serif"><font color="#32659A">gsub</font></font><font color="#222222"> give us an answer back that we should keep? You’d
think the line would read:</font><br/>
<font face="Courier, serif"><font color="#32659A">safe_idea</font><font color="#9A3265"> = </font><font color="#32659A">idea</font><font color="#9A3265">.</font><font color="#32659A">gsub</font><font color="#9A3265">( </font><font color="#32659A">real</font><font color="#9A3265">, </font><font color="#32659A">code</font><font color="#9A3265"> )</font></font><br/>
<font color="#222222">Yes, with </font><font face="Courier, serif"><font color="#32659A">gsub</font></font><font color="#222222"> we’d need to hang on to its answer. We’re using a variation of </font><font face="Courier, serif"><font color="#32659A">gsub</font></font><font color="#222222"> that is totally hyper. Notice the
<b>exclamation mark</b> on the </font><font face="Courier, serif"><font color="#32659A">gsub!</font></font><font color="#222222"> used inside the </font><font face="Courier, serif"><font color="#32659A">each</font></font><font color="#222222"> block. The exclamation mark is a sign that </font><font face="Courier, serif"><font color="#32659A">gsub!</font></font><font color="#222222"> is a bit <br/>
of a zealot. See, </font><font face="Courier, serif"><font color="#32659A">gsub!</font></font><font color="#222222"> will go ahead and </font><b><font color="#222222">replace the words in </font><font face="Courier, serif"><font color="#32659A">idea</font></font></b><font color="#222222"><b> directly</b>. When it’s done </font><font face="Courier, serif"><font color="#32659A">idea</font></font><font color="#222222"> will
contain the newly altered string and you won’t be able to find the old string.<br/>
Call </font><font face="Courier, serif"><font color="#32659A">gsub!</font></font><font color="#222222"> a <b>destructive method</b>. It makes its changes to the value directly. Whereas </font><font face="Courier, serif"><font color="#32659A">gsub</font></font><font color="#222222"> will leave the value <br/>
intact, answering back with a new string which contains the alterations. (Why must </font><font face="Courier, serif"><font color="#32659A">gsub!</font></font><font color="#222222"> scream when he descends upon 
his prey? Merciless assailant!)<br/>
<b>Text Files of a Madman</b><br/>
Let us now save the encoded idea to a file.</font>
<font face="Courier, serif"><p><font color="#545454"># Save the jibberish to a new file</font><br/>
<font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">File encoded.  Please enter a name for this idea: </font><font color="#9A3265">" </font>
<font color="#32659A">idea_name</font><font color="#9A3265"> = </font><font color="#32659A">gets</font><font color="#9A3265">.</font><font color="#32659A">strip</font><br/>
<font color="#653200"><b>File</b></font><font color="#9A3265">::</font><font color="#32659A">open</font><font color="#9A3265">( '</font><font color="#329A65">idea</font><font color="#9A3265">' + </font><font color="#32659A">idea_name</font><font color="#9A3265"> + '</font><font color="#329A65">.txt</font><font color="#9A3265">', '</font><font color="#329A65">w</font><font color="#9A3265">' ) <b>do</b> |</font><font color="#32659A">f</font><font color="#9A3265">|</font></p>
<font color="#32659A">f</font><font color="#9A3265"> &lt;&lt; </font><font color="#32659A">idea</font><br/>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">This section starts by asking you for a name by which the idea can be called. This name is used to build a file name when we
save the idea.<br/>
The </font><font face="Courier, serif"><font color="#32659A">strip</font></font><font color="#222222"> method is for strings. This method <b>trims spaces and blank lines</b> from the <b>beginning and end</b> of the 
string. This will remove the <i>Enter</i> at the end of the string you typed. But it’ll also handle spaces if you accidentally left any.<br/>
After we have the idea’s name, we open a new, blank text file. The file name is built by adding strings together. If you typed in</font>
<p><font face="Courier, serif"><font color="#9A3265">'</font>
<font color="#329A65">mustard-plus-codeine</font><font color="#9A3265">'</font></font><font color="#222222">, then our math will be: </font><font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">idea</font><font color="#9A3265">' +<br/>
'</font><font color="#329A65">mustard-plus-codeine</font><font color="#9A3265">' + '</font><font color="#329A65">.txt</font><font color="#9A3265">'</font></font><font color="#222222"><sub>. Ruby presses these into a single string.</sub></font><br/>
<font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">idea-mustard-plus-codeine.txt</font><font color="#9A3265">'</font></font><font color="#222222"><sub> is the file.</sub></font></p>
<font color="#222222">We’re using the class method </font><font face="Courier, serif"><font color="#653200"><b>File</b></font><font color="#9A3265">::</font><font color="#32659A">open</font></font><font color="#222222"> to create the new file. Up until now, we’ve used several kernel methods to do<br/>
our work. We hand the </font><font face="Courier, serif"><font color="#32659A">print</font></font><font color="#222222"> method a string and it prints the string on your screen. One secret about kernel methods<br/>
like </font><font face="Courier, serif"><font color="#32659A">print</font></font><font color="#222222">: they are actually <b>class methods</b>.</font><br/>
<font face="Courier, serif"><font color="#653200"><b>Kernel</b></font><font color="#9A3265">::</font><font color="#32659A">print</font><font color="#9A3265">( "</font><font color="#329A65">55,000 Starmonkey Salute!</font><font color="#9A3265">" )</font></font><br/>
<font color="#222222">What does this mean? Why does it matter? It means </font><font face="Courier, serif"><font color="#653200"><b>Kernel</b></font></font><font color="#222222"> is the center of Ruby’s universe. Wherever you are in your<br/>
script, </font><font face="Courier, serif"><font color="#653200"><b>Kernel</b></font></font><font color="#222222"> is right beside you. You don’t even need to spell </font><font face="Courier, serif"><font color="#653200"><b>Kernel</b></font></font><font color="#222222"> out for Ruby. Ruby knows to check</font><br/>
<font face="Courier, serif"><font color="#653200"><b>Kernel</b></font></font><font color="#222222"><sub>.</sub><br/>
Most methods are more specialized than </font><font face="Courier, serif"><font color="#32659A">print</font></font><font color="#222222"> or </font><font face="Courier, serif"><font color="#32659A">gets</font></font><font color="#222222">. Take the </font><font face="Courier, serif"><font color="#653200"><b>File</b></font><font color="#9A3265">::</font><font color="#32659A">open</font></font><font color="#222222"> for example. The creator of
Ruby, Matz, has given us many different methods which which read, rename, or delete files. They are all organized inside the</font><br/>
<font face="Courier, serif"><font color="#653200"><b>File</b></font></font><font color="#222222"><sub> class.</sub></font><br/>
<font face="Courier, serif"><font color="#653200"><b>File</b></font><font color="#9A3265">::</font><font color="#32659A">read</font><font color="#9A3265">( "</font><font color="#329A65">idea-mustard-plus-codeine.txt</font><font color="#9A3265">" )</font></font><font color="#443254"><i> will answer back with a string 
containing all of the text from your idea file.</i></font><br/>
<font face="Courier, serif"><font color="#653200"><b>File</b></font><font color="#9A3265">::</font><font color="#32659A">rename</font><font color="#9A3265">( "</font><font color="#329A65">old_file.txt</font><font color="#9A3265">", "</font><font color="#329A65">new_file.txt</font><font color="#9A3265">" )</font></font><font color="#443254"><i> will rename </i></font><font face="Courier, serif"><font color="#32659A">old_file</font><font color="#9A3265">.</font><font color="#32659A">txt</font></font><font color="#443254"><i> .</i></font><br/>
<font face="Courier, serif"><font color="#653200"><b>File</b></font><font color="#9A3265">::</font><font color="#32659A">delete</font><font color="#9A3265">( "</font><font color="#329A65">new_file.txt</font><font color="#9A3265">" )</font></font><font color="#443254"><i> will nuke the new file.</i></font><br/>
<font color="#222222">These File methods are all <b>built right into Ruby</b>. They are all just stored in a container called the </font><font face="Courier, serif"><font color="#653200"><b>File</b></font></font><font color="#222222"> class. So, while<br/>
you can safely call kernel methods without needing to type </font><font face="Courier, serif"><font color="#653200"><b>Kernel</b></font></font><font color="#222222">, Ruby doesn’t automatically check the </font><font face="Courier, serif"><font color="#653200"><b>File</b></font></font><font color="#222222"> class.
You’ll need to give the full method name.</font>
<p><font face="Courier, serif"><font color="#653200"><b>File</b></font>
<font color="#9A3265">::</font><font color="#32659A">open</font><font color="#9A3265">( '</font><font color="#329A65">idea</font><font color="#9A3265">' + </font><font color="#32659A">idea_name</font><font color="#9A3265"> + '</font><font color="#329A65">.txt</font><font color="#9A3265">', '</font><font color="#329A65">w</font><font color="#9A3265">' ) <b>do</b> |</font><font color="#32659A">f</font><font color="#9A3265">|</font>
<font color="#32659A">f</font><font color="#9A3265"> &lt;&lt; </font><font color="#32659A">idea</font><br/>
<font color="#9A3265"><b>end</b></font></font></p>
<font color="#222222">We pass two arguments into </font><font face="Courier, serif"><font color="#653200"><b>File</b></font><font color="#9A3265">::</font><font color="#32659A">open</font></font><font color="#222222">. The first is the <b>file name to open</b>. The second is a string containing our<br/>
<b>file mode</b>. We use </font><font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">w</font><font color="#9A3265">'</font></font><font color="#222222">, which means to write to a brand-new file. (Other options are: </font><font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">r</font><font color="#9A3265">'</font></font><font color="#222222"> to read from the file or </font><br/>
<font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">a</font><font color="#9A3265">'</font></font><font color="#222222"> to add to the end of the file.)<br/>
The file is opened for writing and we are handed back the file in variable </font><font face="Courier, serif"><font color="#32659A">f</font></font><font color="#222222">, which can be seen <b>sliding down the chute <br/>
into our block</b>. Inside the block, we write to the file. When the block closes with </font><font face="Courier, serif"><font color="#9A3265"><b>end</b></font></font><font color="#222222">, our file is closed as well.<br/>
Notice we use the <b>concatenator</b></font><font face="Courier, serif"><font color="#9A3265">&lt;&lt;</font></font><font color="#222222"> to write to the file. We can do this because files have a method called </font><font face="Courier, serif"><font color="#9A3265">&lt;&lt;</font></font><font color="#222222"> just like 
strings do.<br/>
<b>Settle Down, Your Ideas Aren’t Trapped</b><br/>
Here, let’s get your ideas back to their original verbage, so you can rumminate over their brilliance.</font><br/>
<font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">wordlist</font><font color="#9A3265">'</font><br/>
<font color="#545454"># Print each idea out with the words fixed</font>
<p><font color="#653200"><b>Dir</b></font>
<font color="#9A3265">['</font><font color="#329A65">idea-*.txt</font><font color="#9A3265">'].</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">file_name</font><font color="#9A3265">|</font>
<font color="#32659A">idea</font><font color="#9A3265"> = </font><font color="#653200"><b>File</b></font><font color="#9A3265">.</font><font color="#32659A">read</font><font color="#9A3265">( </font><font color="#32659A">file_name</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">code_words</font><font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">real</font><font color="#9A3265">, </font><font color="#32659A">code</font><font color="#9A3265">| </font></p>
<p><font color="#32659A">idea</font>
<font color="#9A3265">.</font><font color="#32659A">gsub!</font><font color="#9A3265">( </font><font color="#32659A">code</font><font color="#9A3265">, </font><font color="#32659A">real</font><font color="#9A3265"> )<br/>
<b>end</b></font><br/>
<font color="#32659A">puts idea</font></p>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">By now, you should be up to snuff with most of this example. I won’t bore you with all of the mundane details. See if you can
figure out how it works on your own.</font>
<p><font color="#222222">We have an interesting class method here, though. The </font>
<font face="Courier, serif"><font color="#653200"><b>Dir</b></font><font color="#9A3265">::[]</font></font><font color="#222222"> method searches a directory (some of you may call them
“folders”). Just as you’ve seen with Hashes, the index brackets can be class methods. (Can you start to see the shiny, glinting
gorgeousness of Ruby?)</font></p>
<p><font color="#222222">So we’re using the forklift to get those files in the directory which match </font>
<font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">idea-*.txt</font><font color="#9A3265">'</font></font><font color="#222222">. The </font><font face="Courier, serif"><font color="#653200"><b>Dir</b></font><font color="#9A3265">::[]</font></font><font color="#222222"> method
will use the asterisk as a wildcard. We’re basically saying, “Match anything that starts with <i>idea</i> and ends with <i>.txt</i>.” The
forklift shuffles off to the directory and comes back with a list of all matching files.</font></p>
<font color="#222222">That <b>list of files</b> will come in the form of </font><font face="Courier, serif"><font color="#653200"><b>Array</b></font></font><font color="#222222"> the Caterpillar, with a </font><font face="Courier, serif"><font color="#653200"><b>String</b></font></font><font color="#222222"> for each file. If you are curious and<br/>
want to play with with </font><font face="Courier, serif"><font color="#653200"><b>Dir</b></font><font color="#9A3265">::[]</font></font><font color="#222222">, try this:</font><br/>
<font face="Courier, serif"><font color="#32659A">p</font><font color="#653200"><b> Dir</b></font><font color="#9A3265">['</font><font color="#329A65">idea-*.txt</font><font color="#9A3265">']</font></font><font color="#443254"><i> will print:</i></font><br/>
<font face="Courier, serif"><font color="#9A3265">['</font><font color="#329A65">idea-mustard-plus-codeine.txt</font><font color="#9A3265">']</font></font><font color="#443254"><i> (an Array of file names!)</i></font><br/>
<font color="#222222">Yes, the </font><font face="Courier, serif"><font color="#32659A">p</font></font><font color="#222222"> method works like </font><font face="Courier, serif"><font color="#32659A">print</font></font><font color="#222222">. But where </font><font face="Courier, serif"><font color="#32659A">print</font></font><font color="#222222"> is designed for displaying strings, </font><font face="Courier, serif"><font color="#32659A">p</font></font><font color="#222222"> will print <i>anything</i>.
Check this out.</font><br/>
<font face="Courier, serif"><font color="#32659A">p</font><font color="#653200"><b> File</b></font><font color="#9A3265">::</font><font color="#32659A">methods</font></font><font color="#443254"><i> will print:</i></font><br/>
<font face="Courier, serif"><font color="#9A3265">["</font><font color="#329A65">send</font><font color="#9A3265">", "</font><font color="#329A65">display</font><font color="#9A3265">", "</font><font color="#329A65">name</font><font color="#9A3265">", "</font><font color="#329A65">exist?</font><font color="#9A3265">", "</font><font color="#329A65">split</font><font color="#9A3265">",</font></font><font color="#443254"><i> ... a whole list of method 
names!</i></font><font face="Courier, serif"><font color="#9A3265"> ]</font></font><br/>
<font color="#222222"><b>4. The Miracle of Blocks</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0046.png"/><p><font color="#222222">Since you and I are becoming closer friends as we share this time together, I should
probably let you in on a bit of the history going on here. It’s a good time for a break I
say.</font></p>
<b><font color="#F0FAEE">sidebar!</font>
<font color="#545454">Excerpt from The Scarf Eaters</font></b>
<p>(
<i>from Chapter V: A Man in Uniform</i>.)
<font color="#222222">First, you should know that Blix is my cat. My second pet to Bigelow. Granted, we
hardly see each other anymore. He’s completely self-sufficient. I’m not exactly sure
where he’s living these days, but he no longer lives in the antechamber to my quarters.
He emptied his savings account about seven months ago.</font></p>
<font color="#222222"><p>He does have a set of keys for the house and the Seville. Should he ever find himself
stranded, I will gladly step away from our differences and entertain his antics around 
the house again.</p>
Make no mistake. I miss having him around. Can’t imagine he misses my company,
but I miss his.<br/>
<b>A Siren and A Prayer</b></font>
<p>In April, the callow lilies came back. They
stretched their baby angel wings out and 
reached for the world. Gently, their tendrils
caressed the sullen fence posts until even 
they lilted lovelier.</p>
<p>From her bedroom window, Lara watched 
the lilies exude their staunch femininity. She
slipped the tassels of a fresh, carpathian, 
embroidered scarf into her mouth and ate
slowly. The long cloth slid down her throat 
and tickled as it snaked along her esophagus.
She giggled and burped.</p>
<img src="whys-poignant-guide-to-ruby_pic0045.png"/><font color="#222222"><p>I first saw Blix on television when I was a boy. He had a starring role on a very gritty
police drama called <i>A Siren and A Prayer</i>. The show was about a god-fearing police
squad that did their jobs, did them well, and saw their share of miracles out on the
beat. I mean the officers on this show were <i>great</i> guys, very religious, practically
clergy. But, you know, even clergymen don’t have the good sense to kill a guy after he’s
gone too far. These guys knew where to draw that line. They walked that line every
day.</p>
<p>So, it was a pretty bloody show, but they always had a good moral at the end. Most
times the moral was something along the lines of, “Wow, we got out of that one quick.”
But there’s serious camaraderie in a statement like that.</p>
<p>The show basically revolved around this one officer. “Mad” Dick Robinson. People
called him Mad because he was basically insane. I can’t remember if he was actually
clinically insane, but people were always questioning his decisions. Mad often blew his
top and chewed out some of the other officers, most of whom had unquestionable
moral character. But we all know it’s a tough world, the stakes are high out there, and
everyone who watched the show held Mad in great regard. I think everyone on the
squad grew quite a bit as people, thanks to Mad’s passion.</p></font>
<p>Oh, how the flora drew her in. Looking at
flowers went so well with being a teenage 
girl. She wanted to paint them, so she
opened a new Flash template. A blank movie
this time.</p>
<p>She set her cursor loose in the garden of her
movie’s viewable area. Vector white lines
below shorter vector yellow lines. She
selected the white lines and grouped them
together. She even moved them to a new
layer entitled “Cry, Baby Angel, Cry.” Then
she converted them into a graphic object and
moved them to the library.</p>
<p>She felt a warm chill as she moved the long,
white petals to her movie’s library. It felt so
official. <i>I choose you. I name you. Dwell
in the comfort of my palace <br/>
forevermore.</i></p>
<font color="#222222"><p>The officers couldn’t do it all themselves though. In every single episode, they plead
with a greater force for assistance. And, in every single episode, they got their tips from
a cat named Terry (played by my cat Blix.) He was just a kitten at the time and, as a
young boy tuning into <i>A Siren and A Prayer</i>, I found myself longing for my own 
crime-sniffing cat. Terry took these guys down the subway tunnels, through the rotting
stench of abandoned marinas, into backdoors of tall, industrial smokestacks.</p>
<p>Sometimes he was all over an episode, darting in and out, preparing traps and
directing traffic. But other times you wouldn’t see him the whole episode. Then you’d
rewind through the whole show and look and look and look. You’d give up. He can’t be
in that episode.</p>
<p>Still, you can’t bear to let it go, so you go comb through the whole episode with the jog
on your remote, combing, pouring over each scene. And there he is. Way up behind the
floodlight that was turned up too high. The one that left Mad with permanent eye
damage. Why? Why burn out the retinas of your own colleague, Terry?</p></font>
Heh. She laughed. Colorado Springs was
hardly a “palace.”
<p>Since they had moved, Dad had only been 
home once. He had barged through the front
door in full uniform and had given quite a 
start to both Lara and her mother. Her
mother had even dropped a head of lettuce - 
which head she had just finished washing in a pitcher of Lick-M-Aid.</p>
<p>The pitcher was just wide enough for the 
lettuce and it lodged in there pretty good. 
Dad came over and yanked at the moist head
for sometime until declaring it FUBAR, in a 
voice both bemused and then crestfallen. He
tossed the clotted spout in the trash bin.</p>
<font color="#222222"><p>But the question never got answered because the series was cancelled. They started to
do special effects with the cat and it all fell apart. In the last episode of the show, there
is a moment where Terry is trapped at the top of a crane, about to fall into the searing 
slag in the furnace of an iron smelt. He looks back. No going back. He looks down.
Paws over eyes (<i>no joke!</i>), he leaps from the crane and, mid-flight, snags a rope and 
swings to safety, coming down on a soft antelope hide that one of the workers had 
presumably been tanning that afternoon.</p>
<p>People switched off the television set the very moment the scene aired. They tried
changing the name. First it was <i>God Gave Us a Squad</i>. <i>Kiss of Pain</i>. Then, <i>Kiss of 
Pain in Maine</i>, since the entire precinct ended up relocating there. But the magic was
gone. I went back to summer school that year to make up some classes and all the kids
had pretty much moved on to football pencils.</p></font>
<p>It was only later that day that Lara’s mother
realized that she could have simply halved
the lettuce with an electric knife. Dad
laughed and slapped his forehead. He then
went around and slapped Lara’s forehead,
and her mother’s too, affectionately.</p>
<p>“We just weren’t thinking, were we?” is what
he said. “And who dares blame us? We’re a
real family today. And we shouldn’t have to
do anything else on the day we got our
family back.”</p>
<img src="whys-poignant-guide-to-ruby_pic0047.png"/>Lara’s smiled reflected across the glass of her<br/>
<font color="#222222"><b>Blocks</b>
<p>A couple years ago, I started teaching Blix about Ruby. When we got to this part in his
lessons, the part that covers blocks, he said to me, “Blocks remind me of Mad Dick
Robinson.”</p></font>
<p>monitor. She chose the text tool and in 42
point serif typed: “Dad.” She created a path
for it and let it tween off the right side of the
screen. She cried long after it was gone.</p>
<img src="whys-poignant-guide-to-ruby_pic0048.png"/><font color="#F0FAEE"><b>sidebar!</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic002E.png"/><font color="#222222">“Oh?” I hadn’t heard that name in awhile. “I can’t see how that could be.”<br/>
“Well, you say blocks can be difficult to understand.”<br/>
“They’re not difficult,” I said. “A <b>block</b> is just <b>code that’s grouped together</b>.”<br/>
“And Mad was just an officer, sworn to uphold his duty,” he said. “But he was a real miracle to watch out in the field. Now, this
first example you’ve shown me…” He pointed to an example I’d written down for him.</font>
<font face="Courier, serif"><p><font color="#32659A">kitty_toys</font>
<font color="#9A3265"> =<br/>
[</font>:shape<font color="#9A3265"> =&gt; '</font><font color="#329A65">sock</font><font color="#9A3265">', </font>:fabric<font color="#9A3265"> =&gt; '</font><font color="#329A65">cashmere</font><font color="#9A3265">'] +
[</font>:shape<font color="#9A3265"> =&gt; '</font><font color="#329A65">mouse</font><font color="#9A3265">', </font>:fabric<font color="#9A3265"> =&gt; '</font><font color="#329A65">calico</font><font color="#9A3265">'] +
[</font>:shape<font color="#9A3265"> =&gt; '</font><font color="#329A65">eggroll</font><font color="#9A3265">',</font> :fabric<font color="#9A3265"> =&gt; '</font><font color="#329A65">chenille</font><font color="#9A3265">']</font></p>
<font color="#32659A">kitty_toys</font><font color="#9A3265">.</font><font color="#32659A">sort_by</font><font color="#9A3265"> { |</font><font color="#32659A">toy</font><font color="#9A3265">| </font><font color="#32659A">toy</font><font color="#9A3265">[</font>:fabric<font color="#9A3265">] }</font></font><br/>
<font color="#222222">“This is a small miracle,” he said. “I can’t deny its beauty. Look, there are my kitty toys, laid out with their characteristics.
Below them, the block, sorting them by fabric.”<br/>
“I apologize if your list of toys looks a bit tricky,” I said. Like you, he had learned about the Array, the caterpillar stapled into
the code, with square brackets on each side and each item separated by commas. (Ah, here is one: </font><font face="Courier, serif"><font color="#9A3265">['</font><font color="#329A65">sock</font><font color="#9A3265">',<br/>
'</font><font color="#329A65">mouse</font><font color="#9A3265">', '</font><font color="#329A65">eggroll</font><font color="#9A3265">']</font></font><font color="#222222">.) He had also been taught the Hash, which is like a dictionary, with curly braces on each
end which look like small, open books. Commas in the Hash between each pair. Each word in the dictionary matched up with<br/>
its definition by an arrow. (Be beholden: </font><font face="Courier, serif"><font color="#9A3265">{'</font><font color="#329A65">blix</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">cat</font><font color="#9A3265">', '</font><font color="#329A65">why</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">human</font><font color="#9A3265">'}</font></font><font color="#222222">.)<br/>
“Yes, vexing,” he said. “It has square brackets like it’s an Array, but with the arrows like it’s a Hash. I don’t think you’re going
to get away with that.”
<p>“It does seem a bit subversive, doesn’t it?” I said, tease-nudging him with a spoon. “I’ve done your kitty toy list in a mix of the
two. I’m using a shortcut. Which is: <b>If you use arrows inside of an Array, you’ll end up with a Hash inside
of that Array.</b>“</p>
“Oh, I see,” he said. “You criss-crossed ‘em. How neat!”<br/>
“Yes, yes, you’re on it,” I said. He was also very good with a protractor. “I have three Arrays, each with a Hash inside. Notice
the plus signs? I’m adding them into one big Array. Here’s another way of writing it…” I jotted down.</font>
<font face="Courier, serif"><p><font color="#32659A">kitty_toys</font>
<font color="#9A3265"> = [<br/>
{</font>:shape<font color="#9A3265"> =&gt; '</font><font color="#329A65">sock</font><font color="#9A3265">', </font>:fabric<font color="#9A3265"> =&gt; '</font><font color="#329A65">cashmere</font><font color="#9A3265">'},
{</font>:shape<font color="#9A3265"> =&gt; '</font><font color="#329A65">mouse</font><font color="#9A3265">', </font>:fabric<font color="#9A3265"> =&gt; '</font><font color="#329A65">calico</font><font color="#9A3265">'},
{</font>:shape<font color="#9A3265"> =&gt; '</font><font color="#329A65">eggroll</font><font color="#9A3265">',</font> :fabric<font color="#9A3265"> =&gt; '</font><font color="#329A65">chenille</font><font color="#9A3265">'}</font></p>
<font color="#9A3265">]</font></font><br/>
<font color="#222222">One Array, which acts as our list of chew toys. Three Hashes in the Array to describe each toy.<br/>
<b>Sorting and Iterating to Save Lives</b><br/>
“Let’s sort your toys by shape now,” I said. “Then, we’ll print them out in that order.”</font>
<p><font face="Courier, serif"><font color="#32659A">kitty_toys</font>
<font color="#9A3265">.</font><font color="#32659A">sort_by</font><font color="#9A3265"> { |</font><font color="#32659A">toy</font><font color="#9A3265">| </font><font color="#32659A">toy</font><font color="#9A3265">[</font>:shape<font color="#9A3265">] }.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">toy</font><font color="#9A3265">|</font>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">Blixy has a #{ toy[:shape] } made of #{ toy[:fabric] }</font><font color="#9A3265">" <br/>
<b>end</b></font></font></p>
<font color="#222222">“How does </font><font face="Courier, serif"><font color="#32659A">sort_by</font></font><font color="#222222"> work?” asked Blix. “I can tell it’s a method you can use with Arrays. Because </font><font face="Courier, serif"><font color="#32659A">kitty_toys</font></font><font color="#222222"> is <br/>
an Array. But what is </font><font face="Courier, serif"><font color="#32659A">toy</font></font><font color="#222222">?”<br/>
“Okay, </font><font face="Courier, serif"><font color="#32659A">toy</font></font><font color="#222222"> is a <b>block argument</b>,” I said. “Remember: the skinny pipes on each side of </font><font face="Courier, serif"><font color="#32659A">toy</font></font><font color="#222222"> make it a <b>chute</b>.”<br/>
“Sure, but it looks like you’re using it like a Hash. Inside the block you have </font><font face="Courier, serif"><font color="#32659A">toy</font><font color="#9A3265">[</font>:shape<font color="#9A3265">]</font></font><font color="#222222">. That looks like a Hash.”<br/>
“The </font><font face="Courier, serif"><font color="#32659A">sort_by</font></font><font color="#222222"> method is an <b>iterator</b>, Blix. It <b>iterates</b>, or <b>cycles</b>, through <b>a list of things</b>. You remember that
episode when Mad…”<br/>
“Episode?” he said. Yeah, he can’t understand the concept of TV dramas. Yeah, I’ve tried explaining.<br/>
“Or, yeah, remember that one <i>eyewitness account</i> we watched where Mad was trying to talk down that crazy spelling bee
contestant from the ledge of an college library?”<br/>
“I remember it better than you because I was riding in a remote control plane.” Yep, it was one of those episodes.<br/>
“Do you remember how Mad got the guy to come down?” I asked.
<p>“People in spelling bees love letters,” said Blix. “So what Mad did was a genius move on his part. He started with the letter A
and gave reasons, for all the letters of the alphabet, why the guy should walk back down the building and be safe on the
ground.”</p>
”’A is for the Architecture of buildings like this,’” I said, in a gruff Mad voice. ”’Which give us hope in a crumbling world.’”<br/>
”’B is for Big Guys, like your friend Mad the Cop,’” said Blix. ”’Guys who help people all the time and don’t know how to spell
too great, but still help guys who spell really great.’”<br/>
“See, he went through all the letters, one at a time. He was <i>iterating</i> through them.” <i>It Err Ate Ing.</i><br/>
“But the guy jumped anyway, Why. He jumped off on letter Q or something.”<br/>
”’Q is for Quiet Moments that help us calm down and think about all of life’s little pleasures, so we don’t get all uptight and
starting goofing around on tiptoes at the very edge of a big, bad building.’”<br/>
“And then he jumped,” said Blix. He shook his head. “You can’t blame Mad. He did his best.”<br/>
“He had a big heart, that’s for sure,” I said, patting Blix on the shoulder.</font>
<p><font face="Courier, serif"><font color="#32659A">kitty_toys</font>
<font color="#9A3265">.</font><font color="#32659A">sort_by</font><font color="#9A3265"> { |</font><font color="#32659A">toy</font><font color="#9A3265">| </font><font color="#32659A">toy</font><font color="#9A3265">[</font>:shape<font color="#9A3265">] }.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">toy</font><font color="#9A3265">|</font>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">Blixy has a #{ toy[:shape] } made of #{ toy[:fabric] }</font><font color="#9A3265">" <br/>
<b>end</b></font></font></p>
<p><font color="#222222">“As for your </font>
<font face="Courier, serif"><font color="#32659A">sort_by</font></font><font color="#222222">, it <b>starts at the top</b> of the list and <b>goes through each item</b>, one at a time. So </font><font face="Courier, serif"><font color="#32659A">toy</font></font><font color="#222222"> is one 
of those items. With each item, </font><font face="Courier, serif"><font color="#32659A">sort_by</font></font><font color="#222222"> stops and <b>slides that item down the chute</b>, under the </font><font face="Courier, serif"><font color="#32659A">toy</font></font><font color="#222222"> name, and
let’s you figure out what to do with it.”</font></p>
<font color="#222222">“Okay, so </font><font face="Courier, serif"><font color="#32659A">toy</font></font><font color="#222222"> takes turns being each of the different toys I have.”<br/>
“That’s right,” I said. “You know how I’ve really been harping on <i>using the answers that methods give you</i>? Here, we’re
simply looking up the toy’s shape inside the block. The block then answers to </font><font face="Courier, serif"><font color="#32659A">sort_by</font></font><font color="#222222"> with the shape string, such as </font><br/>
<font face="Courier, serif"><font color="#9A3265">"</font><font color="#329A65">mouse</font><font color="#9A3265">"</font></font><font color="#222222"> or </font><font face="Courier, serif"><font color="#9A3265">"</font><font color="#329A65">sock</font><font color="#9A3265">"</font></font><font color="#222222">. Once it’s done cycling through the whole list, </font><font face="Courier, serif"><font color="#32659A">sort_by</font></font><font color="#222222"> will have alphabetically compared
each of the shape strings and will give back a new sorted Array.”<br/>
<b>An Unfinished Lesson</b><br/>
“That’s good enough for today,” said Blix. “Can I have a fresh saucer of milk, please?”<br/>
I filled his saucer to the brim and he guzzled from it for some time while I took a poker and jabbed at coals in the fireplace. My
mind wandered and I couldn’t help but think further of blocks. I wondered what I would teach Blix next.<br/>
I probably would have taught him about </font><font face="Courier, serif"><font color="#9A3265"><b>next</b></font></font><font color="#222222">. When you are iterating through a list, you may use </font><font face="Courier, serif"><font color="#9A3265"><b>next</b></font></font><font color="#222222"> to <b>skip on to <br/>
the next item</b>. Here we’re counting toys that have a non-eggroll shape by skipping those that do with </font><font face="Courier, serif"><font color="#9A3265"><b>next</b></font></font><font color="#222222">.</font>
<p><font face="Courier, serif"><font color="#32659A">non_eggroll</font>
<font color="#9A3265"> = </font><font color="#329A65">0</font><br/>
<font color="#32659A">kitty_toys</font><font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">toy</font><font color="#9A3265">|<br/>
<b>next if</b></font><font color="#32659A"> toy</font><font color="#9A3265">[</font>:shape<font color="#9A3265">] == '</font><font color="#329A65">eggroll</font><font color="#9A3265">'</font><br/>
<font color="#32659A">non_eggroll</font><font color="#9A3265"> = </font><font color="#32659A">non_eggroll</font><font color="#9A3265"> + </font><font color="#329A65">1</font>
<font color="#9A3265"><b>end</b></font></font></p>
<font color="#222222">I could also have taught him about </font><font face="Courier, serif"><font color="#9A3265"><b>break</b></font></font><font color="#222222">, which <b>kicks you out of an iterating loop</b>. In the code below, we’ll print<br/>
out (with </font><font face="Courier, serif"><font color="#32659A">p</font></font><font color="#222222">) each of the toy Hashes until we hit the toy whose fabric is chenille. The </font><font face="Courier, serif"><font color="#9A3265"><b>break</b></font></font><font color="#222222"> will cause the </font><font face="Courier, serif"><font color="#32659A">each</font></font><font color="#222222"> to 
abruptly end.</font>
<font face="Courier, serif"><p><font color="#32659A">kitty_toys</font>
<font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">toy</font><font color="#9A3265">|<br/>
<b>break if</b></font><font color="#32659A"> toy</font><font color="#9A3265">[</font>:fabric<font color="#9A3265">] == '</font><font color="#329A65">chenille</font><font color="#9A3265">'</font>
<font color="#32659A">p toy</font></p>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">I never got to teach him such things. I continued poking away at a particularly stubborn coal which was caught in the iron
curtain of the fireplace and threatened to drop on my antelope skin rug.
<p>As I hacked away ferociously at the black stone, Blix slipped away, presumably on the bus bound for Wixl, the very bustling 
metropolis of the animal economies. Who knows, he may have first stopped in Ambrose or Riathna or any of the other villages
along the way. My instinct say that Wixl was his definitely his final stop.</p>
Without any student to instruct and coax along, I found myself quite lonely, holed up in the estate. In the stillness of the dead
corridors, I began to sketch out a biography in the form of this guide.<br/>
I worked on it whenever I found myself bored. And when I wasn’t bored, I could always switch on <i>The Phantom Menace</i> to 
get me in the mood.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0049.png"/><img src="whys-poignant-guide-to-ruby_pic004A.png"/><font color="#222222"><b>5.
<h3>Them What Make the Rules and 
Them What Live the Dream</h3></b></font>
<img src="whys-poignant-guide-to-ruby_pic004B.jpg"/><img src="whys-poignant-guide-to-ruby_pic004C.png"/><font color="#222222"><p>Frankly, I’m sick and tired of hearing that Dr. Cham was a madman. Yes, he tried to bury himself alive. Yes, he electrocuted his
niece. Yes, in fact, he did dynamite a retirement home. But this was all with good cause and, in each case, I believe he took the
correct course of action.</p>
<p>I’m sure you’d like to side with popular opinion, but you’re bound to feel some small trickle of admiration for him once he’s
taken time to teach you all about Ruby’s class definitions. And moreso when you learn about mixins. And perhaps, by the end
of the chapter, we can all start to look beyond the Doctor’s grievous past and stop calling him a madman.</p>
So if you need to call him a madman, I’d start heading down to the train tracks to smash up some long flourescent light bulbs.
Get it out of your system right now, before we dig in.<br/>
<b>1. This One's For the Disenfranchised</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic004D.png"/><font color="#222222"><p>If you give me a number, which is any year from Dr. Cham’s life, I’ll give you a synopsis of that time period. And I’ll do it as a
Ruby method, so it’s an independent piece, an isolated chunk of code which can be hooked up to the voice of a robotic volcano,
when such a thing becomes the apex of authoritative voice talents.</p>
Okay, so I need you to notice </font><font face="Courier, serif"><font color="#9A3265"><b>def</b></font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#9A3265"><b>case</b></font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#9A3265"><b>when</b></font></font><font color="#222222">. You’ve seen the Ranges, the closed accordions of</font><br/>
<font face="Courier, serif"><font color="#329A65">1895</font><font color="#9A3265">..</font><font color="#329A65">1913</font></font><font color="#222222">, back in chapter 3. They contain both ends and in between. And the backslashes at the end of each line
simply ignore the <i>Enter</i> key at the end of each line, assuring Ruby that there is <i>more of this line to come</i>.<br/>
So, please: </font><font face="Courier, serif"><font color="#9A3265"><b>def</b></font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#9A3265"><b>case</b></font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#9A3265"><b>when</b></font></font><font color="#222222">.</font>
<font face="Courier, serif"><p><font color="#9A3265"><b>def </b>
dr_chams_timeline(</font><font color="#32659A"> year</font><font color="#9A3265"> )<br/>
<b>case</b></font><font color="#32659A"> year</font><br/>
<font color="#9A3265"><b>when</b></font><font color="#329A65"> 1894</font></p>
<p><font color="#9A3265">"</font>
<font color="#329A65">Born.</font><font color="#9A3265">" <br/>
<b>when</b></font><font color="#329A65"> 1895</font><font color="#9A3265">..</font><font color="#329A65">1913</font><br/>
<font color="#9A3265">"</font><font color="#329A65">Childhood in Lousville, Winston Co., Mississippi.</font><font color="#9A3265">" <br/>
<b>when</b></font><font color="#329A65"> 1914</font><font color="#9A3265">..</font><font color="#329A65">1919</font><br/>
<font color="#9A3265">"</font><font color="#329A65">Worked at a pecan nursery; punched a Quaker.</font><font color="#9A3265">" <br/>
<b>when</b></font><font color="#329A65"> 1920</font><font color="#9A3265">..</font><font color="#329A65">1928</font><br/>
<font color="#9A3265">"</font><font color="#329A65">Sailed in the Brotherhood of River Wisdomming, which journeyed \<br/>
the Mississippi River and engaged in thoughtful self-improvement, \<br/>
where he finished 140 credit hours from their Oarniversity.</font><font color="#9A3265">" <br/>
<b>when</b></font><font color="#329A65"> 1929</font><br/>
<font color="#9A3265">"</font><font color="#329A65">Returned to Louisville to pen a novel about time-travelling pheasant hunters.</font><font color="#9A3265">" 
<b>when</b></font><font color="#329A65"> 1930</font><font color="#9A3265">..</font><font color="#329A65">1933</font><br/>
<font color="#9A3265">"</font><font color="#329A65">Took up a respectable career insuring pecan nurseries.  Financially stable, he \
spent time in Brazil and New Mexico, buying up rare paper-shell pecan trees.  Just \
as his notariety came to a crescendo: gosh, he tried to buried himself alive.</font><font color="#9A3265">" 
<b>when</b></font><font color="#329A65"> 1934</font><br/>
<font color="#9A3265">"</font><font color="#329A65">Went back to writing his novel.  Changed the hunters to insurance tycoons and the \
pheasants to Quakers.</font><font color="#9A3265">" <br/>
<b>when</b></font><font color="#329A65"> 1935</font><font color="#9A3265">..</font><font color="#329A65">1940</font><br/>
<font color="#9A3265">"</font><font color="#329A65">Took Arthur Cone, the Headmaster of the Brotherhood of River Wisdomming, as a \
houseguest.  Together for five years, engineering and inventing.</font><font color="#9A3265">" <br/>
<b>when</b></font><font color="#329A65"> 1941</font><br/>
<font color="#9A3265">"</font><font color="#329A65">And this is where things got interesting.</font><font color="#9A3265">" <br/>
<b>end<br/>
end</b></font></p></font>
<font color="#222222">The </font><font face="Courier, serif"><font color="#9A3265"><b>def</b></font></font><font color="#222222"> keyword. Here is our first <b>method definition</b>. A plain kernel method, which can be used anywhere in Ruby.
And how do we run it?</font><br/>
<font face="Courier, serif"><font color="#32659A">puts dr_chams_timeline</font><font color="#9A3265">( </font><font color="#329A65">1941</font><font color="#9A3265"> )</font></font>
<p><font color="#222222">Which answers with “And this is where things got interesting.” It’s the same story again and again: 
<i>use your answers.</i> I’ve
set things up above so that the </font><font face="Courier, serif"><font color="#9A3265"><b>case</b></font></font><font color="#222222"> statement always answers with a string. And since the case statement is the final (and 
only) statement in the method, then the method answers with that string. Trickling water spilling down from ledge to ledge.</font></p>
<font color="#222222">Let me be clear about the </font><font face="Courier, serif"><font color="#9A3265"><b>case</b></font></font><font color="#222222"> statement. Actually, I should call it a </font><font face="Courier, serif"><font color="#9A3265"><b>case</b>..<b>when</b></font></font><font color="#222222"> statement, since they cannot be <br/>
used separately. The </font><font face="Courier, serif"><font color="#9A3265"><b>case</b></font></font><font color="#222222"> keyword is followed by a value, which is compared against each of the values which follow </font><br/>
<font face="Courier, serif"><font color="#9A3265"><b>when</b></font></font><font color="#222222"> keywords. The first value to qualify as a match is the one the case uses and the rest are ignored. You can do the same<br/>
thing with a bunch of </font><font face="Courier, serif"><font color="#9A3265"><b>if</b>..<b>elsif</b></font></font><font color="#222222"> statements, but it’s wordier.</font>
<font face="Courier, serif"><p><font color="#9A3265"><b>case</b></font>
<font color="#32659A"> year</font><br/>
<font color="#9A3265"><b>when</b></font><font color="#329A65"> 1894</font><br/>
<font color="#9A3265">"</font><font color="#329A65">Born.</font><font color="#9A3265">" <br/>
<b>when</b></font><font color="#329A65"> 1895</font><font color="#9A3265">..</font><font color="#329A65">1913</font></p>
<p><font color="#9A3265">"</font>
<font color="#329A65">Childhood in Lousville, Winston Co., Mississippi.</font><font color="#9A3265">" 
<b>else</b><br/>
"</font><font color="#329A65">No information about this year.</font><font color="#9A3265">" <br/>
<b>end</b></font></p></font>
<font color="#222222">Is identical to:</font>
<p><font face="Courier, serif"><font color="#9A3265"><b>if</b></font>
<font color="#329A65"> 1894</font><font color="#9A3265"> ===</font><font color="#32659A"> year</font><br/>
<font color="#9A3265">"</font><font color="#329A65">Born.</font><font color="#9A3265">" <br/>
<b>elsif</b></font><font color="#329A65"> 1895</font><font color="#9A3265">..</font><font color="#329A65">1913</font><font color="#9A3265"> ===</font><font color="#32659A"> year</font><br/>
<font color="#9A3265">"</font><font color="#329A65">Childhood in Lousville, Winston Co., Mississippi.</font><font color="#9A3265">" <br/>
<b>else</b><br/>
"</font><font color="#329A65">No information about this year.</font><font color="#9A3265">" <br/>
<b>end</b></font></font></p>
<font color="#222222">The <b>triple equals</b> is a length of velvet rope, checking values much like the double equals. It’s just: the triple equals is a
longer rope and it sags a bit in the middle. It’s not as strict, it’s a bit more flexible.<br/>
Take the Ranges above. </font><font face="Courier, serif"><font color="#9A3265">(</font><font color="#329A65">1895</font><font color="#9A3265">..</font><font color="#329A65">1913</font><font color="#9A3265">)</font></font><font color="#222222"> isn’t at all <b>equal</b> to </font><font face="Courier, serif"><font color="#329A65">1905</font></font><font color="#222222">. No, the Range </font><font face="Courier, serif"><font color="#9A3265">(</font><font color="#329A65">1895</font><font color="#9A3265">..</font><font color="#329A65">1913</font><font color="#9A3265">)</font></font><font color="#222222"> is only <br/>
truly <b>equal</b> to any other Range </font><font face="Courier, serif"><font color="#9A3265">(</font><font color="#329A65">1895</font><font color="#9A3265">..</font><font color="#329A65">1913</font><font color="#9A3265">)</font></font><font color="#222222">. In the case of a Range, the triple equals cuts you a break and lets the<br/>
Integer </font><font face="Courier, serif"><font color="#329A65">1905</font></font><font color="#222222"> in, because even though it’s not <b>equal</b> to the Range, it’s <b>included</b> in the set of Integers represented by the 
Range. Which is good enough in some cases, such as the timeline I put together earlier.<br/>
Which actually looked like a timeline, didn’t it? I mean, sure, </font><font face="Courier, serif"><font color="#32659A">dr_chams_timeline</font></font><font color="#222222"> method is code, but it does 
read like a timeline, clean and lovely.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0051.png"/><b><font color="#F0FAEE">sidebar!</font>
<font color="#222222">But Was He Sick??</font></b>
<p><font color="#545454"><b>Caring For You. And Your Wellness.</b></font>
<font color="#222222">You know, he had such bad timing. He was scattered as a novelist, but his ventures
into alchemy were very promising. He had an elixir of goat’s milk and sea salt that got
rid of leg aches. One guy even grew an inch on a thumb he’d lost. He had an organic
health smoke that smelled like foot but gave you night vision. He was working on
something called Liquid Ladder, but I’ve never seen or read anything else about it. It
can’t have been for climbing. Who knows.</font></p>
<font color="#222222">One local newspaper actually visited Dr. Cham. Their book reviewer gave him four
stars. Really. She did an article on him. Gave him a rating.
<p>Just know that Dr. N. Harold Cham felt terrible about his niece. He felt the shock
treatment would work. The polio probably would have killed her anyway, but he took
the chance.</p>
<p>On Sept. 9, 1941, after sedating her with a dose of phenacetin in his private operating
room, he attached the conducting clips to Hannah’s nose, tongue, toes, and elbows.
Assisted by his apprentice, a bespeckled undergraduate named Marvin Holyoake, they
sprinkled the girl with the flakes of a substance the doctor called <i>opus magnum</i>. A
white powder gold which would carry the current and blatantly energize the girl, 
forcing her blood to bloom and fight and vanquish.</p>
<p>But how it failed, oh, and how, when the lever was tossed, she arched and kicked - and
<b>KABLAM!</b> - and <b>BLOY-OY-OY-KKPOY!</b> Ringlets of hair and a wall of light,
and the bell of death rang. The experiment collapsed in a dire plume of smoke and her
innocence (<i>for weeks, everyone started out with, “And she will never have the
chance…”</i>) was a great pit in the floor and in their lungs.</p>
To Hannah, I code.</font>
<p>I need you to be in a good mental state for 
the latter half of this book. Now is the time 
to begin conditioning you.</p>
<p>Let’s start with some deep breathing. Give
me a good deep breath and count to four
with me.</p>
Here we go. 1. 2. 3. 4. Now exhale. You can
feel your eyes. Good, that’s exactly it.
<p>Now let’s take a deep breath and, in your
mind, draw a hippopotamus as fast as you
can. Quick quick. His legs, his folds, his
marshmallow teeth. Okay, done. Now
exhale.</p>
<p>Take another deep breath and hold it tight.
As you hold it tightly in your chest, imagine
the tightness is shrinking you down into a
bug. You’ve held your breath so hard that
you’re an insect. And all the other bugs saw
you shrink and they loved the stunt. They’re
clapping and rubbing their feelers together
madly. But you had an apple in your hand
when you were big and it just caught up with
you, crushed the whole crowd. You’re dead,
too. Now exhale.</p>
<img src="whys-poignant-guide-to-ruby_pic004F.png"/><img src="whys-poignant-guide-to-ruby_pic0050.png"/><font face="Courier, serif"><font color="#32659A">opus_magnum</font><font color="#9A3265"> = </font><font color="#653200"><b>true</b></font><br/>
<font color="#9A3265"><b>def </b>save_hannah</font><br/>
<font color="#32659A">success</font><font color="#9A3265"> = </font><font color="#32659A">opus_magnum</font>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">A method is its own island. And what goes on inside is unaffected by the simple
variables around it. Dr. Cham couldn’t breach the illness of his niece, no more than an</font>
<font face="Courier, serif"><font color="#32659A">opus_magnum</font></font><font color="#222222"> variable can penetrate the steely exterior of a method.<br/>
Should we run the </font><font face="Courier, serif"><font color="#32659A">save_hannah</font></font><font color="#222222"> method, Ruby will squawk at us, claiming it <br/>
<sub>sees no </sub></font><font face="Courier, serif"><font color="#32659A">opus_magnum</font></font><font color="#222222"><sub>.</sub></font>
<p>Give me a solid deep breath and imagine you
live in a town where everything is made of 
telephone cords. The houses are all<br/>
telephone cords, the shingles, the rafters.
The doorways are a thick mass of telephone 
cords which you simply thrust yourself 
through. When you go to bed, the bedspread
is telephone cords. And the mattress and box
springs are telephone cords, too. Like I said,
everything is made out of telephone cords.
The telephone itself is made of telephone 
cords. But the telephone cord going to the
telephone is made out of bread and a couple 
sticks. Now exhale.</p>
<p><font color="#222222">I’m talking about 
<b>scope</b>. Microscopes narrow and magnify your vision. Telescopes
extend the range of your vision. In Ruby, <b>scope</b> refers to a field of vision inside 
methods and blocks.</font></p>
Breathe in. 1. 2. 3. 4. Breathe out.<br/>
<font color="#222222">A method’s </font><font face="Courier, serif"><font color="#9A3265"><b>def</b></font></font><font color="#222222"> statement opens its vision. Variable names introduced there will be</font>
<p><font color="#222222">seen by the method and kept meaningful until its </font>
<font face="Courier, serif"><font color="#9A3265"><b>end</b></font></font><font color="#222222"> closes its eyes. You can pass
data into a method by using arguments and data can be returned from the method, but
the names used inside the method are only good for its scope.</font></p>
<p>Breath in. 1. 2. Another short breath in. 3. 4.
Imagine both of your hands snapping off at 
the wrists and flying into your computer 
screen and programming it from the inside.
Exhale.</p>
<p><font color="#222222">Some variables have wider scope. Global variables like </font>
<font face="Courier, serif"><font color="#9A3265">$LOAD_PATH</font></font><font color="#222222">, which 
start with a <b>cash</b> symbol, are available in any scope. Instance variables like</font>
<font face="Courier, serif"><font color="#9A3265">@names</font></font><font color="#222222">, which start with an <b>at</b> are available anywhere inside a class scope. Same</font></p>
<font color="#222222">goes for class variables like </font><font face="Courier, serif"><font color="#9A3265">@@tickets</font></font><font color="#222222">. Class and instance variables will be 
explored in a moment.<br/>
Blocks have scope, but it’s a bit fuzzier. More flexible.</font>
<font face="Courier, serif"><p><font color="#32659A">verb</font>
<font color="#9A3265"> = '</font><font color="#329A65">rescued</font><font color="#9A3265">'<br/>
['</font><font color="#329A65">sedated</font><font color="#9A3265">', '</font><font color="#329A65">sprinkled</font><font color="#9A3265">', '</font><font color="#329A65">electrocuted</font><font color="#9A3265">'].</font>
<font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">verb</font><font color="#9A3265">|</font></p>
<p><font color="#32659A">puts</font>
<font color="#9A3265"> "</font><font color="#329A65">Dr. Cham </font><font color="#9A3265">" + </font><font color="#32659A">verb</font><font color="#9A3265"> + "</font><font color="#329A65"> his niece Hannah.</font><font color="#9A3265">" 
<b>end</b></font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">Yes, Dr. Cham </font><font color="#9A3265">" + </font><font color="#32659A">verb</font><font color="#9A3265"> + "</font><font color="#329A65"> his niece Hannah.</font><font color="#9A3265">"</font></p></font>
<p><font color="#222222">The block 
<i>iterates</i> (spins, cycles) through each of the Doctor’s actions. The </font><font face="Courier, serif"><font color="#32659A">verb</font></font>
<font color="#222222">variable changes with each pass. In one pass, he’s sedating. In the next, he’s
powdering. Then, he’s electrocuting.</font></p>
<font color="#222222">So, the question is: after the block’s over, will he have rescued Hannah?</font><br/>
Big, big deep breath. Deep down inside you
there is a submarine. It has a tongue. Exhale.
<p>Breathe through your nostrils. Deep breath.
Filter the air through your nostrils.<br/>
Breathing through the nostrils gives you
quality air. Your nostrils flare, you are taking
breaths of nature’s air, the way God<br/>
intended. Imagine a floppy disk drive
clogged up with orphans. And while it
chokes on orphans, you have good,<br/>
wholesome God’s breath in your lungs. But
that pleasurable, life-giving air will become a
powerful toxin if held too long. <i>Hurry,
exhale God and nature’s air!</i></p>
<p>Now, you will wake up, smoothing out the 
creases of this page in your web browser.
You will have full recollection of your whole 
life and not forgetting any one of the many
adventures you have had in your life. You
will feel rich and renewed and expert. You
will have no remembrance of this short 
exercise, you will instead remember teaching
a rabbit to use scissors from a great distance.</p>
<p><font face="Courier, serif"><font color="#9A3265">Dr. Cham sedated his niece Hannah.<br/>
Dr. Cham sprinkled his niece Hannah.
Dr. Cham electrocuted his niece Hannah.
Yes, Dr. Cham electrocuted his niece Hannah.</font></font></p>
<p>And as you will wake up with your eyes 
directed to the top of this exercise, you will 
begin again. But this time, try to imagine
that even <i>your shadow</i> is a telephone cord.</p>
<img src="whys-poignant-guide-to-ruby_pic0052.png"/><font color="#F0FAEE"><b>sidebar!</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0050.png"/><font color="#222222">Blocks are allowed to see variables in the vicinity. The block noticed that the </font><font face="Courier, serif"><font color="#32659A">verb</font></font><font color="#222222"> variable existed and it overwrote its <br/>
contents as it went along. When the block completed and its tiny life ended, the </font><font face="Courier, serif"><font color="#32659A">verb</font></font><font color="#222222"> variable came out a changed creature.<br/>
If a block uses a variable which hasn’t been used previously, though, then that variable vanishes at the end of the block. The
block’s <b>scope</b> closes and the variable goes with it. Say that </font><font face="Courier, serif"><font color="#32659A">verb</font></font><font color="#222222"> wasn’t used before the block.</font><br/>
<font face="Courier, serif"><font color="#9A3265">['</font><font color="#329A65">sedated</font><font color="#9A3265">', '</font><font color="#329A65">powdered</font><font color="#9A3265">', '</font><font color="#329A65">electrocuted</font><font color="#9A3265">'].</font><br/>
<font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">verb</font><font color="#9A3265">|</font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">Dr. Cham </font><font color="#9A3265">" + </font><font color="#32659A">verb</font><font color="#9A3265"> + "</font><font color="#329A65"> his niece Hannah.</font><font color="#9A3265">" 
<b>end</b></font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">Yes, Dr. Cham </font><font color="#9A3265">" + </font><font color="#32659A">verb</font><font color="#9A3265"> + "</font><font color="#329A65"> his niece Hannah.</font><font color="#9A3265">"</font></font><br/>
<font color="#222222">Pulls an error: </font><font face="Courier, serif"><font color="#32659A">undefined local variable</font><font color="#9A3265"><b> or</b></font><font color="#32659A"> method</font><font color="#9A3265"> `</font><font color="#32659A">verb</font><font color="#9A3265">'</font></font><font color="#222222">. Poof.
<p>It must be something difficult, even for a great scientist, to carry away the corpse of a young girl whose dress is still starched
and embroidered, but whose mouth is darkly clotted purple at the corners. In Dr. Cham’s journal, he writes that he was
tormented by her ghost, which glistened gold and scorched lace. His delusions grew and he ran from hellhounds and massive
vengeful, angelic hands.</p>
Only weeks later, he was gone, propelled from these regrets, vanishing in the explosion that lifted him from the planet.
<p>And even as you are reading this now, sometime in these moments, the bell jar craft of our lone Dr. Cham touched down upon
a distant planet after a sixty year burn. As the new world came into view, as the curvature of the planet widened, as the bell jar
whisked through the upset heavens, tearing through sheets of aurora and solar wind, Dr. Cham’s eyes were shaken open.</p></font>
<img src="whys-poignant-guide-to-ruby_pic0053.png"/><font color="#222222"><p>What you are witnessing is the landing of Dr. Cham on the planet Endertromb. From what I can gather, he landed during the
cusp of the Desolate Season, a time when there really isn’t much happening on the planet. Most of the inhabitants find their
minds locked into a listless hum which causes them to disintegrate into just vapid ghosts of one-part-wisdom and
three-parts-steam for a time.</p>
<p>My modest grasp of the history and climate of Endertromb has been assembled from hanging around my daughter’s organ
instructor, who grew up on the planet.</p></font>
<img src="whys-poignant-guide-to-ruby_pic0054.png"/><font color="#222222"><p>I frequently drill my daughter’s organ instructor in order to ensure that he can keep appointments adequately. That he can
take house calls at odd hours and promptly answer emergency calls. When he finally revealed to me that he was an alien whose
waking day consisted of five-hundred and forty waking hours, I was incredibly elated and opened a contractual relationship
with him which will last into 2060.</p>
<p>For three days (by his pocket watch’s account), Dr. Cham travelled the dark shafts of air, sucking the dusty wind of the barren
planet. But on the third day, he found the Desolate Season ending and he awoke to a brilliant vista, decorated with
spontaneous apple blossoms and dewy castle tiers.</p>
<b>2. A Castle Has Its Computers</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0055.png"/><font color="#222222"><p>Our intrepid Doctor set off for the alien castle, dashing through the flowers. The ground belted past his heels. The castle
inched up the horizon. He desired a stallion, but no stallion appeared. And that’s how he discovered that the planet wouldn’t
read his mind and answer his wishes.</p>
As my daughter’s organ instructor explained it, however, the planet <b>could read minds</b> and it <b>could grant wishes</b>.
Just not both at the same time.<br/>
One day as I quizzed the organ maestro, he sketched out the following Ruby code on a pad of cheese-colored paper. (And
queer cheese smells were coming from somewhere, I can’t say where.)</font><br/>
<font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">endertromb</font><font color="#9A3265">'</font><br/>
<b><font color="#9A3265">class </font><font color="#653200">WishMaker</font></b><br/>
<font color="#9A3265"><b>def </b>initialize</font>
<p><font color="#9A3265">@energy = </font>
<font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#329A65">6</font><font color="#9A3265"> )<br/>
<b>end<br/>
def </b>grant( </font><font color="#32659A">wish</font><font color="#9A3265"> )</font></p>
<font color="#9A3265"><b>if</b></font><font color="#32659A"> wish</font><font color="#9A3265">.</font><font color="#32659A">length</font><font color="#9A3265"> &gt; </font><font color="#329A65">10</font><font color="#9A3265"><b> or</b></font><font color="#32659A"> wish</font><font color="#9A3265">.</font><font color="#32659A">include?</font><font color="#9A3265"> ' '</font>
<p><b><font color="#9A3265">raise</font>
<font color="#653200"> ArgumentError</font></b><font color="#9A3265">, "</font><font color="#329A65">Bad wish.</font><font color="#9A3265">" 
<b>end<br/>
if</b> @energy.</font><font color="#32659A">zero?</font></p>
<p><b><font color="#9A3265">raise</font>
<font color="#653200"> Exception</font></b><font color="#9A3265">, "</font><font color="#329A65">No energy left.</font><font color="#9A3265">" 
<b>end</b><br/>
@energy -= </font><font color="#329A65">1</font><br/>
<font color="#653200"><b>Endertromb</b></font><font color="#9A3265">::</font><font color="#32659A">make</font><font color="#9A3265">( </font><font color="#32659A">wish</font><font color="#9A3265"> )</font></p>
<font color="#9A3265"><b>end<br/>
end</b></font></font><br/>
<font color="#222222">This is the wish maker.<br/>
Actually, no, this is a <b>definition for a wish maker.</b> To Ruby, it’s a <b>class definition</b>. The code describes how a certain
<b>object</b> will work.<br/>
Each morning, the wish maker starts out with up to five wishes available for granting. A new </font><font face="Courier, serif"><font color="#653200"><b>WishMaker</b></font></font><font color="#222222"> is created at 
sun up.</font><br/>
<font face="Courier, serif"><font color="#32659A">todays_wishes</font><font color="#9A3265"> = </font><font color="#653200"><b>WishMaker</b></font><font color="#9A3265">.</font><font color="#32659A">new</font></font><br/>
<font color="#222222">The </font><font face="Courier, serif"><font color="#32659A">new</font></font><font color="#222222"> method is a class method which creates a new, blank object. It also calls the object’s </font><font face="Courier, serif"><font color="#32659A">initialize</font></font><font color="#222222"> method <br/>
automatically. In the </font><font face="Courier, serif"><font color="#653200"><b>WishMaker</b></font></font><font color="#222222"> definition, you’ll see the </font><font face="Courier, serif"><font color="#32659A">initalize</font></font><font color="#222222"> method, which contains a single line of <br/>
<sub>code: </sub></font><font face="Courier, serif"><font color="#9A3265">@energy = </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#329A65">6</font><font color="#9A3265"> )</font></font><font color="#222222"><sub>.</sub><br/>
The </font><font face="Courier, serif"><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#329A65">6</font><font color="#9A3265"> )</font></font><font color="#222222"> picks a number between 0 and 5. This number will represent the number of wishes left in the day. So,
occassionally there are no wishes available from the wish maker.<br/>
The random number is assigned to an <b>instance variable</b> which is named </font><font face="Courier, serif"><font color="#9A3265">@energy</font></font><font color="#222222">. This instance variable will be
available any time throughout the class. The variable can’t be used outside the <b>scope</b> of the class.
<p>In chapter three, we briefly looked at instance variables and decided to respect them as 
<b>attributes</b>. (The <b>at symbol</b> could 
mean <b>attribute</b>.) Instance variables can used to store any kind of information, but they’re most often use to store bits of
information about the object represented by the class.</p>
In the above case, each wish maker for the day has its own energy level. If the wish maker were a machine, you might see a
gauge on it that points to the energy left inside. The </font><font face="Courier, serif"><font color="#9A3265">@energy</font></font><font color="#222222"> instance variable is going to act as that gauge.</font><br/>
<font face="Courier, serif"><font color="#32659A">todays_wishes</font><font color="#9A3265"> = </font><font color="#653200"><b>WishMaker</b></font><font color="#9A3265">.</font><font color="#32659A">new
todays_wishes</font><font color="#9A3265">.</font><font color="#32659A">grant</font><font color="#9A3265">( "</font><font color="#329A65">antlers</font><font color="#9A3265">" )</font></font>
<p><font color="#222222">Okay, step back and ensure you understand the example here. The </font>
<font face="Courier, serif"><font color="#653200"><b>WishMaker</b></font></font><font color="#222222"> class is an outline we’ve laid out for how
the whole magic wish program works. It’s not the <i>actual</i> genie in the bottle, it’s the paperwork behind the scenes. It’s the rules
and obligations the genie has to live by.</font></p>
<font color="#222222">It’s </font><font face="Courier, serif"><font color="#32659A">todays_wishes</font></font><font color="#222222"> that’s the genie in the bottle. And here we’re giving it a wish to grant. Give us antlers, genie. (If
you really get antlers from this example, I don’t want to hear about it. Go leap in meadows with your own kind now.)<br/>
In the last chapter, the drill was: Ruby has two halves.
1.
Defining things.<br/>
2.
Putting those things into action.<br/>
What are the actions in Ruby? Methods. And now, you’re having a lick of the definition language built-in to Ruby. Method
definitions using </font><font face="Courier, serif"><font color="#9A3265"><b>def</b></font></font><font color="#222222">. Class definitions using </font><font face="Courier, serif"><font color="#9A3265"><b>class</b></font></font><font color="#222222">.<br/>
At this point in your instruction, it’s easier to understand that <b>everything in Ruby is an object.</b></font><br/>
<font face="Courier, serif"><font color="#32659A">number</font><font color="#9A3265"> = </font><font color="#329A65">5</font><br/>
<font color="#32659A">print number</font><font color="#9A3265">.</font><font color="#32659A">next</font>
<font color="#545454"># prints '6'</font><br/>
<font color="#32659A">phrase</font><font color="#9A3265"> = '</font><font color="#329A65">wishing for antlers</font><font color="#9A3265">'</font><br/>
<font color="#32659A">print phrase</font><font color="#9A3265">.</font><font color="#32659A">length</font>
<font color="#545454"># prints '19'</font><br/>
<font color="#32659A">todays_wishes</font><font color="#9A3265"> = </font><font color="#653200"><b>WishMaker</b></font><font color="#9A3265">.</font><font color="#32659A">new
todays_wishes</font><font color="#9A3265">.</font><font color="#32659A">grant</font><font color="#9A3265">( "</font><font color="#329A65">antlers</font><font color="#9A3265">" )</font></font><br/>
<font color="#222222">And, consequently, each object has a class behind the scenes.</font>
<p><font face="Courier, serif"><font color="#32659A">print</font>
<font color="#329A65"> 5</font><font color="#9A3265">.</font><b><font color="#9A3265">class                       </font><font color="#653200">#</font></b><font color="#32659A"> prints</font><font color="#9A3265"> '</font><font color="#329A65">Integer</font><font color="#9A3265">'</font>
<font color="#32659A">print</font><font color="#9A3265"> '</font><font color="#329A65">wishing for antlers</font><font color="#9A3265">'.</font><b><font color="#9A3265">class   </font><font color="#653200">#</font></b><font color="#32659A"> prints</font><font color="#9A3265"> '</font><font color="#329A65">String</font><font color="#9A3265">'</font>
<font color="#32659A">print</font><font color="#653200"><b> WishMaker</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265">.</font><b><font color="#9A3265">class           </font><font color="#653200">#</font></b><font color="#32659A"> prints</font><font color="#9A3265"> '</font><font color="#329A65">WishMaker</font><font color="#9A3265">'</font></font></p>
<font color="#222222"><p>Dr. Cham never saw the wish maker as he hustled across the landspace. It lay far beyond his landing in the valley of Sedna.
Down sheer cliffs stuffed with layers of thicket, where you might toss your wish (written on a small 1” x 6” slip), down into the
gaping void. Hopefully it will land on a lizard’s back, sticking to its spindly little horn.</p>
<p>And let’s say your wish makes it that far. Well, then, 
<i>down the twisted wood</i> goes the skinny salamander, scurrying through 
the decaying churches which had been <b>pushed</b> over that steep canyon ledge once and for all. And the expired priest inside,
<i>who weathered the fall</i> as well, will kill the little amphibian - strangle it to death with a blessed gold chain - and save it for 
the annual <i>Getting To Know You</i> breakfast. He’ll step on your precious little wish and, when the <b>thieves come</b>, that slip
will still be there, stuck on his sole. Of course, the thieves’ <b>preferred method of torture</b> is to cut a priest in thin 
deli-shaved slices <i>from top to bottom</i>. Who can cull evidence from that? And when they chop that last thin slice of shoe sole,
they’ll have that <b>rubber scalp</b> in hand for <i>good luck</i> and <i>good times</i>. But they <b>canoe</b> much too hard, these thieves. They
slap their paddles swiftly in the current to get that great <i>outboard motor mist</i> going. But the shoe sole is <i>on a weak chain</i>,
tied to one man’s belt. And a <b>hairy old carp</b><i> leaps, latches</i> on to that minute fraction of footwear. And the thieves <i>can 
try</i>, but they don’t see <i>underwater</i>. If they could, they’d see that <b>mighty cable</b>, packed with millions of <i>needly</i> fiber 
optics. Indeed, <b>that fish is a peripheral plugged</b> right into the <i>core workings</i> of the planet Endertromb. <b>All it 
takes is one swallow</b> from that fish <b>and your wish is home free!</b></p>
And that’s how wishes come true for children in this place.<br/>
Once my daughter’s organ instructor had drawn up the class for the wish maker, he then followed with a class for the planet’s
mind reader.</font><br/>
<font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">endertromb</font><font color="#9A3265">'</font><br/>
<b><font color="#9A3265">class </font><font color="#653200">MindReader</font></b><br/>
<font color="#9A3265"><b>def </b>initialize<br/>
@minds =</font><font color="#653200"><b> Endertromb</b></font><font color="#9A3265">::</font><font color="#32659A">scan_for_sentience</font><br/>
<font color="#9A3265"><b>end<br/>
def </b>read</font>
<p><font color="#9A3265">@minds.</font>
<font color="#32659A">collect</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">mind</font><font color="#9A3265">|</font>
<font color="#32659A">mind</font><font color="#9A3265">.</font><font color="#32659A">read</font><br/>
<font color="#9A3265"><b>end<br/>
end<br/>
end</b></font></p></font>
<font color="#222222">Much as you’ve seen before, the </font><font face="Courier, serif"><font color="#32659A">initalize</font></font><font color="#222222"> happens when a new </font><font face="Courier, serif"><font color="#653200"><b>MindReader</b></font></font><font color="#222222"> object is created. This </font><br/>
<font face="Courier, serif"><font color="#32659A">initialize</font></font><font color="#222222"> gathers scans the planet for mindshare. It looks like these minds are stored in an array, since they are<br/>
later iterated over using the </font><font face="Courier, serif"><font color="#32659A">collect</font></font><font color="#222222"> method.<br/>
Both the wish maker and the mind reader refer to a class named </font><font face="Courier, serif"><font color="#653200"><b>Endertromb</b></font></font><font color="#222222">. This class is stored in a file</font><br/>
<font face="Courier, serif"><font color="#32659A">endertromb</font><font color="#9A3265">.</font><font color="#32659A">rb</font></font><font color="#222222">, which is loaded with the code: </font><font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">endertromb</font><font color="#9A3265">'</font></font><font color="#222222">. Often you’ll use other classes<br/>
to accomplish part of your task. Most of the latter half of this book will explore the wide variety of helpful classes that can be
loaded in Ruby.<br/>
<b>Dr. Cham Ventures Inside</b>
<p>But as Dr. Cham neared the castle, although the planet was aware of his thoughts, sensing his wonderment and anticipation, 
all Dr. Cham felt was deadness. He tromped up the steps of its open gate and through the entrance of the most beautiful
architecture and was almost certain it was deserted.</p>
For a while he knocked. Which paid off.<br/>
Blocky whale greeting.<br/>
He watched the baby whale rise like a determined balloon. He marvelled at his first alien introduction and felt some concern
that it had passed so quickly. Well, he would wait inside.<br/>
As he stepped through the castle door, he felt fortunate that the door hadn’t been answered by a huge eagle with greedy talons,
eager to play. Or a giant mouse head. Or even a man-sized hurricane. Just a tubby little choo-choo whale.<br/>
“Not a place to sit down in this castle,” he said.
<p>At first, he had thought he had just entered a very dim hallway, but as his eyes adjusted, he saw the entrance extended into a 
tunnel. The castle door had opened right into a passage made of long, flat slabs of rock. Some parts were congruous and
resembled a corridor. Other parts narrowed, and even tilted, then finally tipped away out of view.</p>
The passage was lit by small doorless refrigerators, big enough to hold an armful of cabbage, down by his feet. He peered
inside one, which was hollow, illuminated along all sides, and turning out ice shards methodically.<br/>
He pawed the ice chips, which clung dryly to his fingertips, and he scrubbed his hands in the ice. Which left some muddy
streaks on his hands, but satisfied a small part of his longing to bathe. How long had it been? Ten years? Thirty?<br/>
Along the passage, long tubes of cloth cluttered some sections. Later, bright pixel matter in porcelain scoops and buckets.
<p>He happened upon a room which had been burrowed out of the tunnel which had a few empty turtle shells on the ground and
a large illuminated wall. He stared into the room, bewildered. What could this be? In one state of mind, he thought of having a
seat on a shell. This could be the entrace at last, some kind of receiving room. On the other hand, spiders could pour out of the
shell’s hollow when he sat. He moved on.</p>
<b>Meal in a Castle’s Pocket</b>
<p>As he journeyed along the passageways (for the central tunnel forked and joined larger, vacuous caverns), he picked up themes
in some locations. Groups of rooms infested with pumping machinery. Cloth and vats of glue dominated another area. He
followed voices down a plush, pillowed cavity, which led him to a dead end: a curved wall with a small room carved at 
eye-level.</p>
He approached the wall and, right in the cubby hole, were two aardvarks eating at a table.<br/>
They gazed at him serenely, both munching on some excavated beetle twice their size, cracked open and frozen on its back on
the table.<br/>
“Hello, little puppets,” he said, and they finished their bites and kept looking with their forks held aloof.
<p>“I wish my niece Hannah were here to meet you,” he told the attentive miniature aardvarks. “She’d think you were an intricate
puppet show.” He peered in at the dining area, shelves with sets of plates, hand towels. Half of a tiny rabbit was jutting out
from the top a machine, creamy red noodles were spilling out underneath it. A door at the back of the room hung ajar. Dr.
Cham could see a flickering room with chairs and whirring motors through the door.</p>
“Any child would want this dollhouse,” he said. “Hannah, my niece, as I mentioned, she has a wind-up doll that sits at a
spindle and spins yarn. It’s an illusion, of course. The doll produces no yarn at all.”<br/>
One of the aardvarks opened a trapdoor in the floor and pressed a button down inside, which lit. Then, a small film projector 
slowly came up on a rod. The other aardvark sat and watched Dr. Cham.
<p>“But Hannah still reaches down into the dollhouse and collects all the imaginary yarn into a bundle. Which she takes to her
mother, my sister, who is very good at humoring Hannah. She sews a dress to the doll’s dimensions, which Hannah takes back
to the doll.</p>
<p>“And she tells the doll, ‘Here, look, your hard work and perserverance has resulted in this beautiful dress. You can now accept
the Chief of Police’s invitation to join him tonight at the Governor’s Mansion.’ And she has a doll in a policeman’s uniform who
plays the part of the Chief. He’s too scrawny to be an actual Chief, that would require quite a bit of plastic.”</p>
The aardvark responsible for the film projector loaded a reel and aimed the projector at the back wall. The film spun to life and
the aardvark took a seat. A green square appeared on the wall. The attentive aardvark stared at Dr. Cham still.<br/>
“Your films are coloured,” said Dr. Cham. “What a lovely, little life.”<br/>
The film played on: a blue square. Then, a red circle. Then, an orange square. The attentive aardvark turned away, watched the
screen change to a pink triangle, and both aardvarks resumed eating.<br/>
A purple star. A red square. With quietness settling, Dr. Cham could hear notes droning from the projector. Like a slow,
plodding music box trying to roll its gears along the train tracks.<br/>
“Yes, enjoy your supper,” said Dr. Cham and he politely tipped his head away, marching back up the path he’d taken.<br/>
<b>Another Dead End Where Things Began</b>
<p>He found himself lost in the castle’s tunnels. Nothing looked familiar. He wasn’t worried much, though. He was on another
planet. He would be lost regardless.<br/>
He wound through the tunnels, attempting to recall his paths, but far too interested in exploring to keep track of his steps. He
followed a single tunnel deep, down, down, which slanted so steeply that he had to leap across ledges and carefully watch his 
footholds. The gravity here seemed no different than Earth. His legs were pulled into slides just as easily.</p>
<p>Although he had no absolute way of knowing where he was, he felt certain that he had left the castle’s boundaries. This deep,
this long of a walk. It had been an hour since he’d entered through the door. And, as the tunnel wound back up, he was sure
that he would emerge into a new dwelling, perhaps even a manhole which he could peek out from and see the castle. Perhaps
he shouldn’t have come so far down this route. He hoped nothing was hibernating down here.</p>
The tunnel came to a stop. A dark, dead end.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0056.png"/><font color="#222222"><p>He had time. So he read the book. He read of the foxes and their pursuit of the porcupine who stole their pickup truck. He read
of the elf and the ham. He saw the pictographs of himself and found he could really relate to his own struggles. He even
learned Ruby. He saw how it all ended.</p>
Were I him, I couldn’t have stomached it. But he did. And he pledged in his bosom to see things out just as they happened.<br/>
On the computer monitor, Dr. Cham saw the flashing </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222"> prompt. Like Dr. Cham, you might recognize the </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222"> prompt 
from </font><font color="#541A8C">The Tiger’s Vest</font><font color="#222222"> (the first expansion pak to this book, which includes a basic introduction to Interactive Ruby.)<br/>
Whereas he had just been exploring tunnels by foot, he now explored the machine’s setup with the prompt. He set the book
back where he had found it. He didn’t need it anymore. This was all going to happen whether he used it or not.<br/>
He started with:</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>Object</b></font><font color="#9A3265">::</font><font color="#32659A">constants</font><br/>
<font color="#9A3265">=&gt; ["</font><font color="#329A65">Marshal</font><font color="#9A3265">", "</font><font color="#329A65">String</font><font color="#9A3265">", "</font><font color="#329A65">Dir</font><font color="#9A3265">", "</font><font color="#329A65">LoadError</font><font color="#9A3265">", "</font><font color="#329A65">Float</font><font color="#9A3265">", ...<b> and</b></font><font color="#32659A"> so on</font><font color="#9A3265"> ]</font></font><br/>
<font color="#222222">This command lists all the top-level constants. Classes are also listed as constants, so this list can be great to see what’s loaded
into Ruby at any time.<br/>
He scanned the list for anything unfamiliar. Any classes which didn’t come with Ruby. </font><font face="Courier, serif"><font color="#653200"><b>Marshal</b></font></font><font color="#222222">, </font><font face="Courier, serif"><font color="#653200"><b>String</b></font></font><font color="#222222">, </font><font face="Courier, serif"><font color="#653200"><b>Dir</b></font></font><font color="#222222">, </font><br/>
<font face="Courier, serif"><font color="#653200"><b>LoadError</b></font></font><font color="#222222">, </font><font face="Courier, serif"><font color="#653200"><b>Float</b></font></font><font color="#222222">. Each of those came with Ruby.<br/>
But further down the list:</font><br/>
<font face="Courier, serif"><font color="#9A3265">... "</font><font color="#329A65">Struct</font><font color="#9A3265">", "</font><font color="#329A65">Values</font><font color="#9A3265">", "</font><font color="#329A65">Time</font><font color="#9A3265">", "</font><font color="#329A65">Elevator</font><font color="#9A3265">", "</font><font color="#329A65">Range</font><font color="#9A3265">" ...</font></font><br/>
<font color="#222222"><i>Elevator?</i> Exactly the kind of class to poke around with. He had a go.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#653200"><b>Elevator</b></font><font color="#9A3265">::</font><font color="#32659A">methods</font><br/>
<font color="#9A3265">=&gt; ["</font><font color="#329A65">method</font><font color="#9A3265">", "</font><font color="#329A65">freeze</font><font color="#9A3265">", "</font><font color="#329A65">allocate</font><font color="#9A3265">", ... </font><font color="#32659A">another long list</font><font color="#9A3265"> ... ]</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>Elevator</b></font><font color="#9A3265">::</font><font color="#32659A">class_variables</font><br/>
<font color="#9A3265">=&gt; ['</font><font color="#329A65">@@diagnostic_report</font><font color="#9A3265">', '</font><font color="#329A65">@@power_circuit_active</font><font color="#9A3265">', '</font><font color="#329A65">@@maintenance_password</font><font color="#9A3265">']</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>Elevator</b></font><font color="#9A3265">::</font><font color="#32659A">constants</font><br/>
<font color="#9A3265">=&gt; []</font></font></p>
<font color="#222222">Looks like the </font><font face="Courier, serif"><font color="#653200"><b>Elevator</b></font></font><font color="#222222"> class had plenty of methods. Most of these looked like they were the same methods every object<br/>
has in Ruby. For example, </font><font face="Courier, serif"><font color="#32659A">method</font></font><font color="#222222">, </font><font face="Courier, serif"><font color="#32659A">freeze</font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#32659A">allocate</font></font><font color="#222222"> come with every class in Ruby.<br/>
<sub>(</sub></font><font face="Courier, serif"><font color="#653200"><b>Elevator</b></font><font color="#9A3265">::</font><font color="#32659A">freeze</font></font><font color="#222222"><sub> would keep the </sub></font><font face="Courier, serif"><font color="#653200"><b>Elevator</b></font></font><font color="#222222"><sub> class from being changed. </sub></font><font face="Courier, serif"><font color="#653200"><b>Elevator</b></font><font color="#9A3265">::</font><font color="#32659A">allocate</font></font><br/>
<font color="#222222">would make a new </font><font face="Courier, serif"><font color="#653200"><b>Elevator</b></font></font><font color="#222222"> object without calling the </font><font face="Courier, serif"><font color="#32659A">initialize</font></font><font color="#222222"> method.)<br/>
The </font><font face="Courier, serif"><font color="#32659A">class_variables</font></font><font color="#222222"> were interesting to Dr. Cham. This elevator appeared genuine. But no available</font><br/>
<font face="Courier, serif"><font color="#32659A">constants</font></font><font color="#222222">. This tells us there are no classes nested inside the </font><font face="Courier, serif"><font color="#653200"><b>Elevator</b></font></font><font color="#222222"> class.<br/>
He tried to create an </font><font face="Courier, serif"><font color="#653200"><b>Elevator</b></font></font><font color="#222222"> object.</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">e</font><font color="#9A3265"> = </font><font color="#653200"><b>Elevator</b></font><font color="#9A3265">::</font><font color="#32659A">new</font>
<p><font color="#653200"><b>ArgumentError</b></font>
<font color="#9A3265">: </font><font color="#32659A">wrong number of arguments</font><font color="#9A3265"> (</font><font color="#329A65">0</font><font color="#9A3265"><b> for</b></font><font color="#329A65"> 1</font><font color="#9A3265">), </font><font color="#32659A">requires a password
from</font><font color="#9A3265"> (</font><font color="#32659A">irb</font><font color="#9A3265">):</font><font color="#329A65">2</font>:in<font color="#9A3265"> `</font><font color="#32659A">initialize</font><font color="#9A3265">'</font><br/>
<font color="#329A65">from (irb):2:in `new</font><font color="#9A3265">'</font><br/>
<font color="#32659A">from</font><font color="#9A3265"> (</font><font color="#32659A">irb</font><font color="#9A3265">):</font><font color="#329A65">2</font><br/>
<font color="#32659A">from</font><font color="#9A3265"> :</font><font color="#329A65">0</font></p></font>
<font color="#222222">He tried a few passwords.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#32659A">e</font><font color="#9A3265"> = </font><font color="#653200"><b>Elevator</b></font><font color="#9A3265">::</font><font color="#32659A">new</font><font color="#9A3265">( "</font><font color="#329A65">going up</font><font color="#9A3265">" )</font>
<font color="#653200"><b>AccessDeniedError</b></font><font color="#9A3265">: </font><font color="#32659A">bad password<br/>
irb</font><font color="#9A3265">&gt; </font><font color="#32659A">e</font><font color="#9A3265"> = </font><font color="#653200"><b>Elevator</b></font><font color="#9A3265">::</font><font color="#32659A">new</font><font color="#9A3265">( "</font><font color="#329A65">going_up</font><font color="#9A3265">" )</font>
<font color="#653200"><b>AccessDeniedError</b></font><font color="#9A3265">: </font><font color="#32659A">bad password<br/>
irb</font><font color="#9A3265">&gt; </font><font color="#32659A">e</font><font color="#9A3265"> = </font><font color="#653200"><b>Elevator</b></font><font color="#9A3265">::</font><font color="#32659A">new</font><font color="#9A3265">( "</font><font color="#329A65">stairs_are_bad</font><font color="#9A3265">" )</font>
<font color="#653200"><b>AccessDeniedError</b></font><font color="#9A3265">: </font><font color="#32659A">bad password<br/>
irb</font><font color="#9A3265">&gt; </font><font color="#32659A">e</font><font color="#9A3265"> = </font><font color="#653200"><b>Elevator</b></font><font color="#9A3265">::</font><font color="#32659A">new</font><font color="#9A3265">( "</font><font color="#329A65">StairsAreBad</font><font color="#9A3265">" )</font>
<font color="#653200"><b>AccessDeniedError</b></font><font color="#9A3265">: </font><font color="#32659A">bad password</font></font></p>
<font color="#222222">That was useless. <i>Oh, wait!</i> The maintenance password. Listed in the </font><font face="Courier, serif"><font color="#32659A">class_variables</font></font><font color="#222222">.</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>Elevator</b></font><font color="#9A3265">::</font><font color="#32659A">maintenance_password</font>
<p><font color="#653200"><b>NoMethodError</b></font>
<font color="#9A3265">: </font><font color="#32659A">undefined method</font><font color="#9A3265"> `</font><font color="#32659A">maintenance_password</font><font color="#9A3265">'</font><font color="#329A65"> for Elevator:Class
from (irb):1<br/>
from :0</font></p></font>
<font color="#222222">Hmm. Instance variables are only available inside an object. And class variables are only available inside a class. How to get at
that password?</font>
<font face="Courier, serif"><p><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><b><font color="#9A3265">class </font><font color="#653200">Elevator</font></b><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt;   <b>def </b>Elevator.maintenance_password</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt;     @@maintenance_password</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt;   <b>end</b></font></p>
<p><font color="#32659A">irb</font>
<font color="#9A3265">&gt; <b>end</b><br/>
=&gt; </font><font color="#653200"><b>nil</b></font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>Elevator</b></font><font color="#9A3265">::</font><font color="#32659A">maintenance_password</font>
<font color="#9A3265">=&gt; "</font><font color="#329A65">stairs_are_history!</font><font color="#9A3265">"</font></p></font>
<font color="#222222">Alright! He got the password. Did you see that?<br/>
He added a class method to the </font><font face="Courier, serif"><font color="#653200"><b>Elevator</b></font></font><font color="#222222"> class. Isn’t that great how you can start a new class definition for</font><br/>
<font face="Courier, serif"><font color="#653200"><b>Elevator</b></font></font><font color="#222222"> and Ruby just adds your changes to the existing class definition?<br/>
Class methods are usually called with the <b>double colon</b>. But, a period is fine as well. Since </font><font face="Courier, serif"><font color="#653200"><b>Elevator</b></font></font><font color="#222222"> is a class itself, <br/>
Ruby will figure that if you call </font><font face="Courier, serif"><font color="#653200"><b>Elevator</b></font><font color="#9A3265">.</font><font color="#32659A">maintenance_password</font></font><font color="#222222">, you’re calling a class method. The
double colon simply helps make class methods obvious to the reader.</font>
<p><font color="#222222">And justly so. Class methods are a bit unusual. Normally you won’t want to store information directly inside of a class.
However, if you have a bit of information that you need to share among all objects of a class, then you have a good reason to
use the class for storage. It’s understandable that the </font><font face="Courier, serif"><font color="#9A3265">@@maintenance_password</font></font><font color="#222222"> would be stored in the class, 
instead of in each separate object. This way, the objects can simply reach up into the class and see the shared password.</font></p>
<font color="#222222">Here’s probably how the password protection works.</font><br/>
<font face="Courier, serif"><b><font color="#9A3265">class </font><font color="#653200">Elevator</font></b><br/>
<font color="#9A3265"><b>def </b>initialize( </font><font color="#32659A">pass</font><font color="#9A3265"> )</font><br/>
<b><font color="#9A3265">raise</font><font color="#653200"> AccessDeniedError</font></b><font color="#9A3265">, "</font><font color="#329A65">bad password</font><font color="#9A3265">" \
<b>unless</b></font><font color="#32659A"> pass</font><font color="#9A3265">.</font><font color="#32659A">equals?</font><font color="#9A3265"> @@maintenance_password
<b>end<br/>
end</b></font></font><br/>
<font color="#222222">Passwording a class like this is pointless, since anything in Ruby can be altered and overwritten and remolded. Dr. Cham had
the password and ownership of the elevator is his.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#32659A">e</font><font color="#9A3265"> = </font><font color="#653200"><b>Elevator</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265">( "</font><font color="#329A65">stairs_are_history!</font><font color="#9A3265">" )</font>
<font color="#545454">#&lt;Elevator:0x81f12f4 @level=4&gt;</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">e</font><font color="#9A3265">.</font><font color="#32659A">level</font><font color="#9A3265"> = </font><font color="#329A65">1</font></font></p>
<p><font color="#222222">Dr. Cham was standing right there when the elevator doors, off behind the computer terminal, opened for him. With an
exasperated sense of accomplishment and a good deal of excitement surrounding all of the events that lie ahead, he stepped 
into the elevator and pressed 4.</font></p>
<b><font color="#F0FAEE">sidebar!</font><br/>
<font color="#222222">3. The Continued Story of My Daughter's Organ 
Instructor</font><br/>
<font color="#545454">An Evening of Unobstructed Voltage</font></b>
<font color="#222222"><p>I know you may be alarmed to hear that I have a daughter. You think my writing is
indicative of a palsied or infantile mind. Well, please rest. I don’t have a daughter. But
I can’t let that stop me from sorting out her musical training.</p>
<p>As I was related these elaborate histories of the planet Endertromb, I found myself
wandering through hallways, running my fingertips along the tightly buttoned sofas
and soaking myself in the saturated bellowings of the pipes, as played by my</p></font>
<p>I dug up this article from 
<i>The Consistent 
Reminder</i>, a Connecticut newspaper which 
ran the four star review of Dr. Cham. Midgie
Dare, the book reviewer who suddenly 
opened her critical eye to anything tangible, 
praised the Doctor for his manners and 
innovations in the very same daily edition 
that she defamed cantaloupe and docked </p>
<img src="whys-poignant-guide-to-ruby_pic0057.png"/><img src="whys-poignant-guide-to-ruby_pic0050.png"/><font color="#222222"><p>daughter’s organ instructor. His notes resounded so deep and hollow in the walls of his
manor that I began to casually mistake them for an ominous silence, and found it even
easier to retreat into deep space with my thoughts. To think upon the ancient planet
and its darker philosophies: its flesh temples, tanned from the dermal remains of its
martyrs; its whale cartels, ingesting their enemies and holding them within for
decades, dragging them up and down the staircases of ribs; its poison fogs and its
painful doorways; and, the atrocious dynasties of The Originals, the species which
claims fathership to all of the intellegent beings across the universe.</p>
But, eventually, I’d hear those pipes of a higher octave sing and I’d be back in the very
same breezy afternoon where I’d left.</font><br/>
Manitoba for having crackly telephone 
service.<br/>
I got a kick out of the end of her article. Here
you go.
<p><font size="-2"><font color="#656565"><i>He dismounted his horse with unquestionable 
care for anyone who might be in the vicinity.
Attentive of all sides, he lowered himself from the 
saddle gently, slowing to a pace which must be 
measured in micrometers per second to be 
appreciated.</i></font></font></p>
<font color="#222222"><p>How interesting that even the breeze of our planet is quite a strange thing to some 
outsiders. For he had also told me of the travellers from Rath-d, who ventured to Earth
five centuries ago, but quickly dissipated in our air currents since they and their crafts 
and their armor were all composed of charcoal.</p>
<p>I had sat at the organ, listening to his faint tales of his colony, while he punctuated his
symphonies to greater volumes and the story would disappear for awhile, until the
coda came back around. He spoke of he and his brothers piling into the hollow of his
mother’s tail and tearing the waxy crescent tissue from the inner wall. Juicy and
spongy and syrupy soap which bleached their mouths and purged their esophagus as it
went down. They chewed and chomped the stuff and it foamed. After they ate, they
blew bubbles at each other, each bubble filled with a dense foam, which they slept
upon. And early in the morning, when mother opened her tail again, she watched
serenely as her babies lay cradled in the stew of dark meatballs and sweet, sticky froth.</p>
<p>He spelled out all the tastes of Endertromb. Of their salmon’s starchy organs, which
cooked into a pasta, and its eyes which melted into rich cream. Of their buttermelon
with tentacles. And he was just beginning to appreciate the delicacies as a child, only to
be lifted from a schoolyard by a pair of upright pygmy elephants who reached at him,
through the heavens, and snatched upon his collar with a vast length of crane.</p>
<p>They transplanted him on Earth, led him from their craft, trumpeting their snouts 
loudly for the city of Grand Rapids to hear, then left, weeping and embracing each 
other.</p>
“But, strangely (em-pithy-dah), I learned upon, played upon (pon-shoo) the organs on
my home (oth-rea) planet,” he said.
<p>My daughter’s organ instructor speaks these extra words you see in parentheses. Who
knows if they are from his native tongue or if they are his own soundful hiccups. He
keeps another relic from Endertromb as well: he has twelve names.</p></font>
<font color="#656565"><i><font size="-2"><p>Those of us in his company found ourselves with 
maws agape, watching his boot touch down upon
the ground. So precise and clean a step that it
seemed it would never meet the earth, only hover
slight above it. Then, before the landing had
actually registered with any of us, we were off to 
the cuisine, whisked away in the shroud of gaiety
that was always right in front of Harold Cham, 
always just behind him, and most especially 
concentrate directly in his own luminary self.</p>
<p>He also carried loosely at his side a capitally
ignorant statesman’s daughter, who spared us
no leave from her constant criticisms of atheists
and railway routes.</p>
<p>“At home, my efforts to light a candle were
trounced upon by further train rumblings, which
thrusted the match in my hand nearer the
curtains!” She derided Dr. Cham for his waning
grip on her forearm and became jealous when he
was able to tune into a pleasurable woman’s
voice on the radio once we returned to the
residence.</p></font>
<p><font size="-2">The dusk did settle, however, and we found 
ourselves in a communal daze beneath the thick 
particles of cotton drift that wafted through the 
polished piano room, quite entertained by the </font>
<font size="-1">Afternoon Nap Program</font><font size="-2">, which played their
phonograph so quietly at the station that we
could only hear the scratching of dead<br/>
Napoleon’s sleeves across the bedsheets. I felt a
great shriek inside me at the thought! Still, on
yonder chairs, the two lovers kept an abrupt
distance between themselves and I felt<br/>
encompassed by Dr. Cham’s warm gaze and his
playful tip of the sherry glass.</font></p></i></font>
<img src="whys-poignant-guide-to-ruby_pic0058.png"/><font color="#F0FAEE"><b>sidebar!</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0050.png"/><font color="#222222">“No, (wen-is-wen),” he said. “I have one name (im-apalla) which is said (iff) many-many different ways.”<br/>
I call him Paij-ree in the morning and Paij-plo in the later evening. Since it is day as I write, I will call him Paij-ree here.<br/>
<b>Mumble-Free Earplugs</b><br/>
So I told Paij-ree, “Paij-ree, I am writing a book. To teach the world Ruby.”<br/>
“Oh, (pill-nog-pill-yacht) nice,” he said. He’s known Ruby longer than I have, but<br/>
still: <i>I</i> will be my daughter’s Ruby instructor.
<p>And I said, “Paij-ree, you are in the book. And the stories of your planet.” I talk to<br/>
him like he’s E.T. I don’t know why. Just like how I said next, “And then maybe<br/>
someday you can go home to your mom and dad!”</p>
To which he said, “(pon-shoo) (pon-shoo) (em-pithy-dah).” Which is his way of<br/>
speaking out loud his silence and awe.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0059.png"/><font color="#222222">He wanted to see what I’d written, so I showed him this short method I’ve written<br/>
for you.</font>
<font face="Courier, serif"><p><font color="#9A3265"><b>def </b>
wipe_mutterings_from( </font><font color="#32659A">sentence</font><font color="#9A3265"> )<br/>
<b>while</b></font><font color="#32659A"> sentence</font><font color="#9A3265">.</font><font color="#32659A">include?</font><font color="#9A3265"> '</font><font color="#329A65">(</font><font color="#9A3265">'</font><br/>
<font color="#32659A">open</font><font color="#9A3265"> = </font><font color="#32659A">sentence</font><font color="#9A3265">.</font><font color="#32659A">index</font><font color="#9A3265">( '</font><font color="#329A65">(</font><font color="#9A3265">' )</font><br/>
<font color="#32659A">close</font><font color="#9A3265"> = </font><font color="#32659A">sentence</font><font color="#9A3265">.</font><font color="#32659A">index</font><font color="#9A3265">( '</font><font color="#329A65">)</font><font color="#9A3265">', </font><font color="#32659A">open</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">sentence</font><font color="#9A3265">[</font><font color="#32659A">open</font><font color="#9A3265">..</font><font color="#32659A">close</font><font color="#9A3265">] = '' <b>if</b></font><font color="#32659A"> close</font></p>
<font color="#9A3265"><b>end<br/>
end</b></font></font><br/>
<font color="#222222">“Can you see what this does, Paij-ree? Any old Smotchkkiss can use this method to take all the incoherent babblings out of
your speaking,” I said.<br/>
And I fed something he said earlier into the method.</font>
<font face="Courier, serif"><p><font color="#32659A">what_he_said</font>
<font color="#9A3265"> = "</font><font color="#329A65">But, strangely (em-pithy-dah), <br/>
I learned upon, played upon (pon-shoo) the <br/>
organs on my home (oth-rea) planet.</font><font color="#9A3265">" </font></p>
<font color="#32659A">wipe_mutterings_from</font><font color="#9A3265">( </font><font color="#32659A">what_he_said</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">print what_he_said</font></font><br/>
<font color="#222222">And it came out as a rather plain sentence.</font>
<p><font face="Courier, serif"><font color="#653200"><b>But</b></font>
<font color="#9A3265">, </font><font color="#32659A">strangely</font><font color="#9A3265"> , </font><br/>
<font color="#653200"><b>I</b></font><font color="#32659A"> learned upon</font><font color="#9A3265">, </font><font color="#32659A">played upon the<br/>
organs on my home planet</font><font color="#9A3265">.</font></font></p>
<font color="#222222">“You shouldn’t use that (wary-to) while loop,” he said. “There are lovelier, (thopt-er), gentler ways.”</font>
<p><font color="#222222">In the </font>
<font face="Courier, serif"><font color="#32659A">wipe_mutterings_from</font></font><font color="#222222"> method, I’m basically searching for opening parentheses. When I find one, I
scan for a closing paren which follows it. Once I’ve found both, I replace them and their contents with an empty string. The</font>
<font face="Courier, serif"><font color="#9A3265"><b>while</b></font></font><font color="#222222"> loop continues until all parentheses are gone. The mutterings are removed and the method ends.</font></p>
<font color="#222222"><p>“Now that I look at this method,” I said. “I see that there are some confusing aspects and some ways I could do this better.”
Please don’t look down on me as your teacher for writing some of this code. I figure that it’s okay to show you some sloppy
techniques to help you work through them with me. So let’s.</p>
Okay, <b>Confusing Aspect No. 1</b>: This method cleans a string. But what if we accidentally give it a </font><font face="Courier, serif"><font color="#653200"><b>File</b></font></font><font color="#222222">? Or a number?<br/>
<sub>What happens? What if we run </sub></font><font face="Courier, serif"><font color="#32659A">wipe_mutterings_from</font><font color="#9A3265">( </font><font color="#329A65">1</font><font color="#9A3265"> )</font></font><font color="#222222"><sub>?</sub><br/>
If we give </font><font face="Courier, serif"><font color="#32659A">wipe_mutterings_from</font></font><font color="#222222"> the number 1, Ruby will print the following and exit.</font>
<p><font face="Courier, serif"><font color="#653200"><b>NoMethodError</b></font>
<font color="#9A3265">: </font><font color="#32659A">undefined method</font><font color="#9A3265"> `</font><font color="#32659A">include?</font><font color="#9A3265">'</font><font color="#329A65"> for 1:Fixnum
from (irb):2:in `wipe_mutterings_from</font><font color="#9A3265">'</font>
<font color="#32659A">from</font><font color="#9A3265"> (</font><font color="#32659A">irb</font><font color="#9A3265">):</font><font color="#329A65">8</font></font></p>
<font color="#222222"><p>What you see here is a rather twisted and verbose (but at times very helpful) little fellow called the 
<b>backtrace</b>. He’s a
wound-up policeman who, at the slightest sign of trouble, immediately apprehends any and all suspects, pinning them against
the wall and spelling out their rights so quickly that none can quite hear it all. But it’s plain that there’s a problem. And, of
course, it’s all a big misunderstanding, right?</p>
When Ruby reads you these Miranda rights, listen hardest to the beginning. The first line is often all you need. In this first line
is contained the essential message. And in the above, the first line is telling us that there is no </font><font face="Courier, serif"><font color="#32659A">include?</font></font><font color="#222222"> method for the </font>
<p><font color="#222222">number 1. Remember, when we were talking about the </font>
<font face="Courier, serif"><font color="#32659A">reverse</font></font><font color="#222222"> method in the last chapter? Back then, I said, “<b>a lot of 
methods are only available with certain types of values</b>.” Both </font><font face="Courier, serif"><font color="#32659A">reverse</font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#32659A">include?</font></font><font color="#222222"> are methods 
which work with strings but are meaningless and unavailable for numbers.</font></p>
<font color="#222222">To be clear: the method tries to use to the number. The method will start with </font><font face="Courier, serif"><font color="#32659A">sentence</font></font><font color="#222222"> set to 1. Then, it hits the second <br/>
<sub>line: </sub></font><font face="Courier, serif"><font color="#9A3265"><b>while</b></font><font color="#32659A"> sentence</font><font color="#9A3265">.</font><font color="#32659A">include?</font><font color="#9A3265"> '</font><font color="#329A65">(</font><font color="#9A3265">'</font></font><font color="#222222"><sub>. Numbers have no </sub></font><font face="Courier, serif"><font color="#32659A">include?</font></font><font color="#222222"><sub> method. Great, the backtrace has</sub><br/>
shown us where the problem is. I didn’t expect anyone to pass in a number, so I’m using methods that don’t work with
numbers.</font>
<p><font color="#222222"><b>See, this is just it.</b>
 Our method is its own little pocket tool, right? It acts as its own widget independent of anything else.
To anyone out there using the </font><font face="Courier, serif"><font color="#32659A">wipe_mutterings_from</font></font><font color="#222222"> method, should they pass in a number, they’ll be tossed
this panic message that doesn’t make sense to them. They’ll be asked to poke around inside the method, which really isn’t their
business. They don’t know their way around in there.</font></p>
<font color="#222222">Fortunately, we can throw our own errors, our own <b>exceptions</b>, which may make more sense to someone who inadvertantly 
hands the wrong object in for cleaning.</font><br/>
<font face="Courier, serif"><font color="#9A3265"><b>def </b>wipe_mutterings_from( </font><font color="#32659A">sentence</font><font color="#9A3265"> )<br/>
<b>unless</b></font><font color="#32659A"> sentence</font><font color="#9A3265">.</font><font color="#32659A">respond_to?</font> :include?<br/>
<b><font color="#9A3265">raise</font><font color="#653200"> ArgumentError</font></b><font color="#9A3265">, </font>
<p><font color="#9A3265">"</font>
<font color="#329A65">cannot wipe mutterings from a #{ sentence.class }</font><font color="#9A3265">" 
<b>end<br/>
while</b></font><font color="#32659A"> sentence</font><font color="#9A3265">.</font><font color="#32659A">include?</font><font color="#9A3265"> '</font><font color="#329A65">(</font><font color="#9A3265">'</font></p>
<p><font color="#32659A">open</font>
<font color="#9A3265"> = </font><font color="#32659A">sentence</font><font color="#9A3265">.</font><font color="#32659A">index</font><font color="#9A3265">( '</font><font color="#329A65">(</font><font color="#9A3265">' )</font><br/>
<font color="#32659A">close</font><font color="#9A3265"> = </font><font color="#32659A">sentence</font><font color="#9A3265">.</font><font color="#32659A">index</font><font color="#9A3265">( '</font><font color="#329A65">)</font><font color="#9A3265">', </font><font color="#32659A">open</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">sentence</font><font color="#9A3265">[</font><font color="#32659A">open</font><font color="#9A3265">..</font><font color="#32659A">close</font><font color="#9A3265">] = '' <b>if</b></font><font color="#32659A"> close</font></p>
<font color="#9A3265"><b>end<br/>
end</b></font></font><br/>
<font color="#222222">This time, if we pass in a number (again, the number 1), we’ll get something more sensible.</font>
<p><font face="Courier, serif"><font color="#653200"><b>ArgumentError</b></font>
<font color="#9A3265">: </font><font color="#32659A">cannot wipe mutterings from a</font><font color="#653200"><b> Fixnum</b></font>
<font color="#32659A">from</font><font color="#9A3265"> (</font><font color="#32659A">irb</font><font color="#9A3265">):</font><font color="#329A65">3</font>:in<font color="#9A3265"> `</font><font color="#32659A">wipe_mutterings_from</font><font color="#9A3265">'</font>
<font color="#329A65">from (irb):12</font></font></p>
<font color="#222222">The </font><font face="Courier, serif"><font color="#32659A">respond_to?</font></font><font color="#222222"> method is really nice and I plead that you never forget it’s there. The </font><font face="Courier, serif"><font color="#32659A">respond_to?</font></font><font color="#222222"> checks <br/>
any object to be sure that it has a certain method. It then gives back a </font><font face="Courier, serif"><font color="#653200"><b>true</b></font></font><font color="#222222"> or </font><font face="Courier, serif"><font color="#653200"><b>false</b></font></font><font color="#222222">. In the above case, the incoming</font><br/>
<font face="Courier, serif"><font color="#32659A">sentence</font></font><font color="#222222"> object is checked for an </font><font face="Courier, serif"><font color="#32659A">include?</font></font><font color="#222222"> method. If no </font><font face="Courier, serif"><font color="#32659A">include?</font></font><font color="#222222"> method is found, then we raise the 
error.<br/>
You might be wondering why I used a symbol with </font><font face="Courier, serif"><font color="#32659A">respond_to?</font></font><font color="#222222">. I used a symbol </font><font face="Courier, serif">:include?</font><font color="#222222"> instead of a string </font><br/>
<font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">include?</font><font color="#9A3265">'</font></font><font color="#222222"><sub>. Actually, either will work with </sub></font><font face="Courier, serif"><font color="#32659A">respond_to?</font></font><font color="#222222"><sub>.</sub></font>
<p><font color="#222222">Usually symbols are used when you are passing around the name of a method or any other Ruby construct. It’s more efficient,
but it also catches the eye. The </font><font face="Courier, serif"><font color="#32659A">respond_to?</font></font><font color="#222222"> asks Ruby to look inside itself and see if a method is available. We’re
talking to Ruby, so the symbol helps denote that. It’s not a big deal, Ruby just recognizes symbols quicker than strings.</font></p>
<font color="#222222">Now, <b>Confusing Aspect No. 2</b>: Have you noticed how our method changes the sentence?</font>
<p><font face="Courier, serif"><font color="#32659A">something_said</font>
<font color="#9A3265"> = "</font><font color="#329A65">A (gith) spaceship.</font><font color="#9A3265">" </font>
<font color="#32659A">wipe_mutterings_from</font><font color="#9A3265">( </font><font color="#32659A">something_said</font><font color="#9A3265"> )</font>
<font color="#32659A">print something_said</font></font></p>
<font color="#222222">Did you notice this? In the first line of the above code, the </font><font face="Courier, serif"><font color="#32659A">something_said</font></font><font color="#222222"> variable contains the string </font><font face="Courier, serif"><font color="#9A3265">"</font><font color="#329A65">A <br/>
(gith) spaceship.</font><font color="#9A3265">"</font></font><font color="#222222">. But, after the method invocation, on the third line, we print the</font><br/>
<font face="Courier, serif"><font color="#32659A">something_said</font></font><font color="#222222"> variable and by then it contains the cleaned string </font><font face="Courier, serif"><font color="#9A3265">"</font><font color="#329A65">A spaceship.</font><font color="#9A3265">"</font></font><font color="#222222">.<br/>
How does this work? How does the method change the string? Shouldn’t it make a copy of the string before changing it?<br/>
Yes, absolutely, it should! <b>It’s bad manners to change strings like that.</b> We’ve used </font><font face="Courier, serif"><font color="#32659A">gsub</font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#32659A">gsub!</font></font><font color="#222222"> in the 
last chapter. Do you remember which of those two methods is a <b>destructive method</b>, which changes strings directly?</font>
<p><font color="#222222">Either we need to call this method </font>
<font face="Courier, serif"><font color="#32659A">wipe_mutterings_from!</font></font><font color="#222222"> (as a courtesy to all the other good folks out there 
that might use this method) or change the method to work on a copy of the string rather than the real thing. Which is an easy
change! We just need to </font><font face="Courier, serif"><font color="#32659A">dup</font></font><font color="#222222"> the string.</font></p>
<font face="Courier, serif"><font color="#9A3265"><b>def </b>wipe_mutterings_from( </font><font color="#32659A">sentence</font><font color="#9A3265"> )<br/>
<b>unless</b></font><font color="#32659A"> sentence</font><font color="#9A3265">.</font><font color="#32659A">respond_to?</font> :include?<br/>
<b><font color="#9A3265">raise</font><font color="#653200"> ArgumentError</font></b><font color="#9A3265">, </font>
<p><font color="#9A3265">"</font>
<font color="#329A65">cannot wipe mutterings from a #{ sentence.class }</font><font color="#9A3265">" 
<b>end</b></font><br/>
<font color="#32659A">sentence</font><font color="#9A3265"> = </font><font color="#32659A">sentence</font><font color="#9A3265">.</font><font color="#32659A">dup</font><br/>
<font color="#9A3265"><b>while</b></font><font color="#32659A"> sentence</font><font color="#9A3265">.</font><font color="#32659A">include?</font><font color="#9A3265"> '</font><font color="#329A65">(</font><font color="#9A3265">'</font></p>
<p><font color="#32659A">open</font>
<font color="#9A3265"> = </font><font color="#32659A">sentence</font><font color="#9A3265">.</font><font color="#32659A">index</font><font color="#9A3265">( '</font><font color="#329A65">(</font><font color="#9A3265">' )</font><br/>
<font color="#32659A">close</font><font color="#9A3265"> = </font><font color="#32659A">sentence</font><font color="#9A3265">.</font><font color="#32659A">index</font><font color="#9A3265">( '</font><font color="#329A65">)</font><font color="#9A3265">', </font><font color="#32659A">open</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">sentence</font><font color="#9A3265">[</font><font color="#32659A">open</font><font color="#9A3265">..</font><font color="#32659A">close</font><font color="#9A3265">] = '' <b>if</b></font><font color="#32659A"> close</font></p>
<font color="#9A3265"><b>end</b></font><br/>
<font color="#32659A">sentence</font><br/>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">The </font><font face="Courier, serif"><font color="#32659A">dup</font></font><font color="#222222"> method makes a copy of any object. Look at that line we added again on its own:</font><br/>
<font face="Courier, serif"><font color="#32659A">sentence</font><font color="#9A3265"> = </font><font color="#32659A">sentence</font><font color="#9A3265">.</font><font color="#32659A">dup</font></font><br/>
<font color="#222222">What a peculiar line of code. How does </font><font face="Courier, serif"><font color="#32659A">sentence</font></font><font color="#222222"> become a copy of </font><font face="Courier, serif"><font color="#32659A">sentence</font></font><font color="#222222">? Does it erase itself? What happens<br/>
to the original </font><font face="Courier, serif"><font color="#32659A">sentence</font></font><font color="#222222">? Does it disappear?<br/>
Remember that variables are just nicknames. When you see </font><font face="Courier, serif"><font color="#32659A">sentence</font><font color="#9A3265"> = "</font><font color="#329A65">A (gith) spaceship.</font><font color="#9A3265">"</font></font><font color="#222222">, <br/>
you see Ruby creating a string and then giving that string a nickname.<br/>
Likewise, when you see </font><font face="Courier, serif"><font color="#32659A">sentence</font><font color="#9A3265"> = </font><font color="#32659A">sentence</font><font color="#9A3265">.</font><font color="#32659A">dup</font></font><font color="#222222">, you see Ruby creating a new string and then giving that <br/>
string a nickname. This is handy inside your method because now </font><font face="Courier, serif"><font color="#32659A">sentence</font></font><font color="#222222"> is a nickname for a new copy of the string 
that you can safely use <b>without changing the string that was passed into the method</b>.<br/>
You’ll see plenty of examples of variable names being reused.</font>
<font face="Courier, serif"><p><font color="#32659A">x</font>
<font color="#9A3265"> = </font><font color="#329A65">5</font><br/>
<font color="#32659A">x</font><font color="#9A3265"> = </font><font color="#32659A">x</font><font color="#9A3265"> + </font><font color="#329A65">1</font><br/>
<font color="#545454"># x now equals 6</font></p>
<p><font color="#32659A">y</font>
<font color="#9A3265"> = "</font><font color="#329A65">Endertromb</font><font color="#9A3265">" </font>
<font color="#32659A">y</font><font color="#9A3265"> = </font><font color="#32659A">y</font><font color="#9A3265">.</font><font color="#32659A">length</font><br/>
<font color="#545454"># y now equals 10</font></p>
<p><font color="#32659A">z</font>
<font color="#9A3265"> = </font>:include?<br/>
<font color="#32659A">z</font><font color="#9A3265"> = "</font><font color="#329A65">a string</font><font color="#9A3265">".</font><font color="#32659A">respond_to? z</font>
<font color="#545454"># z now equals true</font></p></font>
<font color="#222222"><p>And, yes, sometimes objects disappear. 
<b>If you can’t get to an object through a variable, then Ruby will
figure you are done with it and will get rid of it.</b> Periodically, Ruby sends out its <b>garbage collector</b> to set
these objects free. Every object is kept in your computer’s memory until the garbage collector gets rid of it.</p>
Oh, and one more thing about </font><font face="Courier, serif"><font color="#32659A">dup</font></font><font color="#222222">. Some things can’t be dup’d. Numbers, for<br/>
instance. Symbols (which look like </font><font face="Courier, serif">:death</font><font color="#222222">) are identical when spelled the same.
Like numbers.</font><br/>
<b><font color="#F0FAEE">sidebar!</font>
<font color="#545454">An Excerpt from The Scarf Eaters</font></b><br/>
(<i>from Chapter VII: When Push Comes
to Shove—or Love</i>.)
<p><font color="#222222">Also, some of the special variables: </font>
<font face="Courier, serif"><font color="#653200"><b>nil</b></font></font><font color="#222222">, </font><font face="Courier, serif"><font color="#653200"><b>true</b></font></font><font color="#222222">, </font><font face="Courier, serif"><font color="#653200"><b>false</b></font></font><font color="#222222">. These are things that
Ruby won’t let you alter, so there’s so point making a copy anyway. I mean, imagine if
you could change </font><font face="Courier, serif"><font color="#653200"><b>false</b></font></font><font color="#222222"> to be </font><font face="Courier, serif"><font color="#653200"><b>true</b></font></font><font color="#222222">. The whole thing becomes a lie.</font></p>
<font color="#222222">Perhaps <b>Confusing Aspect No. 3</b> is a simple one. I’m using those square brackets
on the string. I’m treating the string like it’s an Array or Hash. I can do that. Because
strings have a </font><font face="Courier, serif"><font color="#9A3265">[]</font></font><font color="#222222"> method.</font>
<p>“Never say my name again!” screamed
Chester, and with the same gusto, he turned
back to the <b>File &gt; Publish Settings…</b>
dialog to further optimize his movie down to
a measley 15k.</p>
<img src="whys-poignant-guide-to-ruby_pic005A.png"/><font color="#F0FAEE"><b>sidebar!</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0050.png"/><font color="#222222">When used on a string, the square brackets will extract part of the string. Again, slots for a forklift’s prongs. The string is a long
shelf and the forklift is pulling out a slab of the string.<br/>
Inside the brackets, we pass the <i>index</i>. It’s the label we’ve placed right between the prongs where the worker can see it. When
it comes to strings, we can use a variety of objects as our index.</font>
<p><font face="Courier, serif"><font color="#32659A">str</font>
<font color="#9A3265"> = "</font><font color="#329A65">A string is a long shelf of letters and spaces.</font><font color="#9A3265">" </font><br/>
<font color="#32659A">puts str</font><font color="#9A3265">[</font><font color="#329A65">0</font><font color="#9A3265">]       </font><font color="#545454"># prints 65 (the character code for an 'A')</font>
<font color="#32659A">puts str</font><font color="#9A3265">[</font><font color="#329A65">0</font><font color="#9A3265">..</font><font color="#329A65">1</font><font color="#9A3265">]   </font><font color="#545454"># prints 'A string is a long shelf of letters and spaces.'</font>
<font color="#32659A">puts str</font><font color="#9A3265">[</font><font color="#329A65">1</font><font color="#9A3265">..</font><font color="#329A65">2</font><font color="#9A3265">]   </font><font color="#545454"># prints ' string is a long shelf of letters and spaces'</font>
<font color="#32659A">puts str</font><font color="#9A3265">[</font><font color="#329A65">1</font><font color="#9A3265">, </font><font color="#329A65">3</font><font color="#9A3265">]    </font><font color="#545454"># prints 'A s'</font><br/>
<font color="#32659A">puts str</font><font color="#9A3265">['</font><font color="#329A65">shelf</font><font color="#9A3265">']</font><font color="#545454"> # prints 'shelf'</font></font></p>
<p><font color="#222222">Alright, the last 
<b>Confusing Aspect No. 4</b>: this method can be sent into an endless loop. You can give this method a string 
which will cause the method to hang and never come back. Take a look at the method. Can you throw in a muddy stick to clog
the loop?</font></p>
<font face="Courier, serif"><font color="#9A3265"><b>def </b>wipe_mutterings_from( </font><font color="#32659A">sentence</font><font color="#9A3265"> )<br/>
<b>unless</b></font><font color="#32659A"> sentence</font><font color="#9A3265">.</font><font color="#32659A">respond_to?</font> :include?<br/>
<b><font color="#9A3265">raise</font><font color="#653200"> ArgumentError</font></b><font color="#9A3265">, </font>
<p><font color="#9A3265">"</font>
<font color="#329A65">cannot wipe mutterings from a #{ sentence.class }</font><font color="#9A3265">" 
<b>end</b></font><br/>
<font color="#32659A">sentence</font><font color="#9A3265"> = </font><font color="#32659A">sentence</font><font color="#9A3265">.</font><font color="#32659A">dup</font><br/>
<font color="#9A3265"><b>while</b></font><font color="#32659A"> sentence</font><font color="#9A3265">.</font><font color="#32659A">include?</font><font color="#9A3265"> '</font><font color="#329A65">(</font><font color="#9A3265">'</font></p>
<p><font color="#32659A">open</font>
<font color="#9A3265"> = </font><font color="#32659A">sentence</font><font color="#9A3265">.</font><font color="#32659A">index</font><font color="#9A3265">( '</font><font color="#329A65">(</font><font color="#9A3265">' )</font><br/>
<font color="#32659A">close</font><font color="#9A3265"> = </font><font color="#32659A">sentence</font><font color="#9A3265">.</font><font color="#32659A">index</font><font color="#9A3265">( '</font><font color="#329A65">)</font><font color="#9A3265">', </font><font color="#32659A">open</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">sentence</font><font color="#9A3265">[</font><font color="#32659A">open</font><font color="#9A3265">..</font><font color="#32659A">close</font><font color="#9A3265">] = '' <b>if</b></font><font color="#32659A"> close</font></p>
<font color="#9A3265"><b>end</b></font><br/>
<font color="#32659A">sentence</font><br/>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">Here, give the muddy stick a curve before you jam it.</font><br/>
<font face="Courier, serif"><font color="#32659A">muddy_stick</font><font color="#9A3265"> = "</font><font color="#329A65">Here's a ( curve.</font><font color="#9A3265">" </font>
<font color="#32659A">wipe_mutterings_from</font><font color="#9A3265">( </font><font color="#32659A">muddy_stick</font><font color="#9A3265"> )</font></font>
<p><font color="#222222">Why does the method hang? Well, the </font>
<font face="Courier, serif"><font color="#9A3265"><b>while</b></font></font><font color="#222222"> loop waits until all the open parentheses are gone before it stops looping.
And it only replaces open parentheses that have a matching closing parentheses. So, if no closing paren is found, the open
paren won’t be replaced and the </font><font face="Courier, serif"><font color="#9A3265"><b>while</b></font></font><font color="#222222"> will never be satisfied.</font></p>
<font color="#222222">How would you rewrite this method? Me, I know my way around Ruby, so I’d use a regular expression.</font><br/>
<font face="Courier, serif"><font color="#9A3265"><b>def </b>wipe_mutterings_from( </font><font color="#32659A">sentence</font><font color="#9A3265"> )<br/>
<b>unless</b></font><font color="#32659A"> sentence</font><font color="#9A3265">.</font><font color="#32659A">respond_to?</font> :gsub<br/>
<b><font color="#9A3265">raise</font><font color="#653200"> ArgumentError</font></b><font color="#9A3265">, </font>
<p><font color="#9A3265">"</font>
<font color="#329A65">cannot wipe mutterings from a #{ sentence.class }</font><font color="#9A3265">" 
<b>end</b></font><br/>
<font color="#32659A">sentence</font><font color="#9A3265">.</font><font color="#32659A">gsub</font><font color="#9A3265">( /</font><font color="#443254">\([-\w]+\)</font><font color="#9A3265">/, '' )</font></p>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">Do your best to think through your loops. It’s especially easy for </font><font face="Courier, serif"><font color="#9A3265"><b>while</b></font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#9A3265"><b>until</b></font></font><font color="#222222"> loops to get out of hand. Best to use
an iterator. And we’ll get to regular expressions in time.<br/>
In summary, here’s what we’ve learned about writing methods:<br/>
1.
Don’t be surprised if people pass unexpected objects into your methods. If you absolutely can’t use what they give you,</font><br/>
<font face="Courier, serif"><font color="#9A3265"><b>raise</b></font></font><font color="#222222"><sub> an error.</sub><br/>
2.
It’s poor etiquette to change objects your method is given. Use </font><font face="Courier, serif"><font color="#32659A">dup</font></font><font color="#222222"> to make a copy. Or find a method like </font><font face="Courier, serif"><font color="#32659A">gsub</font></font><font color="#222222"> that 
automatically makes a copy as it does its job.<br/>
3.
The square brackets can be used to lookup parts inside any </font><font face="Courier, serif"><font color="#653200"><b>Array</b></font></font><font color="#222222">, </font><font face="Courier, serif"><font color="#653200"><b>Hash</b></font></font><font color="#222222"> or </font><font face="Courier, serif"><font color="#653200"><b>String</b></font></font><font color="#222222"> objects, as these objects provide a </font><br/>
<font face="Courier, serif"><font color="#9A3265">[]</font></font><font color="#222222"> method. Also, since these objects provide a </font><font face="Courier, serif"><font color="#9A3265">[]=</font></font><font color="#222222"> method, the square brackets can be used in assignment (on the left-hand 
side of the equals sign) to change the parts of those objects.<br/>
4.
Watch for runaway loops. Avoid </font><font face="Courier, serif"><font color="#9A3265"><b>while</b></font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#9A3265"><b>until</b></font></font><font color="#222222"> if you can.<br/>
<b>The Mechanisms of Name-Calling</b>
<p>Forthwith there is a rustling in the trees behind<br/>
Paij-ree’s house and it turns out to be a man falling<br/>
from the sky. His name is Doug and he sells cats.</p>
<p>So, just as he comes into to view, when his shadow<br/>
(and the shadows of the cats tied to his foot)<br/>
obscures the bird on the lawn that we’re trying to<br/>
hit with a racquetball, as he’s squeezing a wisp of<br/>
helium from his big balloon, we shout, “Hello,<br/>
Doug!”</p>
And he says, “Hello, Gonk-ree! Hello, Why!”
<p>Paij-ree checks his pockets to be sure he has the<br/>
dollar-twenty-seven he’ll need in order to buy the<br/>
three cats he’ll need to keep the furnace stoked and<br/>
the satellite dish turning. These cats generate gobs<br/>
of static once Paij-ree tosses them in the generator,<br/>
where they’ll be outnumbered by the giant glass</p></font>
<img src="whys-poignant-guide-to-ruby_pic005B.png"/><font color="#222222"><p>rods, which caress the cats continually—But, wait!<br/>
Did you see how the cat broker called him Gonk-ree?</p>
And he calls him Gonk-ree in the morning and Gonk-plo at night.<br/>
So the suffix is definitely subject to the sunlight. As far as I can tell, the prefix indicates the namecaller’s relationship to
Paij-ree.</font><br/>
<font face="Courier, serif"><b><font color="#9A3265">class </font><font color="#653200">String</font></b>
<p><font color="#545454"># The parts of my daughter's organ<br/>
# instructor's name.</font><br/>
<font color="#9A3265">@@syllables = [</font></p>
<p><font color="#9A3265">{ '</font>
<font color="#329A65">Paij</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">Personal</font><font color="#9A3265">',<br/>
'</font><font color="#329A65">Gonk</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">Business</font><font color="#9A3265">',<br/>
'</font><font color="#329A65">Blon</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">Slave</font><font color="#9A3265">',<br/>
'</font><font color="#329A65">Stro</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">Master</font><font color="#9A3265">',<br/>
'</font><font color="#329A65">Wert</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">Father</font><font color="#9A3265">',</font></p>
<p><font color="#9A3265">'</font>
<font color="#329A65">Onnn</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">Mother</font><font color="#9A3265">' },
{ '</font><font color="#329A65">ree</font><font color="#9A3265">'  =&gt; '</font><font color="#329A65">AM</font><font color="#9A3265">',<br/>
'</font><font color="#329A65">plo</font><font color="#9A3265">'  =&gt; '</font><font color="#329A65">PM</font><font color="#9A3265">' }<br/>
]</font></p>
<p><font color="#545454"># A method to determine what a
# certain name of his means.</font>
<font color="#9A3265"><b>def </b>name_significance</font></p>
<p><font color="#32659A">parts</font>
<font color="#9A3265"> = </font><font color="#653200"><b>self</b></font><font color="#9A3265">.</font><font color="#32659A">split</font><font color="#9A3265">( '</font><font color="#329A65">-</font><font color="#9A3265">' )</font>
<font color="#32659A">syllables</font><font color="#9A3265"> = @@syllables.</font><font color="#32659A">dup
signif</font><font color="#9A3265"> = </font><font color="#32659A">parts</font><font color="#9A3265">.</font><font color="#32659A">collect</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">p</font><font color="#9A3265">|</font></p>
<p><font color="#32659A">syllables</font>
<font color="#9A3265">.</font><font color="#32659A">shift</font><font color="#9A3265">[</font><font color="#32659A">p</font><font color="#9A3265">]<br/>
<b>end</b></font><br/>
<font color="#32659A">signif</font><font color="#9A3265">.</font><font color="#32659A">join</font><font color="#9A3265">( ' ' )</font></p>
<font color="#9A3265"><b>end<br/>
end</b></font></font><br/>
<font color="#222222">Now I’ve gone beyond just showing you sloppy code. Here be a grave debauchery and a crime against nature. A crime most
languages won’t allow you to commit. We’re changing the </font><font face="Courier, serif"><font color="#653200"><b>String</b></font></font><font color="#222222">, <b>one of the core classes of Ruby</b>!<br/>
“I know this is a bit dangerous,” I said, when I passed this one under Paij-ree’s nose. “I hope nobody gets hurt.”<br/>
“Every Smotchkkiss must taste what this (kep-yo-iko) danger does,” he said. “Dogs and logs and swampy bogs (kul-ip), all
must be tasted.” And he took a swig of his Beagle Berry marsh drink.<br/>
So what is it that I’m adding to the </font><font face="Courier, serif"><font color="#653200"><b>String</b></font></font><font color="#222222"> class? Two things: a class variable and a method. A normal <b>instance 
method</b>.</font>
<p><font color="#222222">I like to look at the 
<b>at</b> symbol as a character meaning <b>attribute</b>. The <b>double at</b> stands for <b>attribute all</b>. A class variable.
All instances of a class can look at this variable and it is the same for all of them. The </font><font face="Courier, serif"><font color="#9A3265">@@syllables</font></font><font color="#222222"> variable is an Array
that can now be used inside the String class.</font></p>
<font color="#222222">The new method is </font><font face="Courier, serif"><font color="#32659A">name_significance</font></font><font color="#222222"> and this new method can be used with any string.</font><br/>
<font face="Courier, serif"><font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">Paij-ree</font><font color="#9A3265">".</font><font color="#32659A">name_significance</font></font><font color="#443254"><i> prints out </i></font><font face="Courier, serif"><font color="#653200"><b>Personal AM</b></font></font><font color="#443254"><i> .</i></font><br/>
<font color="#222222">As you can see, Paij-ree is a personal name. A name friends use in the early hours.<br/>
Make sure you see the line of code which uses </font><font face="Courier, serif"><font color="#653200"><b>self</b></font></font><font color="#222222">. This is a special variable, a variable which represents the object whose
method you are calling. To simplify things a bit, let’s try making a method which breaks up a string on its dashes.</font><br/>
<font face="Courier, serif"><b><font color="#9A3265">class </font><font color="#653200">String</font></b><br/>
<font color="#9A3265"><b>def </b>dash_split</font><br/>
<font color="#653200"><b>self</b></font><font color="#9A3265">.</font><font color="#32659A">split</font><font color="#9A3265">( '</font><font color="#329A65">-</font><font color="#9A3265">' )
<b>end<br/>
end</b></font></font><br/>
<font color="#222222">Again, here’s a method which can be used with any string.</font><br/>
<font face="Courier, serif"><font color="#9A3265">"</font><font color="#329A65">Gonk-plo</font><font color="#9A3265">".</font><font color="#32659A">dash_split</font></font><font color="#443254"><i> return the Array </i></font><font face="Courier, serif"><font color="#9A3265">['</font><font color="#329A65">Gonk</font><font color="#9A3265">', '</font><font color="#329A65">plo</font><font color="#9A3265">']</font></font><font color="#443254"><i> .</i></font>
<p><font color="#222222">Using </font>
<font face="Courier, serif"><font color="#653200"><b>self</b></font></font><font color="#222222"> marks the beginning of crossing over into many of the more advanced ideas in Ruby. This is definition
language. You’re defining a method, designing it before it gets used. You’re preparing for the existence of an object which uses
that method. You’re saying, “When </font><font face="Courier, serif"><font color="#32659A">dash_split</font></font><font color="#222222"> gets used, there will be a string at that time which is the one we’re</font></p>
<font color="#222222">dash-splitting. And </font><font face="Courier, serif"><font color="#653200"><b>self</b></font></font><font color="#222222"> is a special variable which refers to that string.”<br/>
Ruby is a knockout definition language. A succulent and brain-splitting discussion is coming your way deeper in this book.<br/>
Most often you won’t need to use </font><font face="Courier, serif"><font color="#653200"><b>self</b></font></font><font color="#222222"> explicitly, since you can call methods directly from inside other method definitions.</font>
<p><font face="Courier, serif"><b><font color="#9A3265">class </font>
<font color="#653200">String</font></b><br/>
<font color="#9A3265"><b>def </b>dash_split; </font><font color="#32659A">split</font><font color="#9A3265">( '</font><font color="#329A65">-</font><font color="#9A3265">' ); <b>end<br/>
end</b></font></font></p>
<font color="#222222">In the </font><font face="Courier, serif"><font color="#32659A">name_significance</font></font><font color="#222222"> method, find the loop. Learning about </font><font face="Courier, serif"><font color="#653200"><b>Array</b></font><font color="#545454">#collect</font></font><font color="#222222"> is essential. Let’s
look close.</font>
<p><font face="Courier, serif"><font color="#32659A">signif</font>
<font color="#9A3265"> = </font><font color="#32659A">parts</font><font color="#9A3265">.</font><font color="#32659A">collect</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">p</font><font color="#9A3265">|</font>
<font color="#32659A">syllables</font><font color="#9A3265">.</font><font color="#32659A">shift</font><font color="#9A3265">[</font><font color="#32659A">p</font><font color="#9A3265">]<br/>
<b>end</b></font></font></p>
<font color="#222222">The </font><font face="Courier, serif"><font color="#32659A">parts</font></font><font color="#222222"> Array contains the separated name. </font><font face="Courier, serif"><font color="#9A3265">['</font><font color="#329A65">Paij</font><font color="#9A3265">', '</font><font color="#329A65">plo</font><font color="#9A3265">']</font></font><font color="#222222">, for instance. We’re iterating through each<br/>
item in that Array with </font><font face="Courier, serif"><font color="#32659A">collect</font></font><font color="#222222">. But </font><font face="Courier, serif"><font color="#32659A">collect</font></font><font color="#222222"> steps beyond what </font><font face="Courier, serif"><font color="#32659A">each</font></font><font color="#222222"> does. Like </font><font face="Courier, serif"><font color="#32659A">each</font></font><font color="#222222">, collect slides each <br/>
item down the chute as a block variable. And then, at the end of the block, </font><font face="Courier, serif"><font color="#32659A">collect</font></font><font color="#222222"><b> keeps the answer the block <br/>
gives back and adds it to a new Array</b>. The </font><font face="Courier, serif"><font color="#32659A">collect</font></font><font color="#222222"> method is the perfect way of building a new Array which is 
based on the items in an existing Array.<br/>
Doug has three cats for sale. One is twelve cents, one is sixty-three cents, one is nine cents. Let’s see how much each cat would
cost if we added a 20% tip.</font><br/>
<font face="Courier, serif"><font color="#32659A">catsandtips</font><font color="#9A3265"> = [</font><font color="#329A65">0.12</font><font color="#9A3265">, </font><font color="#329A65">0.63</font><font color="#9A3265">, </font><font color="#329A65">0.09</font><font color="#9A3265">].</font><font color="#32659A">collect</font><font color="#9A3265"> { |</font><font color="#32659A">catcost</font><font color="#9A3265">| </font><font color="#32659A">catcost</font><font color="#9A3265"> + ( </font><font color="#32659A">catcost</font><font color="#9A3265"> * </font><font color="#329A65">0.20</font><font color="#9A3265"> ) }</font></font>
<font color="#222222"><p>I say Paij-ree’s property is a very charming section of woods when it’s not raining cats and Doug. For many days, Paij-ree and I
camped in tents by the river behind his house, subsisting on smoked blackbird and whittling little sleeping indians by the
dusklight. On occassion he would lose a game of spades and I knew his mind was distracted, thinking of Endertromb. All of
this must have been stirring inside of him for sometime. I was the first ear he’d ever had.</p>
“I just came from Ambrose,” I said. “Sort of my own underground home, a place where elves strive to perfect animals.”<br/>
He mumbled and nodded. “You can’t be (poth-in-oin) part of (in) such things.”<br/>
“You think we will fail?”<br/>
“I (preep) have been there before,” he said. And then, he spoke of the Lotteries.<br/>
<b>4. The Goat Wants to Watch a Whole Film</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic005C.png"/><font color="#222222">The elevator had opened into a green room full of shelves and file cabinets. Reels of tape and film canisters and video tape
everywhere. Dr. Cham hadn’t a clue what most of it was. All he saw was a big, futuristic mess.<br/>
He called out again, stumbling through alleys of narrow shelves, “Hello-o-o?? I’m looking for intellegent life! I’m a space
traveller!” He tripped when his foot slid right into a VCR slot. “Any other beings I can communicate with?”<br/>
Hand cupped around mouth, he yelled, “Hello-o-o?”<br/>
“Crying out loud.” The sleepy goat came tromping down the aisle.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic005D.png"/><font color="#222222">“I hate that book,” said the goat. “I believe the author is disingenuous.”<br/>
“Really?” asked Dr. Cham.<br/>
“I’m sure it’s all true. It’s just so heavily embellished. I’m like: Enough already. I get it. Cut it out.”<br/>
“I’m not quite sure what to make of it,” said the Doctor. “It seems like an honest effort. I actually wrote something in Ruby
back there.”<br/>
“It doesn’t give goats a very good name,” said the goat.<br/>
“But you are the only goat in the book,” said the Doctor.<br/>
“And I’m totally misquoted.”</font><br/>
<img src="whys-poignant-guide-to-ruby_pic005F.png"/><font color="#222222">The goat closed his mouth and Dr. Cham held his heart.<br/>
“I’m actually very literate,” said the goat. “Albeit, more recently, I’ve switched to movies. I love foreign films. One of my
relatives just brough back <i>Ishtar</i> from your planet. Wow, that was excellent.”<br/>
“I haven’t been to my planet in a long time. It would be difficult to consider it my home
at this stage.”
<p>“Well, Warren Beatty is delightful. His character is basically socially crippled. He
actually tries to kill himself, but Dustin Hoffman sits in the window sill and starts
crying and singing this totally hilarious heartbreak song. I’ve got it here, you should
see it.”</p>
“Can I get something to eat?” asked the Doctor. And he still felt filthy.<br/>
“How about we watch a film and you can have a buttermelon with tentacles?” said the
goat.
<p>So, they worked their way back toward the goat’s projector. Back by the freezer locker,
they sat on a giant rug and broke off the appendages of frozen buttermelons. The shell
was solid, but once it cracked, rich fruit cream was in abundance. Sweet to taste and a
very pleasant scent.</p></font>
<font color="#F0FAEE"><b>sidebar!</b></font>
<font size="-1"><font face="Courier, serif"><p><font color="#32659A">we want a tambourine!</font><br/>
<font color="#324465">/</font><br/>
<font color="#443254">|  we want all a tambouri n
|      </font><font color="#324465">/<br/>
\</font><font color="#32659A">__</font><font color="#324465"> |</font></p>
<font color="#324465">/</font><font color="#443254"> o o \__</font><font color="#324465">/\</font><font color="#32659A">__</font><font color="#324465">/\</font><font color="#32659A">_</font><br/>
<font color="#324465">/</font><font color="#443254">.           \ o o \____</font>
<p><font color="#324465">/'</font>
<font color="#329A65">----/          \
_____ /  </font><font color="#324465">'    / /</font><font color="#443254">.\\   #-----</font><font color="#324465">/<br/>
/
/        /     \\
/
///<br/>
/</font><font color="#32659A">so</font>
<font color="#324465">\<br/>
/</font><font color="#443254">\   \me time\\..</font><br/>
<font color="#324465">/</font><font color="#32659A">pp</font><font color="#324465">/  \</font><font color="#32659A">s these pictur\\</font>
<font color="#324465">/</font><font color="#443254">es</font><font color="#324465">/   \</font><font color="#32659A">don</font><font color="#324465">'</font><font color="#329A65">t w\ \ork out\
***      *** right but i<br/>
think this time<br/>
they did<br/>
ooo o<br/>
oo<br/>
o<br/>
o<br/>
{o}<br/>
^</font></p></font></font>
<img src="whys-poignant-guide-to-ruby_pic005E.png"/><font color="#F0FAEE"><b>sidebar!</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0050.png"/><font color="#222222">“First film, you’ve got to see,” said the goat. “Locally filmed and produced. I’m good friends with the lady who did casting.
Dated her for awhile. Knew everyone who was going to play the different roles long before it was announced.”
<p>The goat set the projector by Dr. Cham. “I’ve got the music on the surround sound. You can man the knob.”</p></font>
<img src="whys-poignant-guide-to-ruby_pic0060.png"/><font color="#222222"><p>Dr. Cham’s mind wandered at this point in the presentation, just as the land war mounted between the two throngs of animal
settlers. The details of their wars and campaigns continued to consume the spool of transparent film that Dr. Cham was
feeding through the projector.</p>
<p>War after war after war. The Sieging of Elmer Lake. The Last Stand of Newton P. Giraffe and Sons. Dog Invasion of Little
Abandoned Cloud. No animals died in these wars. Most often an attack consisted of bopping another animal on the head. And
they philipped each other’s noses. But, believe me, it was humiliating.</p>
Blasted crying shame. Things could have worked out.<br/>
<b>The Birth of an Object</b><br/>
“Don’t worry,” said the goat, anxious to sway Dr. Cham’s attention back to the film. “Things <i>do</i> work out.”<br/>
In Ruby, the Object is the very center of all things. It is The Original.</font><br/>
<font face="Courier, serif"><b><font color="#9A3265">class </font><font color="#653200">ToastyBear</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Object</b></font><font color="#9A3265">; <b>end</b></font></font><br/>
<font color="#222222">The angle bracket indicates <b>inheritance</b>. This means that the new </font><font face="Courier, serif"><font color="#653200"><b>ToastyBear</b></font></font><font color="#222222"> class is a new class based on the </font><br/>
<font face="Courier, serif"><font color="#653200"><b>Object</b></font></font><font color="#222222"> class. Every method that </font><font face="Courier, serif"><font color="#653200"><b>Object</b></font></font><font color="#222222"> has will be available in </font><font face="Courier, serif"><font color="#653200"><b>ToastyBear</b></font></font><font color="#222222">. Constants available in</font><br/>
<font face="Courier, serif"><font color="#653200"><b>Object</b></font></font><font color="#222222"><sub> will be available in </sub></font><font face="Courier, serif"><font color="#653200"><b>ToastyBear</b></font></font><font color="#222222"><sub>.</sub><br/>
But every object inherits from </font><font face="Courier, serif"><font color="#653200"><b>Object</b></font></font><font color="#222222">. The code…</font><br/>
<font face="Courier, serif"><b><font color="#9A3265">class </font><font color="#653200">ToastyBear</font></b><font color="#9A3265">; <b>end</b></font></font><br/>
<font color="#222222">Is identical to…</font><br/>
<font face="Courier, serif"><b><font color="#9A3265">class </font><font color="#653200">ToastyBear</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Object</b></font><font color="#9A3265">; <b>end</b></font></font>
<p><font color="#222222">Inheritance is handy. You can create species of objects which relate to each other. Often, when you’re dissecting a problem,
you’ll come across various objects which share attributes. You can save yourself work by inheriting from classes which already
solve part of that problem.</font></p>
<p><font color="#222222">You may have a </font>
<font face="Courier, serif"><font color="#653200"><b>UnitedStatesAddress</b></font></font><font color="#222222"> class which stores the address, city, state, and zip code for someone 
living in the United States. When you start storing addresses from England, you could add a</font><br/>
<font face="Courier, serif"><font color="#653200"><b>UnitedKingdomAddress</b></font></font><font color="#222222"> class. If you then ensure that both addresses inherit from a parent </font><font face="Courier, serif"><font color="#653200"><b>Address</b></font></font><font color="#222222"> class, 
you can design your mailing software to accept any kind of address.</font></p>
<font face="Courier, serif"><font color="#9A3265"><b>def </b>mail_them_a_kit( </font><font color="#32659A">address</font><font color="#9A3265"> )<br/>
<b>unless</b></font><font color="#32659A"> address</font><font color="#9A3265">.</font><font color="#32659A">is_a?</font><b><font color="#653200"> Address</font><br/>
<font color="#9A3265">raise</font><font color="#653200"> ArgumentError</font></b><font color="#9A3265">, "</font><font color="#329A65">No Address object found.</font><font color="#9A3265">" 
<b>end</b></font><br/>
<font color="#32659A">print address</font><font color="#9A3265">.</font><font color="#32659A">formatted</font><br/>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">Also, inheritance is great if you want to override certain behaviours in a class. For example, perhaps you want to make your 
own slight variation to the </font><font face="Courier, serif"><font color="#653200"><b>Array</b></font></font><font color="#222222"> class. You want to enhance the </font><font face="Courier, serif"><font color="#32659A">join</font></font><font color="#222222"> method. But if you change </font><font face="Courier, serif"><font color="#653200"><b>Array</b></font><font color="#545454">#join</font></font>
<font color="#222222">directly, you will affect other classes in Ruby that use Arrays.
So you start your own class called </font><font face="Courier, serif"><font color="#653200"><b>ArrayMine</b></font></font><font color="#222222">, which is based on The Original </font><font face="Courier, serif"><font color="#653200"><b>Array</b></font></font><font color="#222222">.</font>
<font face="Courier, serif"><p><b><font color="#9A3265">class </font>
<font color="#653200">ArrayMine</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Array</b></font><br/>
<font color="#545454"># Build a string from this array, formatting each entry
# then joining them together.</font><br/>
<font color="#9A3265"><b>def </b>join(</font><font color="#32659A"> sep</font><font color="#9A3265"> = $,, </font><font color="#32659A">format</font><font color="#9A3265"> = "</font><font color="#329A65">%s</font><font color="#9A3265">" )</font></p>
<p><font color="#32659A">collect</font>
<font color="#9A3265"><b> do</b> |</font><font color="#32659A">item</font><font color="#9A3265">|</font><br/>
<font color="#32659A">sprintf</font><font color="#9A3265">( </font><font color="#32659A">format</font><font color="#9A3265">, </font><font color="#32659A">item</font><font color="#9A3265"> )<br/>
<b>end</b>.</font><font color="#32659A">join</font><font color="#9A3265">( </font><font color="#32659A">sep</font><font color="#9A3265"> )<br/>
<b>end<br/>
end</b></font></p>
<font color="#653200"><b>ArrayMine</b></font></font><font color="#222222"> is now a custom </font><font face="Courier, serif"><font color="#653200"><b>Array</b></font></font><font color="#222222"> class with its own </font><font face="Courier, serif"><font color="#32659A">join</font></font><font color="#222222"> method. </font><font face="Courier, serif"><font color="#653200"><b>Array</b></font></font><font color="#222222"> is the <b>superclass</b> of </font><br/>
<font face="Courier, serif"><font color="#653200"><b>ArrayMine</b></font></font><font color="#222222">. Every object has a </font><font face="Courier, serif"><font color="#32659A">superclass</font></font><font color="#222222"> method where you can verify this relationship.</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>ArrayMine</b></font><font color="#9A3265">.</font><font color="#32659A">superclass</font>
<font color="#9A3265">=&gt; </font><font color="#653200"><b>Array</b></font></font><br/>
<font color="#222222">Perfect. We manage a hotel and we have an </font><font face="Courier, serif"><font color="#653200"><b>Array</b></font></font><font color="#222222"> of our room sizes: </font><font face="Courier, serif"><font color="#9A3265">[</font><font color="#329A65">3</font><font color="#9A3265">, </font><font color="#329A65">4</font><font color="#9A3265">, </font><font color="#329A65">6</font><font color="#9A3265">]</font></font><font color="#222222">. Let’s get it nicely printed for a
brochure.</font><br/>
<font face="Courier, serif"><font color="#32659A">rooms</font><font color="#9A3265"> = </font><font color="#653200"><b>ArrayMine</b></font><font color="#9A3265">[</font><font color="#329A65">3</font><font color="#9A3265">, </font><font color="#329A65">4</font><font color="#9A3265">, </font><font color="#329A65">6</font><font color="#9A3265">]</font><br/>
<font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">We have </font><font color="#9A3265">" + </font><font color="#32659A">rooms</font><font color="#9A3265">.</font><font color="#32659A">join</font><font color="#9A3265">( "</font><font color="#329A65">, </font><font color="#9A3265">", "</font><font color="#329A65">%d bed</font><font color="#9A3265">" ) + "</font><font color="#329A65"> rooms available.</font><font color="#9A3265">"</font></font><br/>
<font color="#222222">Which prints, “We have 3 bed, 4 bed, 6 bed rooms available.”<br/>
Dr. Cham was looking around for a bathroom, but archival video tape was everywhere. He eventually found a place, it may 
have been a bathroom. It had a metal bin. More importantly, it was dark and out of eyesight.<br/>
While he’s in there, let me add that while The Originals slaughtered The Invaders to prove their rights as First Creatures, the
Ruby Object doesn’t have any such dispute. It is the absolute king Object the First.<br/>
Watch.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#653200"><b>Class</b></font><font color="#9A3265">.</font><font color="#32659A">superclass</font>
<font color="#9A3265">=&gt; </font><font color="#653200"><b>Module</b></font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>Kernel</b></font><font color="#9A3265">.</font><b><font color="#9A3265">class</font><br/>
<font color="#653200">=&gt;</font></b><font color="#32659A"> Module<br/>
irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>Module</b></font><font color="#9A3265">.</font><font color="#32659A">superclass</font>
<font color="#9A3265">=&gt; </font><font color="#653200"><b>Object</b></font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>Object</b></font><font color="#9A3265">.</font><font color="#32659A">superclass</font>
<font color="#9A3265">=&gt; </font><font color="#653200"><b>nil</b></font></font></p>
<p><font color="#222222">Even </font>
<font face="Courier, serif"><font color="#653200"><b>Class</b></font></font><font color="#222222"> is an </font><font face="Courier, serif"><font color="#653200"><b>Object</b></font></font><font color="#222222">! See, although classes are the definition language for objects, we still call class methods on
them and treat them like objects occassionally. It may seem like a dizzying circle, but it’s truly a very strict parentage. And it
ensures that when you alter the </font><font face="Courier, serif"><font color="#653200"><b>Object</b></font></font><font color="#222222">, you alter <b>everything in Ruby</b>. Which is impossibly scary and all-powerful
and cataclysmic and awesome! <b>Ruby does not restrict you, my sister, my brother!</b></font></p>
<font color="#222222">Between </font><font face="Courier, serif"><font color="#653200"><b>Class</b></font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#653200"><b>Object</b></font></font><font color="#222222">, do you see </font><font face="Courier, serif"><font color="#653200"><b>Module</b></font></font><font color="#222222">? If </font><font face="Courier, serif"><font color="#653200"><b>Object</b></font></font><font color="#222222"> is the king, the one who has sired every other <br/>
part of Ruby, then </font><font face="Courier, serif"><font color="#653200"><b>Module</b></font></font><font color="#222222"> is the poor waifish nun, shielding and protecting all her little Ruby townspeople children. (To<br/>
complete the analogy: </font><font face="Courier, serif"><font color="#653200"><b>Class</b></font></font><font color="#222222"> is the village school teacher and </font><font face="Courier, serif"><font color="#653200"><b>Kernel</b></font></font><font color="#222222"> is the self-important colonel.)<br/>
The whole point of </font><font face="Courier, serif"><font color="#653200"><b>Module</b></font></font><font color="#222222">’s existence is to give food and shelter to code. Methods can stay dry under </font><font face="Courier, serif"><font color="#653200"><b>Module</b></font></font><font color="#222222">’s<br/>
shawl. </font><font face="Courier, serif"><font color="#653200"><b>Module</b></font></font><font color="#222222"> can hold classes and constants and variables of any kind.<br/>
“But what does a Module <i>do</i>?” you ask. “How is it gainfully employed??”<br/>
“That’s all it does!!” I retort, stretching out my open palms in the greatest expression of futility known to man. “Now hear me - 
for I will never speak it again - that Module Mother Superior has given these wretched objects a place to stay!!”</font><br/>
<font face="Courier, serif"><font color="#545454"># See, here is the module -- where else could our code possibly stay?</font>
<font color="#9A3265"><b>module </b>WatchfulSaintAgnes</font><br/>
<font color="#545454"># A CONSTANT is laying here by the doorway.  Fine.</font>
<font color="#653200"><b>TOOTHLESS_MAN_WITH_FORK</b></font><font color="#9A3265"> = ['</font><font color="#329A65">man</font><font color="#9A3265">', '</font><font color="#329A65">fork</font><font color="#9A3265">', '</font><font color="#329A65">exposed gums</font><font color="#9A3265">']</font><br/>
<font color="#545454"># A Class is eating, living well in the kitchen.</font>
<b><font color="#9A3265">class </font><font color="#653200">FatWaxyChild</font></b><font color="#9A3265">; <b>end</b></font><br/>
<font color="#545454"># A Method is hiding back in the banana closet, God knows why.</font>
<font color="#9A3265"><b>def </b>timid_foxfaced_girl; {'</font><font color="#329A65">please</font><font color="#9A3265">' =&gt; '</font><font color="#329A65">i want an acorn please</font><font color="#9A3265">'};<b> end<br/>
end</b></font></font><br/>
<font color="#222222">Now you have to go through Saint Agnes to find them.</font>
<p><font face="Courier, serif"><font color="#9A3265">&gt;&gt;</font>
<font color="#653200"><b> WatchfulSaintAgnes</b></font><font color="#9A3265">::</font><font color="#653200"><b>TOOTHLESS_MAN_WITH_FORK</b></font>
<font color="#9A3265">=&gt; ["</font><font color="#329A65">man</font><font color="#9A3265">", "</font><font color="#329A65">fork</font><font color="#9A3265">", "</font><font color="#329A65">exposed gums</font><font color="#9A3265">"]<br/>
&gt;&gt;</font><font color="#653200"><b> WatchfulSaintAgnes</b></font><font color="#9A3265">::</font><font color="#653200"><b>FatWaxyChild</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><br/>
<font color="#9A3265">=&gt;</font><font color="#545454"> #&lt;WatchfulSaintAgnes::FatWaxyChild:0xb7d2ad78&gt;</font>
<font color="#9A3265">&gt;&gt;</font><font color="#653200"><b> WatchfulSaintAgnes</b></font><font color="#9A3265">::</font><font color="#32659A">instance_methods</font><br/>
<font color="#9A3265">=&gt; ["</font><font color="#329A65">timid_foxfaced_girl</font><font color="#9A3265">"]</font></font></p>
<font color="#222222">Always remember that a </font><font face="Courier, serif"><font color="#653200"><b>Module</b></font></font><font color="#222222"> is only an inn. A roof over their heads. It is not a self-aware </font><font face="Courier, serif"><font color="#653200"><b>Class</b></font></font><font color="#222222"> and, therefore, <br/>
cannot be brought to life with </font><font face="Courier, serif"><font color="#32659A">new</font></font><font color="#222222">.</font><br/>
<font face="Courier, serif"><font color="#9A3265">&gt;&gt;</font><font color="#653200"><b> WatchfulSaintAgnes</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><br/>
<font color="#653200"><b>NoMethodError</b></font><font color="#9A3265">: </font><font color="#32659A">undefined method</font><font color="#9A3265"> `</font><font color="#32659A">new</font><font color="#9A3265">'</font><font color="#329A65"> for WatchfulSaintAgnes:Module
from (irb):2</font></font><br/>
<font color="#222222">St. Agnes has given up her whole life in order that she may care for these desperate bits of code. Please. Don’t take that away
from her.<br/>
If you wanted to steal from St. Agnes, though, I can help you. You can bring in a larger abbey to swallow up the ministry of </font><br/>
<font face="Courier, serif"><font color="#653200"><b>WatchfulSaintAgnes</b></font></font><font color="#222222"><sub> and then what is she left with?</sub><br/>
For this you can use </font><font face="Courier, serif"><font color="#32659A">extend</font></font><font color="#222222">, which will pull all the methods from a module into a class or an object.</font>
<p><font face="Courier, serif"><font color="#9A3265">&gt;&gt;</font>
<b><font color="#9A3265"> class </font><font color="#653200">TheTimeWarnerAolCitibankCaringAndLovingFacility</font></b><font color="#9A3265">; <b>end</b>
&gt;&gt;</font><font color="#653200"><b> TheTimeWarnerAolCitibankCaringAndLovingFacility</b></font><font color="#9A3265">.</font><font color="#32659A">extend</font><font color="#653200"><b> WatchfulSaintAgnes</b></font>
<font color="#9A3265">&gt;&gt;</font><font color="#653200"><b> TheTimeWarnerAolCitibankCaringAndLovingFacility</b></font><font color="#9A3265">::</font><font color="#32659A">instance_methods</font>
<font color="#9A3265">=&gt; ["</font><font color="#329A65">timid_foxfaced_girl</font><font color="#9A3265">"]</font></font></p>
<font color="#222222">In truth, no one’s <i>stolen</i> from </font><font face="Courier, serif"><font color="#653200"><b>WatchfulSaintAgnes</b></font></font><font color="#222222">, only borrowed. The </font><font face="Courier, serif"><font color="#32659A">timid_foxfaced_girl</font></font><br/>
<font color="#222222">now has two addresses.<br/>
You gotta admit. The old abbey can get bought out a zillion times and that little fox-faced girl will <i>still</i> be back in the banana
closet wanting an acorn! Too bad we can’t feed her. She’s a method with no arguments.<br/>
When Dr. Cham came out refreshed, the filmstrip was a bit behind. But the goat hadn’t noticed, so the Doctor advanced
frames until it made some sense.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0061.png"/><font color="#222222">So the invaders left the planet.<br/>
“This planet <i>is</i> decrepit,” said Dr. Cham. “The castle is nice. But inside it’s a disaster.”<br/>
“The whole castle look is a projection,” said the goat. “All the flowers and apple blossoms and the sky even. It’s a
low-resolution projection.”<br/>
“Yes? It is enchanting.”<br/>
“I guess.”</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0062.png"/><font color="#222222">“That’s messed up!” said the goat. “That’s not the way the film ends! There’s no blood! What happened? What happened? Did
you screw up the knob, idiot?”<br/>
“Well, I don’t know,” said Dr. Cham. He turned the knob reverse and forward. Tapped the lens.<br/>
“Check the film! Check the film!”<br/>
Dr. Cham pulled out a length of film from the projection feed, melted and dripping from its end.<br/>
“Curse that! These projectors are quality! I’ve never had this happen. There’s no way.”<br/>
<b>Hunting For a Voice</b><br/>
“I don’t think it was the projector,” said Dr. Cham. “Something flew across that screen and uttered a blistering moan.”<br/>
“I don’t have any dupes of that movie,” said the goat somberly. “And that girl. That casting director. I never see her anymore.”<br/>
Dr. Cham stood up and looked over the dumpy aisles of magnetic carnage, searching.<br/>
“Oh, hey, you should call that girl,” the goat went on. “You could talk to her, get an understanding. Tell her about me. Don’t act
like your my friend, just, you know, ‘Oh, that guy? Yeah, whatta maroon.’”
<p>Dr. Cham spotted the doorway and exited.<br/>
The hallways were an entirely new world of mess. In the goat’s archives, the shelves had been messy. In the hallway, shelves
were completely tipped. Sinks were falling through the ceiling. The Doctor ventured under the debris, kicking through
plywood when necessary.</p>
“You shouldn’t be out here,” said the goat. “You’re on someone else’s property at this point. A couple of pygmy elephants own
all this. They’re nasty guys. They’ll beat the crap outta you with their trunks. They ball it up and just whack ya.”<br/>
Dr. Cham pushed a file cabinet out of his way, which fell through a flimsy wall, then through the floor of the next room over.
And they heard it fall through several floors after that.
<p>“I’m trying to remember how it goes in the book,” said Dr. Cham, as he walked swiftly through the hall. “That milky fog that
swept across the projection. We find that thing.” He jiggled a door handle, broke it off. Forged through the doorway and
disappeared inside.</p>
“You really get a kick out of beating stuff up, don’t you?” said the goat. “Walls, doors.” The goat headbutted a wall. The wall
shuddered and then laid still.<br/>
Then, it was quiet. And black.
<p>The goat stayed put in the bleak hallway, expecting Dr. Cham to flip over a few desks and emerge, ready to move on from the
room he’d busted into. But Dr. Cham didn’t return, and the goat opted to share a moment with the neglected wreckage left by
his neighbors. Not that he could see at all. He could only hear the occassional rustling of the piles of invoices and carbon copy
masters and manila envelopes when he shifted his legs.</p>
<p>The ground seemed to buckling right under the goat, as if the heaps of kipple around him were beginning to slide toward his
weight. He would be at the center of this whirlpool of elephant documentation. Would he die of papercuts first? Or would he
suffocate under the solid burial by office supplies?</p>
A soft light, however, crept up to him. A floating, silver fish. No, it was a—was it scissors? The scissors grew into a shimmering
cluster of intellegent bread, each slice choking on glitter. But, no, it was hands. And an Easter hat.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0063.png"/><font color="#222222"><p>In another room, Dr. Cham stood under the clear glass silently. The ceiling had abruptly gone transparent, then starlight
washed over his pants and jacket. He walked further to the room’s center in muted colors, lit as softly as an ancient manuscript
in its own box at the museum. More stars, more cotton clusters of fire, unveiled as he came across the floor. And it peeked into
view soon enough, he expected it to be larger, but it wasn’t.</p>
Earth. Like a painted egg, still fresh. He felt long cello strings sing right up against his spine. How could that be called
Peoplemud? Here was a vibrant and grassy lightbulb. The one big ball that had something going for it.<br/>
He thought of The Rockettes. Actually, he missed The Rockettes. What a bunch of great dancers. He had yelled something to
The Rockettes when he saw them. Something very observant and flattering.<br/>
Oh, yes, while The Rockettes were spinning, arm in arm, he had yelled, “Concentric circles!” Which no one else cared to
observe.
<p>And this thought was enough to feed Dr. Cham’s superiority complex. He wore a goofy smile as he retraced his footsteps. He
truthfully felt his genius coming through in such a statement. To realize the simplicity of a circle was his. He reflected on it all
the way back to the hallway.</p>
Which I think is great. Adore yourself when you have a second.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0064.png"/><font color="#222222">“Oh, right,” said the goat. “Your niece. The niece you killed. I’m with ya now.”<br/>
For just a few moments, they all looked at each other. Just enough time for both Dr. Cham and the goat to think: <i>Oh, yeah.
Hannah causes us a lot of trouble. She’s already talking about maple donuts.</i><br/>
“Does she start talking about maple donuts right away like that?” asked the goat.<br/>
“Yes, she does,” said the Doctor. “She brings it up to you, then she brings it up to me. She sees a maple donut somewhere—I
don’t quite remember where.”<br/>
“Do I see a real maple donut?” Hannah said. “I need a real one.”<br/>
“Okay, okay,” said the goat. “Yeah, I remember: here’s where she says that if she gets a real maple donut, she’ll become a real
person again. Because her real destiny was to own a bakery and you ruined that destiny and now she’s trapped as a ghost.”<br/>
“Hey, that’s the truth!” Hannah yelped.<br/>
“It’s terrible that we must bear through this whole scene again,” said the Doctor. “The donuts are immaterial. They should be
left out altogether.”<br/>
“Man, I am having a <i>hard</i> time remembering all of this chapter,” said the goat. “I don’t even remember how to get out of this
hallway. I must have read that book like thirty times. Do we blast through a wall? Do we scream until someone finds us?”<br/>
“We get Hannah to float through walls and she finds some kind of machine,” says Dr. Cham. “I have to write a program—it all
works out somehow.”<br/>
“But, you know what I’m saying?” said the goat. “I forget all the details. Especially the earlier chapters. I mean I can remember
the ending perfectly. It’s hard to sit through all this. The end is so much better.”
<p>Dr. Cham folded his arms and teetered on a heel. “The porcupine.” He smiled greedily at the goat.<br/>
“Oh, totally. The porcupine is definitely who I want to meet,” said the goat. “I wonder what he does with all that money when
the book is over.”</p>
Dr. Cham nodded respectfully. “I’m very excited to see him wearing slippers.”<br/>
“Those infernal slippers!” said the goat and he haw-hawed coarsely, a shower of saliva cascading from his jaws.
<p>Hannah’s mind rattled, waiting for this nonsense to break for a moment. She tipped her head on its side and the rattle slid
along the curve of her cranium. The little noise died away, though, as the back of her head vanished (<i>fluxed out</i> is what she 
called it) and then her head was back again with its little rattle and she caught herself doing that careless moaning again.
<b>HRRRRRR-RRR-OH-RRRR-RRRR.</b></p>
“I’m not as into the chunky bacon stuff,” said the goat. “I don’t see what’s so great about it.”<br/>
Could she speak while moaning? <b>BON-BON.</b> With a French moan. <b>BOHN-BOHN. 
BOHN-APPE-TEET-OHHHH-RRRR.</b><br/>
“I know she’s harmless, but that sound freaks me out. My hair is <b>completely</b> on end.”<br/>
“Hannah?” said Dr. Cham. “Where are you, child? Come do a good turn for us, my niece.”
<p>She was right near them, in and out. And they could hear her cleaning up her voice, bright, speaking like a angel scattering
stardust. Yes, the whole maple donut story came out again, and more about the bakery she would own, the muffins and rolls 
and baguettes.</p>
<b>5. The Theft of the Lottery Captain</b><br/>
And now, Paij-ree’s stories of the Lotteries.<br/>
On Endertromb, the organist’s father invented the lottery. The idea came while he was
praying to Digger Dosh.
<p>Digger Dosh is sort of like their God. But ten times scarier. This guy dug an infinitely
deep tunnel straight through the planet and came out dead. But he’s really not dead.
He’s really just <i>one second</i> behind them. And he eats time.</p>
<p>It’s kind of complicated because Digger Dosh totally kills people. But I guess if you do
what he says, it’s not so bad. Maybe I’ll talk about it later. It’s such a pain to talk about
because it’s so scary and yet one of my friends actually believes the whole thing. I get
kind of choked up—not like I’m crying, more like I’m choking.</p></font>
<img src="whys-poignant-guide-to-ruby_pic0065.png"/><font color="#222222">Anyway, once while praying, three numbers came to Paij-ree’s father.<br/>
He then asked his mind, “What are these numbers?”<br/>
And his mind played a short video clip of him selling all kinds of numbers. And, for years and years, travelling and selling
numbers.<br/>
And he asked his brain, “People will buy numbers?”<br/>
And his brain said, “If they buy the right three numbers, give them a prize.”
At which he imagined himself launching off a ski jump and showering people with presents. No question: he would be an icon.<br/>
So he went and did as his brain said and sold numbers. The father’s simple lottery consisted of three unique numbers, drawn
from a set of 25 numbers.</font><br/>
<font face="Courier, serif"><b><font color="#9A3265">class </font><font color="#653200">LotteryTicket<br/>
NUMERIC_RANGE</font></b><font color="#9A3265"> = </font><font color="#329A65">1</font><font color="#9A3265">..</font><font color="#329A65">25</font><br/>
<font color="#32659A">attr_reader</font> :picks<font color="#9A3265">, </font>:purchased<br/>
<font color="#9A3265"><b>def </b>initialize( *</font><font color="#32659A">picks</font><font color="#9A3265"> )<br/>
<b>if</b></font><font color="#32659A"> picks</font><font color="#9A3265">.</font><font color="#32659A">length</font><font color="#9A3265"> != </font><font color="#329A65">3</font><br/>
<b><font color="#9A3265">raise</font><font color="#653200"> ArgumentError</font></b><font color="#9A3265">, "</font><font color="#329A65">three numbers must be picked</font><font color="#9A3265">" </font>
<p><font color="#9A3265"><b>elsif</b></font>
<font color="#32659A"> picks</font><font color="#9A3265">.</font><font color="#32659A">uniq</font><font color="#9A3265">.</font><font color="#32659A">length</font><font color="#9A3265"> != </font><font color="#329A65">3</font><br/>
<b><font color="#9A3265">raise</font><font color="#653200"> ArgumentError</font></b><font color="#9A3265">, "</font><font color="#329A65">the three picks must be different numbers</font><font color="#9A3265">" <br/>
<b>elsif</b></font><font color="#32659A"> picks</font><font color="#9A3265">.</font><font color="#32659A">detect</font><font color="#9A3265"> { |</font><font color="#32659A">p</font><font color="#9A3265">| </font><b><font color="#9A3265">not</font><font color="#653200"> NUMERIC_RANGE</font></b><font color="#9A3265"> === </font><font color="#32659A">p</font><font color="#9A3265"> }</font><br/>
<b><font color="#9A3265">raise</font><font color="#653200"> ArgumentError</font></b><font color="#9A3265">, "</font><font color="#329A65">the three picks must be numbers between 1 and 25.</font><font color="#9A3265">" <br/>
<b>end</b><br/>
@picks =</font><font color="#32659A"> picks</font><br/>
<font color="#9A3265">@purchased = </font><font color="#653200"><b>Time</b></font><font color="#9A3265">.</font><font color="#32659A">now</font><br/>
<font color="#9A3265"><b>end</b></font></p>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">Yes, the </font><font face="Courier, serif"><font color="#653200"><b>LotteryTicket</b></font></font><font color="#222222"> class contained the three numbers (</font><font face="Courier, serif"><font color="#9A3265">@picks</font></font><font color="#222222">) and the time when the ticket was bought <br/>
(</font><font face="Courier, serif"><font color="#9A3265">@purchased</font></font><font color="#222222">). The allowed range of numbers (from <b>one</b> to <b>twenty-five</b>) is kept in the constant </font><br/>
<font face="Courier, serif"><font color="#653200"><b>NUMERIC_RANGE</b></font></font><font color="#222222"><sub>.</sub></font>
<p><font color="#222222">The </font>
<font face="Courier, serif"><font color="#32659A">initialize</font></font><font color="#222222"> method here can have any number of arguments passed in. The <b>asterisk</b> in the </font><font face="Courier, serif"><font color="#32659A">picks</font></font><font color="#222222"> argument
means that <b>any arguments will be passed in as an Array</b>. Having the arguments in an Array means that methods
like </font><font face="Courier, serif"><font color="#32659A">uniq</font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#32659A">detect</font></font><font color="#222222"> can be used on the arguments together.</font></p>
<font color="#222222">This class contains two definitions: the method definition (</font><font face="Courier, serif"><font color="#9A3265"><b>def</b></font></font><font color="#222222">) and an attributes definition (</font><font face="Courier, serif"><font color="#32659A">attr_reader</font></font><font color="#222222">). Both
are <b>really just method definitions</b> though.<br/>
The </font><font face="Courier, serif"><font color="#32659A">attr_reader</font></font><font color="#222222"> shortcut is identical to writing this Ruby code:</font>
<font face="Courier, serif"><p><b><font color="#9A3265">class </font>
<font color="#653200">LotteryTicket</font></b><br/>
<font color="#9A3265"><b>def </b>picks; @picks; <b>end<br/>
def </b>purchased; @purchased; <b>end</b></font></p>
<font color="#9A3265"><b>end</b></font></font>
<p><font color="#222222">Attributes are wrapper methods for instance variables (such as </font>
<font face="Courier, serif"><font color="#9A3265">@picks</font></font><font color="#222222">) which can be used <b>outside of the class 
itself</b>. Paij-ree’s father wanted to code a machine which could read the numbers and the date of purchase from the ticket. In
order to do that, those instance variables must be exposed.</font></p>
<font color="#222222">Let’s create a random ticket and read back the numbers:</font>
<p><font face="Courier, serif"><font color="#32659A">ticket</font>
<font color="#9A3265"> = </font><font color="#653200"><b>LotteryTicket</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265">( </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#329A65">25</font><font color="#9A3265"> ) + </font><font color="#329A65">1</font><font color="#9A3265">,</font>
<font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#329A65">25</font><font color="#9A3265"> ) + </font><font color="#329A65">1</font><font color="#9A3265">, </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#329A65">25</font><font color="#9A3265"> ) + </font><font color="#329A65">1</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">p ticket</font><font color="#9A3265">.</font><font color="#32659A">picks</font></font></p>
<font color="#222222">Running the above, I just got: </font><font face="Courier, serif"><font color="#9A3265">[</font><font color="#329A65">23</font><font color="#9A3265">, </font><font color="#329A65">14</font><font color="#9A3265">, </font><font color="#329A65">20</font><font color="#9A3265">]</font></font><font color="#222222">. You will get an error if two of the random numbers happen to be
identical.<br/>
However, I can’t change the lottery ticket’s picks from outside of the class.</font><br/>
<font face="Courier, serif"><font color="#32659A">ticket</font><font color="#9A3265">.</font><font color="#32659A">picks</font><font color="#9A3265"> = [</font><font color="#329A65">2</font><font color="#9A3265">, </font><font color="#329A65">6</font><font color="#9A3265">, </font><font color="#329A65">19</font><font color="#9A3265">]</font></font><br/>
<font color="#222222"><sub>I get an error: </sub></font><font face="Courier, serif"><font color="#32659A">undefined method</font><font color="#9A3265"> `</font><font color="#32659A">picks</font><font color="#9A3265">='</font></font><font color="#222222"><sub>. This is because </sub></font><font face="Courier, serif"><font color="#32659A">attr_reader</font></font><font color="#222222"><sub> only adds a </sub><b>reader</b><br/>
method, not a writer method. That’s fine, though. We don’t want the numbers or the date to change.<br/>
So, the tickets are <i>objects</i>. Instances of the </font><font face="Courier, serif"><font color="#653200"><b>LotteryTicket</b></font></font><font color="#222222"> class. Make a ticket with</font><br/>
<font face="Courier, serif"><font color="#653200"><b>LotteryTicket</b></font><font color="#9A3265">.</font><font color="#32659A">new</font></font><font color="#222222">. Each ticket has it’s own </font><font face="Courier, serif"><font color="#9A3265">@picks</font></font><font color="#222222"> and it’s own </font><font face="Courier, serif"><font color="#9A3265">@purchased</font></font><font color="#222222"> instance variables.<br/>
The lottery captain would need to draw three random numbers at the close of the lottery, so we’ll add a convenient class
method for generating random tickets.</font><br/>
<font face="Courier, serif"><b><font color="#9A3265">class </font><font color="#653200">LotteryTicket</font></b><br/>
<font color="#9A3265"><b>def </b>self.new_random</font><br/>
<font color="#32659A">new</font><font color="#9A3265">( </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#329A65">25</font><font color="#9A3265"> ) + </font><font color="#329A65">1</font><font color="#9A3265">, </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#329A65">25</font><font color="#9A3265"> ) + </font><font color="#329A65">1</font><font color="#9A3265">, </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#329A65">25</font><font color="#9A3265"> ) + </font><font color="#329A65">1</font><font color="#9A3265"> )
<b>end<br/>
end</b></font></font><br/>
<font color="#222222">Oh, no. But we have that stupid error that pops up if two of the random numbers happen to be identical. If two numbers are
the same, the </font><font face="Courier, serif"><font color="#32659A">initialize</font></font><font color="#222222"> throws an </font><font face="Courier, serif"><font color="#653200"><b>ArgumentError</b></font></font><font color="#222222">.<br/>
The trick is going to be restarting the method if an error happens. We can use Ruby’s </font><font face="Courier, serif"><font color="#9A3265"><b>rescue</b></font></font><font color="#222222"> to handle the error and </font><br/>
<font face="Courier, serif"><font color="#9A3265"><b>redo</b></font></font><font color="#222222"> to start the method over.</font><br/>
<font face="Courier, serif"><b><font color="#9A3265">class </font><font color="#653200">LotteryTicket</font></b><br/>
<font color="#9A3265"><b>def </b>self.new_random</font><br/>
<font color="#32659A">new</font><font color="#9A3265">( </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#329A65">25</font><font color="#9A3265"> ) + </font><font color="#329A65">1</font><font color="#9A3265">, </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#329A65">25</font><font color="#9A3265"> ) + </font><font color="#329A65">1</font><font color="#9A3265">, </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#329A65">25</font><font color="#9A3265"> ) + </font><font color="#329A65">1</font><font color="#9A3265"> )</font>
<p><b><font color="#9A3265">rescue</font>
<font color="#653200"> ArgumentError</font><br/>
<font color="#9A3265">redo<br/>
end<br/>
end</font></b></p></font>
<font color="#222222">Better. It may take a couple times for the numbers to fall together right, but it’ll happen. The wait will build suspense, huh?<br/>
The lottery captain kept a roster of everyone who bought tickets, along with the numbers they drew.</font>
<font face="Courier, serif"><p><b><font color="#9A3265">class </font>
<font color="#653200">LotteryDraw</font></b><br/>
<font color="#9A3265">@@tickets = {}<br/>
<b>def </b>LotteryDraw.buy( </font><font color="#32659A">customer</font><font color="#9A3265">, *</font><font color="#32659A">tickets</font><font color="#9A3265"> )</font></p>
<font color="#9A3265"><b>unless</b> @@tickets.</font><font color="#32659A">has_key?</font><font color="#9A3265">( </font><font color="#32659A">customer</font><font color="#9A3265"> )
@@tickets[</font><font color="#32659A">customer</font><font color="#9A3265">] = []<br/>
<b>end</b><br/>
@@tickets[</font><font color="#32659A">customer</font><font color="#9A3265">] += </font><font color="#32659A">tickets</font>
<font color="#9A3265"><b>end<br/>
end</b></font></font><br/>
<font color="#222222">Yal-dal-rip-sip was the first customer.</font>
<p><font face="Courier, serif"><font color="#653200"><b>LotteryDraw</b></font>
<font color="#9A3265">.</font><font color="#32659A">buy</font><font color="#9A3265"> '</font><font color="#329A65">Yal-dal-rip-sip</font><font color="#9A3265">',</font>
<font color="#653200"><b>LotteryTicket</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265">( </font><font color="#329A65">12</font><font color="#9A3265">, </font><font color="#329A65">6</font><font color="#9A3265">, </font><font color="#329A65">19</font><font color="#9A3265"> ),</font>
<font color="#653200"><b>LotteryTicket</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265">( </font><font color="#329A65">5</font><font color="#9A3265">, </font><font color="#329A65">1</font><font color="#9A3265">, </font><font color="#329A65">3</font><font color="#9A3265"> ),</font>
<font color="#653200"><b>LotteryTicket</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265">( </font><font color="#329A65">24</font><font color="#9A3265">, </font><font color="#329A65">6</font><font color="#9A3265">, </font><font color="#329A65">8</font><font color="#9A3265"> )</font></font></p>
<font color="#222222">When it came time for the lottery draw, Paij-ree’s father (the lottery captain) added a bit of code to randomly select the
numbers.</font>
<font face="Courier, serif"><p><b><font color="#9A3265">class </font>
<font color="#653200">LotteryTicket</font></b><br/>
<font color="#9A3265"><b>def </b>score( </font><font color="#32659A">final</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">count</font><font color="#9A3265"> = </font><font color="#329A65">0</font><br/>
<font color="#32659A">final</font><font color="#9A3265">.</font><font color="#32659A">picks</font><font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">note</font><font color="#9A3265">|</font></p>
<p><font color="#32659A">count</font>
<font color="#9A3265"> +=</font><font color="#329A65">1</font><font color="#9A3265"><b> if</b></font><font color="#32659A"> picks</font><font color="#9A3265">.</font><font color="#32659A">include? note</font>
<font color="#9A3265"><b>end</b></font><br/>
<font color="#32659A">count</font></p>
<font color="#9A3265"><b>end<br/>
end</b></font></font><br/>
<font color="#222222">The </font><font face="Courier, serif"><font color="#32659A">score</font></font><font color="#222222"> method compares a </font><font face="Courier, serif"><font color="#653200"><b>LotteryTicket</b></font></font><font color="#222222"> against a random ticket, which represents the winning<br/>
combination. The random ticket is passed in through the </font><font face="Courier, serif"><font color="#32659A">final</font></font><font color="#222222"> variable. The ticket gets one point for every winning<br/>
number. The point total is returned from the </font><font face="Courier, serif"><font color="#32659A">score</font></font><font color="#222222"> method.</font>
<font face="Courier, serif"><p><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#32659A">ticket</font><font color="#9A3265"> = </font><font color="#653200"><b>LotteryTicket</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265">( </font><font color="#329A65">2</font><font color="#9A3265">, </font><font color="#329A65">5</font><font color="#9A3265">, </font><font color="#329A65">19</font><font color="#9A3265"> )</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">winner</font><font color="#9A3265"> = </font><font color="#653200"><b>LotteryTicket</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265">( </font><font color="#329A65">4</font><font color="#9A3265">, </font><font color="#329A65">5</font><font color="#9A3265">, </font><font color="#329A65">19</font><font color="#9A3265"> )</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">ticket</font><font color="#9A3265">.</font><font color="#32659A">score</font><font color="#9A3265">( </font><font color="#32659A">winner</font><font color="#9A3265"> )</font></p>
<font color="#9A3265">=&gt; </font><font color="#329A65">2</font></font>
<p><font color="#222222">You will see how brilliant Paij-ree is, in time. His father commissioned him to finish the lottery for him, while the demand for
tickets consumed the lottery captain’s daylight hours. Can’t you just imagine young Paij-ree in his stuffy suit, snapping a
rubber band in his young thumbs at the company meetings where he proposed the final piece of the system? Sure, when he
stood up, his dad did all the talking for him, but he flipped on the projector and performed all the hand motions.</font></p>
<font face="Courier, serif"><p><font color="#9A3265"><b>class </b>
&lt;&lt;</font><font color="#653200"><b> LotteryDraw</b></font><br/>
<font color="#9A3265"><b>def </b>play</font><br/>
<font color="#32659A">final</font><font color="#9A3265"> = </font><font color="#653200"><b>LotteryTicket</b></font><font color="#9A3265">.</font><font color="#32659A">new_random
winners</font><font color="#9A3265"> = {}<br/>
@@tickets.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">buyer</font><font color="#9A3265">, </font><font color="#32659A">ticket_list</font><font color="#9A3265">|</font></p>
<p><font color="#32659A">ticket_list</font>
<font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">ticket</font><font color="#9A3265">|</font><br/>
<font color="#32659A">score</font><font color="#9A3265"> = </font><font color="#32659A">ticket</font><font color="#9A3265">.</font><font color="#32659A">score</font><font color="#9A3265">( </font><font color="#32659A">final</font><font color="#9A3265"> )
<b>next if</b></font><font color="#32659A"> score</font><font color="#9A3265">.</font><font color="#32659A">zero?<br/>
winners</font><font color="#9A3265">[</font><font color="#32659A">buyer</font><font color="#9A3265">] ||= []</font><br/>
<font color="#32659A">winners</font><font color="#9A3265">[</font><font color="#32659A">buyer</font><font color="#9A3265">] &lt;&lt; [ </font><font color="#32659A">ticket</font><font color="#9A3265">, </font><font color="#32659A">score</font><font color="#9A3265"> ]</font></p>
<font color="#9A3265"><b>end<br/>
end</b><br/>
@@tickets.</font><font color="#32659A">clear
winners</font><br/>
<font color="#9A3265"><b>end<br/>
end</b></font></font>
<font color="#222222"><p>His father’s associates were stunned. What was this? (Paij-ree knew this was just another class method definition—they would
all feel completely demoralized when he told them so.) They couldn’t understand the <b>double angle bracket</b> up there! Yes,
it was a concatenator, but how is it in the class title?</p>
<i>Infants</i>, thought Paij-ree, although he held everyone of those men in very high esteem. He was just a kid and kids are tough as
a brick’s teeth.<br/>
The </font><font face="Courier, serif"><font color="#9A3265">&lt;&lt;</font></font><font color="#222222"> operator allows you to alter the definition of an object. Had Paij-ree simply used </font><font face="Courier, serif"><b><font color="#9A3265">class </font><font color="#653200">LotteryDraw</font></b></font><font color="#222222">, <br/>
his </font><font face="Courier, serif"><font color="#32659A">play</font></font><font color="#222222"> method would be a normal instance method. But since he used the </font><font face="Courier, serif"><font color="#9A3265">&lt;&lt;</font></font><font color="#222222"> operator, the </font><font face="Courier, serif"><font color="#32659A">play</font></font><font color="#222222"> method will be 
added directly to the class, as a class method.<br/>
When you see </font><font face="Courier, serif"><font color="#9A3265"><b>class </b>&lt;&lt; </font><font color="#32659A">obj</font></font><font color="#222222">, believe in your heart, <i>I’m adding directly to the definition of </i></font><font face="Courier, serif"><font color="#32659A">obj</font></font><font color="#222222"><i>.</i><br/>
The budding organ instructor also threw in a tricky syntax worth examining. In the ninth line, a winner has been found.</font><br/>
<font face="Courier, serif"><font color="#32659A">winners</font><font color="#9A3265">[</font><font color="#32659A">buyer</font><font color="#9A3265">] ||= []</font><br/>
<font color="#32659A">winners</font><font color="#9A3265">[</font><font color="#32659A">buyer</font><font color="#9A3265">] &lt;&lt; [ </font><font color="#32659A">ticket</font><font color="#9A3265">, </font><font color="#32659A">score</font><font color="#9A3265"> ]</font></font><br/>
<font color="#222222">The </font><font face="Courier, serif"><font color="#9A3265">||=</font></font><font color="#222222"> syntax is a shortcut.</font><br/>
<font face="Courier, serif"><font color="#32659A">winners</font><font color="#9A3265">[</font><font color="#32659A">buyer</font><font color="#9A3265">] = </font><font color="#32659A">winners</font><font color="#9A3265">[</font><font color="#32659A">buyer</font><font color="#9A3265">] || []</font></font><br/>
<font color="#222222"><sub>The </sub><b>double pipe</b><sub> is an </sub><b>or</b><sub> logic. Set </sub></font><font face="Courier, serif"><font color="#32659A">winners</font><font color="#9A3265">[</font><font color="#32659A">buyer</font><font color="#9A3265">]</font></font><font color="#222222"><sub> equal to </sub></font><font face="Courier, serif"><font color="#32659A">winners</font><font color="#9A3265">[</font><font color="#32659A">buyer</font><font color="#9A3265">]</font></font><font color="#222222"><sub> or, if </sub></font><br/>
<font face="Courier, serif"><font color="#32659A">winners</font><font color="#9A3265">[</font><font color="#32659A">buyer</font><font color="#9A3265">]</font></font><font color="#222222"> is nil, set it to </font><font face="Courier, serif"><font color="#9A3265">[]</font></font><font color="#222222">. This shortcut is a little strange, but if you can really plant it in your head, it’s a
nice timesaver. You’re just making sure a variable is set before using it.</font>
<font face="Courier, serif"><p><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#653200"><b>LotteryDraw</b></font><font color="#9A3265">.</font><font color="#32659A">play</font><font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">winner</font><font color="#9A3265">, </font><font color="#32659A">tickets</font><font color="#9A3265">|</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt;   </font><font color="#32659A">puts winner</font><font color="#9A3265"> + "</font><font color="#329A65">won on </font><font color="#9A3265">" + </font><font color="#32659A">tickets</font><font color="#9A3265">.</font><font color="#32659A">length</font><font color="#9A3265"> + "</font><font color="#329A65"> ticket(s)!</font><font color="#9A3265">" </font>
<font color="#32659A">irb</font><font color="#9A3265">&gt;   </font><font color="#32659A">tickets</font><font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">ticket</font><font color="#9A3265">, </font><font color="#32659A">score</font><font color="#9A3265">|</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt;     </font><font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">\t</font><font color="#9A3265">" + </font><font color="#32659A">ticket</font><font color="#9A3265">.</font><font color="#32659A">picks</font><font color="#9A3265">.</font><font color="#32659A">join</font><font color="#9A3265">( '</font><font color="#329A65">, </font><font color="#9A3265">' ) + "</font><font color="#329A65">: </font><font color="#9A3265">" + </font><font color="#32659A">score
irb</font><font color="#9A3265">&gt;   <b>end</b></font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; <b>end</b></font></p>
<p><font color="#653200"><b>Gram</b></font>
<font color="#9A3265">-</font><font color="#32659A">yol won on</font><font color="#329A65"> 2</font><font color="#32659A"> ticket</font><font color="#9A3265">(</font><font color="#32659A">s</font><font color="#9A3265">)!</font><br/>
<font color="#329A65">25</font><font color="#9A3265">, </font><font color="#329A65">14</font><font color="#9A3265">, </font><font color="#329A65">33</font><font color="#9A3265">: </font><font color="#329A65">1<br/>
12</font><font color="#9A3265">, </font><font color="#329A65">11</font><font color="#9A3265">, </font><font color="#329A65">29</font><font color="#9A3265">: </font><font color="#329A65">1</font><br/>
<font color="#653200"><b>Tarker</b></font><font color="#9A3265">-</font><font color="#32659A">azain won on</font><font color="#329A65"> 1</font><font color="#32659A"> ticket</font><font color="#9A3265">(</font><font color="#32659A">s</font><font color="#9A3265">)!</font><br/>
<font color="#329A65">13</font><font color="#9A3265">, </font><font color="#329A65">15</font><font color="#9A3265">, </font><font color="#329A65">29</font><font color="#9A3265">: </font><font color="#329A65">2</font><br/>
<font color="#653200"><b>Bramlor</b></font><font color="#9A3265">-</font><font color="#32659A">exxon won on</font><font color="#329A65"> 1</font><font color="#32659A"> ticket</font><font color="#9A3265">(</font><font color="#32659A">s</font><font color="#9A3265">)!</font><br/>
<font color="#329A65">2</font><font color="#9A3265">, </font><font color="#329A65">6</font><font color="#9A3265">, </font><font color="#329A65">14</font><font color="#9A3265">: </font><font color="#329A65">1</font></p></font>
<font color="#222222">But these salad days were not to continue for Paij-ree and his father. His father often neglected to launder his uniform and
contracted a moss disease on his shoulders. The disease gradually stole his equilibrium and his sense of direction.
<p>His father still futilely attempted to keep the business running. He spiraled through the city, sometimes tumbling leg-over-leg
down the cobbled stone, most often slowly feeling the walls, counting bricks to the math parlours and coachmen stations, 
where he would thrust tickets at the bystanders, who hounded him and slapped him away with long, wet beets. Later, Paij-ree
would find him in a corner, his blood running into the city drains alongside the juices of the dark, splattered beets, which juice 
weaseled its way up into his veins and stung and clotted and glowed fiercely like a congested army of brake lights fighting their
way through toll bridges.</p>
<b>A Word About Accessors (Because I Love You and I Hope For Your Success and My Hair is On 
End About This and Dreams Really Do Come True)</b><br/>
Earlier, I mentioned that </font><font face="Courier, serif"><font color="#32659A">attr_reader</font></font><font color="#222222"> adds <b>reader</b> methods, but not <b>writer</b> methods.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#32659A">ticket</font><font color="#9A3265"> = </font><font color="#653200"><b>LotteryTicket</b></font><font color="#9A3265">.</font><font color="#32659A">new<br/>
irb</font><font color="#9A3265">&gt; </font><font color="#32659A">ticket</font><font color="#9A3265">.</font><font color="#32659A">picks</font><font color="#9A3265"> = </font><font color="#329A65">3</font><br/>
<font color="#653200"><b>NoMethodError</b></font><font color="#9A3265">: </font><font color="#32659A">undefined method</font><font color="#9A3265"> `</font><font color="#32659A">picks</font><font color="#9A3265">='</font><font color="#329A65"> for #&lt;LotteryTicket:0xb7d49110&gt;</font></font></p>
<font color="#222222">Which is okay in this case, since Paij-ree’s father didn’t want the numbers to be changed after the ticket was bought. If we were
interested in having instance variables which had <b>both readers and writers</b>, we would use </font><font face="Courier, serif"><font color="#32659A">attr_accessor</font></font><font color="#222222">.</font>
<p><font face="Courier, serif"><b><font color="#9A3265">class </font>
<font color="#653200">LotteryTicket</font></b><br/>
<font color="#32659A">attr_accessor</font> :picks<font color="#9A3265">, </font>:purchased<br/>
<font color="#9A3265"><b>end</b></font></font></p>
<font color="#222222">Which is exactly the same as this lengthier code:</font>
<font face="Courier, serif"><p><b><font color="#9A3265">class </font>
<font color="#653200">LotteryTicket</font></b><br/>
<font color="#9A3265"><b>def </b>picks;           @picks;            <b>end
def </b>picks=(</font><font color="#32659A">var</font><font color="#9A3265">);     @picks = </font><font color="#32659A">var</font><font color="#9A3265">;      <b>end
def </b>purchased;
@purchased;        <b>end
def </b>purchased=(</font><font color="#32659A">var</font><font color="#9A3265">); @purchased = </font><font color="#32659A">var</font><font color="#9A3265">;  <b>end</b></font></p>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">Holy cats! Look at those writer methods for a moment. They are the methods named </font><font face="Courier, serif"><font color="#32659A">picks</font><font color="#9A3265">=</font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#32659A">purchased</font><font color="#9A3265">=</font></font><font color="#222222">.<br/>
These methods <b>intercept outside assignment</b> to instance variables. Usually you will just let </font><font face="Courier, serif"><font color="#32659A">attr_reader</font></font><font color="#222222"> or </font><br/>
<font face="Courier, serif"><font color="#32659A">attr_accessor</font></font><font color="#222222"> (or even perhaps </font><font face="Courier, serif"><font color="#32659A">attr_writer</font></font><font color="#222222">) do the work for you. Other times you may want to put a 
guard at the door yourself, checking variables in closer detail.</font>
<font face="Courier, serif"><p><b><font color="#9A3265">class </font>
<font color="#653200">SkatingContest</font></b><br/>
<font color="#9A3265"><b>def </b>the_winner; @the_winner; <b>end<br/>
def </b>the_winner=( </font><font color="#32659A">name</font><font color="#9A3265"> )</font></p>
<font color="#9A3265"><b>unless</b></font><font color="#32659A"> name</font><font color="#9A3265">.</font><font color="#32659A">respond_to?</font> :to_str<br/>
<b><font color="#9A3265">raise</font><font color="#653200"> ArgumentError</font></b><font color="#9A3265">, "</font><font color="#329A65">The winner's name must be a String,
not a math problem or a list of names or any of that business.</font><font color="#9A3265">" 
<b>end</b><br/>
@the_winner =</font><font color="#32659A"> name</font><br/>
<font color="#9A3265"><b>end<br/>
end</b></font></font>
<p><font color="#222222">Most of the time you won’t use this. But, as we move along through your lessons, you’ll find that Ruby has lots of escape
hatches and alley ways you can sneak into and hack code into. I’m also preparing you for metaprogramming, which, if you can
smell that dragon, is ominously near.</font></p>
<font color="#F0FAEE"><b>sidebar!</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0066.png"/><img src="whys-poignant-guide-to-ruby_pic0050.png"/><p><font color="#222222">Paij-ree was an enterprising young Endertromaltoek. He hammered animal bones into
long, glistening trumpets with deep holes that were plugged by corks the musicians 
banded to their fingers. Sure, he only sold three of those units, but he was widely
reviled as a freelance scholar, a demonic one, for he was of a poorer class and the poor 
only ever acquired their brilliance through satanic practice. Of course, they were right,
indeed, he did have a bargain with the dark mages, whom he kept appointments with 
annually, enduring torturous hot springs, bathing as they chanted spells.</font></p>
<font color="#545454"><b>Another Excerpt from The Scarf 
Eaters</b></font><br/>
(<i>from Chapter VIII: Sky High</i>.)
<p>“I know you,” said Brent. “And I know your
timelines. You couldn’t have done this Flash
piece.”</p>
<p><font color="#222222">He adored his father, even as his father deteriorated into but a gyroscope. He idolized
the man’s work and spent his own small earnings playing the lottery. He loved to
watch the numerals, each painted upon hollow clay balls, rise in the <i>robloch</i> (which is 
any fluid, pond or spill that has happened to withstand the presence of ghosts), the 
great bankers tying them together on a silver string, reading them in order.</font></p>
<p>“So, you’re saying I’m predictable?” said
Deborah. She opened her hands and the
diced potatoes stumbled like little, drunk sea
otters happily into the open crockpot.</p>
<p><font color="#222222">Even today, Paij-ree paints the scenes with crude strokes of black ink on sheets of
aluminum foil. It is very touching to see him caught up in the preciousness of his
memory, but I don’t know exactly why he does it on aluminum foil. His drawings rip
too easily. Paij-ree himself gets mixed up and will serve you crumbcake right off of
some of this art, even after it has been properly framed. So many things about him are
troubling and absurd and downright wretched.</font></p>
<p>“You’re very linear,” said Brent. He took up a
mechanical pencil, held it straight before his
eyes, gazing tightly at it before replacing it in
the pencil holder on the counter. “Do you
even know how to load a scene? How to
jump frames? This movie I saw was all over
the place, Deb.”</p>
<font color="#222222"><p>The disease spread over his father’s form and marshy weeds covered his father’s hands
and face. The moss pulled his spine up into a rigid uprightness. So thick was the
growth over his head that he appeared to wear a shrub molded into a bowler’s hat. He
also called himself by a new name - <b>Quos</b> - and he healed the people he touched, 
leaving a pile of full-blooded, greenly-cheeked villages in his wake as he travelled the 
townships. Many called him The Mossiah and wept on his feet, which wet the buds and
caused him to weed into the ground. This made him momentarily angry, he harshly
jogged his legs to break free and thrashed his fists wildly in the sky, bringing down a 
storm of lightning shards upon these pitiful.</p>
<p>Paij-ree was apart from the spiritual odysseys of his father (in fact, thought the man 
dead), so he only saw the decay of the lottery without its captain present. Here is
where Paij-ree went to work, reviving the dead lottery of his family.</p></font>
<p>She heaped five knit scarves and a single 
bandana into the slow cooker and set it on 
high. She closed the lid, leaving her hand
resting upon it.</p>
<p>“What is it about this movie?” Deborah
asked. “You go to Flash sites all the time.
You played the Elf Snowball game for two
seconds, it didn’t interest you. You didn’t
care for Elf Bowling games even. And you
weren’t even phased by that Hit The Penguin
flash game. Elf versus Penguin? Don’t even
ask!</p>
<font color="#222222"><b>Gambling with Fewer Fingers</b>
<p>The city was crowded with people who had lost interest in the lottery. The weather had
really worn everyone down as well. Such terrible rain flooding their cellars. The entire
city was forced to move up one story. You’d go to put the cap back on your pen and
you’d ruin the pen, since the cap was already full of slosh. Everyone was depleted,
many people drowned.</p>
<p>Paij-ree found himself wasting his days in a quadruple bunkbed, the only furniture
that managed to stay above sea level. He slept on the top bed. The third bed up was dry
as well, so he let a homeless crater gull nest upon it. The gull didn’t need the whole
bed, so Paij-ree also kept his calculators and pencils down there.</p></font>
<p>“Now this movie comes along and you can’t
get a grip.” She walked over and siddled up
next to him. “Yo, bro, it’s me. Deborah. What
happened when you saw that movie?”</p>
<p>“Everything,” said Brent, his eyes reflecting a
million worlds. “And: nothing. It opened
with a young girl riding upon a wild boar.
She was playing harmonica. The harmonica
music washed in and out, uneasy, unsure.
But she rode naturally, as if it wasn’t
anything of a big deal to ride a wild boar.
And with Flash, riding a wild boar really isn’t
a big deal.”</p>
<p><font color="#222222">At first, these were very dark times for both of them, and they insisted on remaining 
haggard at all times. Paij-ree became obsessed with his fingernails, kept them long and
pristine, while the rest of him deteriorated under a suit of hair. In the company of</font></p>
Deborah unclasped her bracelet and set it on
the counter by the crockpot.<br/>
<img src="whys-poignant-guide-to-ruby_pic0067.png"/><img src="whys-poignant-guide-to-ruby_pic0050.png"/><font color="#222222">Paij-ree, the crater gull learned his own eccentrity and plucked all the feathers on the 
right side of his body. He looked like a cutaway diagram.
<p>They learned to have happier times. Paij-ree carved a flute from the wall with his nails
and played it often. Mostly he played his relaxed ballads during the daytime. In the
evening, they pounded the wall and shook the bed frame in time to his songs. The gull
went nuts when he played a certain four notes and he looped this section repeatedly,
watching the gull swoop and circle in ectasy. Paij-ree could hardly keep his composure
over the effect the little tune had and he couldn’t keep it together, fell all apart,
slobbering and horse-giggling.</p></font>
<p>“The bottom of the movie started to break
up, an ink puddle formed. The boar reared
up, but his legs gave way to the all the dark,
sputtering ink.”</p>
<p>“Dark clouds converged. Hardcore music
started to play. Secret agents came out of the
clouds. CIA guys and stuff. The animation
simply rocked.</p>
<font color="#222222">Paij-ree called the gull <i>Eb-F-F-A</i>, after that favorite song.</font>
<p>“And then, at the very end of the movie,
these words fade upon the screen. In white,
bold letters.”</p>
<p><font color="#222222">Friendship can be a very good catalyst for progress. A friend can find traits in you that
no one else can. It’s like they searched your person and somehow came up with five
full sets of silverware you never knew were there. And even though that friend may not
understand why you had these utensils concealed, it’s still a great feat, worth honoring.</font></p>
“Sky high,” said Deborah.<br/>
“How did you know?” Brent’s lip quivered.
<p>Could she be trusted?<br/>
<font color="#222222">While <i>Eb-F-F-A</i> didn’t find silverware, he did find something else. A pile of
something else. Since Paij-ree was stranded on the quadruple bed, the gull would scout
around for food. One day, he flew down upon a barrel, floating over where the toolshed
had been. <i>Eb-F-F-A</i> walked on top of the barrel, spinning it back to Paij-ree’s house
and they cracked it open, revealing Paij-ree’s lost collection of duck bills.</font></p>
<p>“There is no room left in the world,” she
said. “No room for Scarf Eaters, no room for
you and I. Here, take my hand.”</p>
<img src="whys-poignant-guide-to-ruby_pic0068.png"/><font color="#F0FAEE"><b>sidebar!</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0050.png"/><font color="#222222"><p>Yes, real duck bills. (
<i>Eb-F-F-A</i> was esophagizing his squawks, remaining calm, sucking beads of sweat back into his
forehead—ducks were not <i>of his chosen feather</i>, but still in the species.) Paij-ree clapped gleefully, absolutely, he had
intended to shingle his house with these, they could have deflected a bit of the torrent. Probably not much, nothing to cry 
about.</p>
<p>And the roof glue was at the barrel’s bottom and they were two enterprising bunkmates with time to kill, so they made a raft
from the previously-quacked lip shades. And off they were to the country! Stirring through a real mess of city and soup. How
strange it was to hit a beach and find out it was just the old dirt road passed Toffletown Junction.</p>
<p>In the country, they sold. It was always a long walk to the next plantation, but there would be a few buyers up in the mansion
(“Welcome to The Mansion Built on Beets”, they’d say or, “The Mansion Built on Cellophane Substitutes—don’t you know how
harmful real cellophane can be?”) And one of the families wrapped up some excess jelly and ham in some cellophane for the
two travellers. And they almost died one day later because of it.</p>
<p>Then, when the heat came and, as the first countryside lottery was at nigh, a farmer called to them from his field, as he stood
by his grazing cow. Paij-ree and <i>Eb-F-F-A</i> wandered out to him, murmuring to each other as to whether they should offer him
the Wind-Beaten Ticket Special or whether he might want to opt in to winning Risky Rosco’s Original Homestyle Country
Medallion.</p>
<p>But the farmer waved them down as he approached, “No, put your calculators and probability wheels away. It’s for my
grazledon.” He meant his cow. The Endertromb version: twice as much flesh, twice as meaty, doesn’t produce milk, produces
paper plates. Still, it grazes.</p>
“Your grazledon (poh-kon-ic) wants a lucky ticket?” asked Paij-ree.
<p>“He saw you two and got real excited,” said the farmer. “He doesn’t know numbers, but he understands luck a bit. He almost
got hit by a doter plane one day and, when I found him, he just gave shrug. It was like he said, ‘Well, I guess that worked out
okay.’”<br/>
“The whole (shas-op) lottery is numer-(ig-ig)-ic,” said Paij-ree. “Does he know (elsh) notes? My eagle knows (losh) notes.”
Paij-ree whistled at the crater gull, who cooed back a sustained <i>D</i>.</p>
The farmer couldn’t speak to his grazledon’s tonal awareness, so Paij-ree sent the gull to find out (<i>D-D-D-A-D</i>, 
<i>go-teach-the-gra-zle</i>) while he hacked some notes into his calculator.</font><br/>
<font face="Courier, serif"><b><font color="#9A3265">class </font><font color="#653200">AnimalLottoTicket</font></b><br/>
<font color="#545454"># A list of valid notes.</font><br/>
<font color="#653200"><b>NOTES</b></font><font color="#9A3265"> = [</font>:Ab<font color="#9A3265">, </font>:A<font color="#9A3265">, </font>:Bb<font color="#9A3265">, </font>:B<font color="#9A3265">, </font>:C<font color="#9A3265">, </font>:Db<font color="#9A3265">, </font>:D<font color="#9A3265">, </font>:Eb<font color="#9A3265">, </font>:E<font color="#9A3265">, </font>:F<font color="#9A3265">, </font>:Gb<font color="#9A3265">, </font>:G<font color="#9A3265">]</font><br/>
<font color="#545454"># Stores the three picked notes and a purchase date.</font>
<font color="#32659A">attr_reader</font> :picks<font color="#9A3265">, </font>:purchased
<p><font color="#545454"># Creates a new ticket from three chosen notes.  The three notes<br/>
# must be unique notes.</font><br/>
<font color="#9A3265"><b>def </b>initialize( </font><font color="#32659A">note1</font><font color="#9A3265">, </font><font color="#32659A">note2</font><font color="#9A3265">, </font><font color="#32659A">note3</font><font color="#9A3265"> )</font></p>
<p><font color="#9A3265"><b>if</b>
 [</font><font color="#32659A">note1</font><font color="#9A3265">, </font><font color="#32659A">note2</font><font color="#9A3265">, </font><font color="#32659A">note3</font><font color="#9A3265">].</font><font color="#32659A">uniq!</font><br/>
<b><font color="#9A3265">raise</font><font color="#653200"> ArgumentError</font></b><font color="#9A3265">, "</font><font color="#329A65">the three picks must be different notes</font><font color="#9A3265">" <br/>
<b>elsif</b></font><font color="#32659A"> picks</font><font color="#9A3265">.</font><font color="#32659A">detect</font><font color="#9A3265"> { |</font><font color="#32659A">p</font><font color="#9A3265">| </font><b><font color="#9A3265">not</font><font color="#653200"> NOTES</font></b><font color="#9A3265">.</font><font color="#32659A">include? p</font><font color="#9A3265"> }</font><br/>
<b><font color="#9A3265">raise</font><font color="#653200"> ArgumentError</font></b><font color="#9A3265">, "</font><font color="#329A65">the three picks must be notes in the chromatic scale.</font><font color="#9A3265">" <br/>
<b>end</b><br/>
@picks =</font><font color="#32659A"> picks</font><br/>
<font color="#9A3265">@purchased = </font><font color="#653200"><b>Time</b></font><font color="#9A3265">.</font><font color="#32659A">now</font><br/>
<font color="#9A3265"><b>end</b></font></p>
<p><font color="#545454"># Score this ticket against the final draw.</font>
<font color="#9A3265"><b>def </b>score( </font><font color="#32659A">final</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">count</font><font color="#9A3265"> = </font><font color="#329A65">0</font><br/>
<font color="#32659A">final</font><font color="#9A3265">.</font><font color="#32659A">picks</font><font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">note</font><font color="#9A3265">|</font><br/>
<font color="#32659A">count</font><font color="#9A3265"> +=</font><font color="#329A65">1</font><font color="#9A3265"><b> if</b></font><font color="#32659A"> picks</font><font color="#9A3265">.</font><font color="#32659A">include? note</font><br/>
<font color="#9A3265"><b>end</b></font><br/>
<font color="#32659A">count</font><br/>
<font color="#9A3265"><b>end</b></font></p>
<font color="#545454"># Constructor to create a random AnimalLottoTicket</font><br/>
<font color="#9A3265"><b>def </b>self.new_random</font><br/>
<font color="#32659A">new</font><font color="#9A3265">( </font><font color="#653200"><b>NOTES</b></font><font color="#9A3265">[ </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#653200"><b>NOTES</b></font><font color="#9A3265">.</font><font color="#32659A">length</font><font color="#9A3265"> ) ],</font><font color="#653200"><b> NOTES</b></font><font color="#9A3265">[ </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#653200"><b>NOTES</b></font><font color="#9A3265">.</font><font color="#32659A">length</font><font color="#9A3265"> ) ],</font>
<font color="#653200"><b>NOTES</b></font><font color="#9A3265">[ </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#653200"><b>NOTES</b></font><font color="#9A3265">.</font><font color="#32659A">length</font><font color="#9A3265"> ) ] )</font><br/>
<b><font color="#9A3265">rescue</font><font color="#653200"> ArgumentError</font><br/>
<font color="#9A3265">redo<br/>
end<br/>
end</font></b></font><br/>
<font color="#222222">No need for the animal’s tickets to behave drastically different from the traditional tickets. The</font>
<font face="Courier, serif"><font color="#653200"><b>AnimalLottoTicket</b></font></font><font color="#222222"> class is internally different, but exposes the same methods seen in the original </font><br/>
<font face="Courier, serif"><font color="#653200"><b>LotteryTicket</b></font></font><font color="#222222"> class. The </font><font face="Courier, serif"><font color="#32659A">score</font></font><font color="#222222"> method is even identical to the </font><font face="Courier, serif"><font color="#32659A">score</font></font><font color="#222222"> method from the old </font><br/>
<font face="Courier, serif"><font color="#653200"><b>LotteryTicket</b></font></font><font color="#222222"><sub> class.</sub></font>
<p><font color="#222222">Instead of using a class variable to store the musical note list, they’re stored in a constant called</font>
<font face="Courier, serif"><font color="#653200"><b>AnimalLottoTicket</b></font><font color="#9A3265">::</font><font color="#653200"><b>NOTES</b></font></font><font color="#222222">. Variables change and the note list shouldn’t change. Constants are designed to
stay the same. You can still change the constant, but you’ll have to be tricky or Ruby will speak up.</font></p>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>AnimalLottoTicket</b></font><font color="#9A3265">::</font><font color="#653200"><b>NOTES</b></font><font color="#9A3265"> = [</font>:TOOT<font color="#9A3265">, </font>:TWEET<font color="#9A3265">, </font>:BLAT<font color="#9A3265">]
(</font><font color="#32659A">irb</font><font color="#9A3265">):</font><font color="#329A65">3</font><font color="#9A3265">: </font><font color="#32659A">warning</font><font color="#9A3265">: </font><font color="#32659A">already initialized constant</font><font color="#653200"><b> NOTES</b></font>
<font color="#9A3265">=&gt; [</font>:TOOT<font color="#9A3265">, </font>:TWEET<font color="#9A3265">, </font>:BLAT<font color="#9A3265">]</font></font>
<p><font color="#222222">The gull came back with the grazledon, his name was Merphy, he was thrilled to play chance, he puffed his face dreamily, 
whistled five and six notes in series, they all held his collar, pulled him close to the calculator and let him breathe three notes, 
then they choked the bedosh outta him until his ticket was printed and everything was nicely catalogued inside</font></p>
<font face="Courier, serif"><font color="#9A3265">@@tickets['</font><font color="#329A65">merphy</font><font color="#9A3265">']</font></font><font color="#222222"><sub>. Thankyou, see ya at the draw!</sub></font>
<p><font color="#222222">So, the fever of the lottery became an epidemic among the simple minds of the animals. Paij-ree saved his costs, used the same</font>
<font face="Courier, serif"><font color="#653200"><b>LotteryDraw</b></font></font><font color="#222222"> class he’d used in the corporate environment of the lottery from his childhood. And soon enough, the
animals were making their own music and their own maps and films.</font></p>
<font color="#222222">“What about The Originals?” I asked Paij-ree. “They must have hated your animals!”<br/>
But he winced sourly and pinched his forehead. “I am an Original. You as well. Do we (ae-o) hate any of them?”
<p>Not too long after the lottery ended, Paij-ree felt the crater gull 
<i>Eb-F-F-A</i> lighting upon his shoulder, which whistled an 
urgent and sad <i>C-Eb-D C-A-Eb</i>. These desparate notes sent an organ roll of chills straight through Paij-ree. Had the King
God of Potted Soil, Our Beloved Topiary, <b>the Mossiah Quos</b>, Literal Father of That Man Who Would Be My Daughter’s
Organ Instructor—had he truly come to his end? How could this be? Could the great arbors no longer nourish him and guide
the moist crosswinds to him? Or did his own spindly lichen hedge up his way and grow against his breathing?</p>
<i>You never mind</i>, went the tune of the gull. <i>He has detoriated and weakened and fallen in the lit door of your home 
cottage. His tendrils needing and crying for the day to not end. For the sun to stay fixed and wide and attentive.</i>
<p>Plor-ian, the house attendant, kept the pitchers coming and Quos stayed well watered until Paij-ree arrived to survey the 
decaying buds of soft plant and the emerging face of his father, the lottery captain. His skin deeply pocked like an overly
embroidered pillow. Great shoots springing from his sleeves now curled back with lurching thirst.</p>
<p>Paij-ree combed back the longer stems around his father’s eyes and those coming from the corners of his mouth. While I’d like
to tell you that Paij-ree’s tears rolled down his sleeves and into the pours of his father, rejuvenating and restoring the grassy
gentleman: I cannot say this.</p>
<p>Rather, Paij-ree’s tears rolled down his sleeves and into the creaking clapboard floor, nourishing the vile weeds, energizing the
dark plant matter, which literally lept through the floor at night and strangled Our Quos. Yank, pull, crack. And that was his
skull.</p>
So Paij-ree could never be called Wert-ree or Wert-plo after that.<br/>
<b>6. Them What Make the Rules</b><br/>
Hannah lept back from the wall and clenched down on her fingers.<br/>
“This is the wall,” said Dr. Cham. “The Originals are in there. My child, can you lead us to the observation deck?”<br/>
“You expect us to go up against those guys?” asked the goat. “They’re mad as koalas. But these koalas have lasers!”
“We prevail, though,” said Dr. Cham. “You and I know this.”<br/>
“Okay, well I’m muddled on that point,” said the goat. “Do we really win? Or could we be thinking about <i>Kramer vs. 
Kramer</i>? Does Dustin Hoffman win or do we win?”<br/>
“No. No. No. No.” Hannah hovered and dragged her legs along the wall nervously. “There is a man with a huge face in there!”<br/>
“Mr. Face,” said the Doctor. “He is the original face.”<br/>
“He didn’t see me,” said Hannah and moaned. <b>HOMA-HOMA-ALLO-ALLO.</b>
<p>She made that hollow weeping through the crumbling mouseholes and the freezer gateways, fluxing in and out, causing the 
video checkpoints to hiss and the wall panels to brace themselves and fall silent. The three passed through two levels of frayed
security and emerged in the observation deck overlooking the cargo bay.</p></font>
<img src="whys-poignant-guide-to-ruby_pic0069.png"/><font color="#222222">“The last living among The Originals,” said Dr. Cham. “Are you alright with this, Hannah?” Which she didn’t hear in any way,
as her eyes laid fixed on the legendary creatures.<br/>
“Look at them,” said the goat. “These guys wrote the rule books, Doctor. We owe everything to these guys.”<br/>
“What about God?” said Dr. Cham.<br/>
“I don’t really know,” said the goat. “Hannah probably knows better than any of us about that.”
<p>Hannah said nothing. She only really knew one other ghost and that was her Post-Decease Mediator, Jamie Huft. Who didn’t
seem to have any answers for her and required questions to be submitted in writing with a self-addressed stamped envelope
included. Hannah hadn’t gotten the ball rolling on that P.O. Box yet.</p>
“We must be up in the mountains,” said the goat. “Look out at that blackness.”<br/>
“I saw another deck like this down by where we found Hannah,” said Dr. Cham. “Down closer to your living area. You should
take time to search for it. It’s very peaceful there. You can see Earth and the seven seas.”<br/>
“The seven seas?” The goat wondered if that was near The Rockettes. He’d read his share of material on precision dancing and
he’d seen that line of legs, mincing across the stage like a big, glitsy rototiller.<br/>
Hannah stirred to life.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic006A.png"/><img src="whys-poignant-guide-to-ruby_pic006B.png"/><font color="#222222">And none of the three spoke when The Originals flicked off the slide projector and boarded a very slender rocketship and 
cleanly exploded through a crevice in the cargo bay roof.<br/>
“Oh, boy,” said the goat.<br/>
“What?” said Hannah.<br/>
“You’re going to die,” said the goat.<br/>
Dr. Cham looked over the controls in front of them, a long panel of padded handles and green screens.<br/>
“I’m already dead. I’m a ghost.”
<p>The goat looked down at the Doctor, who was rummaging under the control panel. “Okay, well if your uncle isn’t going to have
a talk with you, I’m going to make things very clear. There’s a good chance these guys are going to build a bomb. And you see
how I’m fidgeting? You see how my knees are wobbling?”</p>
“Yeah.”
<p>“Yeah, that’s how real this is, kid. I don’t remember anything from that 
<i>confounded book</i> except that these guys are building
a bomb that can blow up the ghost world. Because once the ghost world’s gone, then Digger Dosh gets his one second back. It’s
a trade they’ve worked out. Hell, it’s sick stuff, that’s all you need to know.”<br/>
“But I’m dead.”</p>
“Okay, well, we’re talking, aren’t we? You can talk, so are you dead?” The goat shook his head. “I wish I could remember if we
win or if it was Dustin Hoffman.”<br/>
Hannah cried. “Why do I have to die again?” She wailed and her legs fell into flux and she sunk into the floor.
<b>MOH-MOHHH-MAO-MAOOO.</b><br/>
Dr. Cham had forceably yanked on a plush handle, which unlocked and slid open like a breadbox. He reached his hands inside 
and found a keyboard firmly bolted deep inside.<br/>
“That’s it,” he said and pulled up </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222">, which appeared on a display to the left of his concealed typing. He checked the Ruby
version.</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>RUBY_VERSION</b></font>
<font color="#9A3265">=&gt; "</font><font color="#329A65">1.8.3</font><font color="#9A3265">"</font></font><br/>
<font color="#222222">Ruby was up-to-date. What else could he do? Scanning </font><font face="Courier, serif"><font color="#32659A">constants</font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#32659A">class_variables</font></font><font color="#222222"> was pointless. The<br/>
only reason that had worked with the </font><font face="Courier, serif"><font color="#653200"><b>Elevator</b></font></font><font color="#222222"> class was because someone had left </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222"> running with their classes 
still loaded.<br/>
He had just loaded this </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222">, so no special classes were available yet. He had to find some classes. He started by loading the</font><br/>
<font face="Courier, serif"><font color="#9A3265">`</font><font color="#32659A">rbconfig`</font></font><font color="#222222"> file to get an idea of what Ruby’s settings were.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">rbconfig</font><font color="#9A3265">'<br/>
=&gt; </font><font color="#653200"><b>true</b></font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>Config</b></font><font color="#9A3265">::</font><font color="#653200"><b>CONFIG</b></font><br/>
<font color="#9A3265">=&gt; {"</font><font color="#329A65">abs_srcdir</font><font color="#9A3265">"=&gt;"</font><font color="#329A65">$(ac_abs_srcdir)</font><font color="#9A3265">", "</font><font color="#329A65">sitedir</font><font color="#9A3265">"=&gt;"</font><font color="#329A65">bay://Ruby/lib/site_ruby</font><font color="#9A3265">", ... }</font></font></p>
<p><font color="#222222">Too much information to sort through there. The </font>
<font face="Courier, serif"><font color="#653200"><b>Config</b></font><font color="#9A3265">::</font><font color="#653200"><b>CONFIG</b></font></font><font color="#222222"> constant is a Hash that contains every 
environment setting used to setup Ruby. You can find the operating system name at</font><br/>
<font face="Courier, serif"><font color="#653200"><b>Config</b></font><font color="#9A3265">::</font><font color="#653200"><b>CONFIG</b></font><font color="#9A3265">['</font><font color="#329A65">host_os</font><font color="#9A3265">']</font></font><font color="#222222">. The directory where core Ruby libraries are stored can be found at</font></p>
<font face="Courier, serif"><font color="#653200"><b>Config</b></font><font color="#9A3265">::</font><font color="#653200"><b>CONFIG</b></font><font color="#9A3265">['</font><font color="#329A65">rubylibdir</font><font color="#9A3265">']</font></font><font color="#222222">. Ruby programs can store helper files at</font>
<font face="Courier, serif"><font color="#653200"><b>Config</b></font><font color="#9A3265">::</font><font color="#653200"><b>CONFIG</b></font><font color="#9A3265">['</font><font color="#329A65">datadir</font><font color="#9A3265">']</font></font><font color="#222222"><sub>.</sub><br/>
What Dr. Cham really needed, though, was a list of all the libraries that aren’t core Ruby libraries. Libraries which were
installed by The Originals or whoever manned this console. He checked a few global variables for this information.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; $"<br/>
=&gt; ["</font><font color="#329A65">irb.rb</font><font color="#9A3265">", "</font><font color="#329A65">e2mmap.rb</font><font color="#9A3265">", "</font><font color="#329A65">irb/init.rb</font><font color="#9A3265">", ... "</font><font color="#329A65">rbconfig.rb</font><font color="#9A3265">"]</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; $:<br/>
=&gt; ["</font><font color="#329A65">bay://Ruby/lib/site_ruby/1.9</font><font color="#9A3265">", "</font><font color="#329A65">bay://Ruby/lib/site_ruby/1.9/i686-unknown</font><font color="#9A3265">",
"</font><font color="#329A65">bay://Ruby/lib/site_ruby</font><font color="#9A3265">", "</font><font color="#329A65">bay://Ruby/lib/1.9</font><font color="#9A3265">", <br/>
"</font><font color="#329A65">bay://Ruby/lib/1.9/i686-unknown</font><font color="#9A3265">", "</font><font color="#329A65">.</font><font color="#9A3265">"]</font></font></p>
<font color="#222222">Aha, good. Dr. Cham stroked his beard and looked over his </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222"> session. The </font><font face="Courier, serif"><font color="#9A3265">$"</font></font><font color="#222222"> global variable contains an Array of every <br/>
library which has been loaded with </font><font face="Courier, serif"><font color="#32659A">require</font></font><font color="#222222">. Most of these libraries had been loaded by </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222">. He had loaded</font><br/>
<font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">rbconfig.rb</font><font color="#9A3265">'</font></font><font color="#222222"><sub> earlier, though.</sub><br/>
The </font><font face="Courier, serif"><font color="#9A3265">$:</font></font><font color="#222222"> global variable, which can also be accessed as </font><font face="Courier, serif"><font color="#9A3265">$LOAD_PATH</font></font><font color="#222222">, contains a list of all the directories which Ruby <br/>
will check when you try to load a file with </font><font face="Courier, serif"><font color="#32659A">require</font></font><font color="#222222">. When Dr. Cham ran </font><font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">rbconfig</font><font color="#9A3265">'</font></font><font color="#222222">, Ruby 
checked each directory in order.</font>
<p><font face="Courier, serif"><font color="#32659A">bay</font>
<font color="#9A3265">://</font><font color="#653200"><b>Ruby</b></font><font color="#9A3265">/</font><font color="#32659A">lib</font><font color="#9A3265">/</font><font color="#32659A">site_ruby</font><font color="#9A3265">/</font><font color="#329A65">1.9</font><font color="#9A3265">/</font><font color="#32659A">rbconfig</font><font color="#9A3265">.</font><font color="#32659A">rb<br/>
bay</font><font color="#9A3265">://</font><font color="#653200"><b>Ruby</b></font><font color="#9A3265">/</font><font color="#32659A">lib</font><font color="#9A3265">/</font><font color="#32659A">site_ruby</font><font color="#9A3265">/</font><font color="#329A65">1.9</font><font color="#9A3265">/</font><font color="#32659A">i686</font><font color="#9A3265">-</font><font color="#32659A">unknown</font><font color="#9A3265">/</font><font color="#32659A">rbconfig</font><font color="#9A3265">.</font><font color="#32659A">rb</font><font color="#9A3265"> (*)</font>
<font color="#32659A">bay</font><font color="#9A3265">://</font><font color="#653200"><b>Ruby</b></font><font color="#9A3265">/</font><font color="#32659A">lib</font><font color="#9A3265">/</font><font color="#32659A">site_ruby</font><font color="#9A3265">/</font><font color="#32659A">rbconfig</font><font color="#9A3265">.</font><font color="#32659A">rb<br/>
bay</font><font color="#9A3265">://</font><font color="#653200"><b>Ruby</b></font><font color="#9A3265">/</font><font color="#32659A">lib</font><font color="#9A3265">/</font><font color="#329A65">1.9</font><font color="#9A3265">/</font><font color="#32659A">rbconfig</font><font color="#9A3265">.</font><font color="#32659A">rb<br/>
bay</font><font color="#9A3265">://</font><font color="#653200"><b>Ruby</b></font><font color="#9A3265">/</font><font color="#32659A">lib</font><font color="#9A3265">/</font><font color="#329A65">1.9</font><font color="#9A3265">/</font><font color="#32659A">i686</font><font color="#9A3265">-</font><font color="#32659A">unknown</font><font color="#9A3265">/</font><font color="#32659A">rbconfig</font><font color="#9A3265">.</font><font color="#32659A">rb</font><br/>
<font color="#9A3265">./</font><font color="#443254">rbconfig.rb</font></font></p>
<p><font color="#222222">The second path was where Ruby ended up finding the rbconfig.rb file. Dr. Cham guessed that the first five paths were
<b>absolute paths</b>. These were paths to directories on a drive called </font><font face="Courier, serif"><font color="#32659A">bay</font></font><font color="#222222">. Absolute paths may vary on your system. On
Windows, absolute paths will start with a drive letter. On Linux, absolute paths start with a slash.</font></p>
<font color="#222222">The directory </font><font face="Courier, serif"><font color="#9A3265">"</font><font color="#329A65">.</font><font color="#9A3265">"</font></font><font color="#222222"> indicates a <b>relative path</b>. The lone period represents the current work directory. The directory where<br/>
Dr. Cham started up </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222">. So, after Ruby has searched all the standard places, it checks the current directory.</font>
<p><font color="#222222">The goat had peeked his head around Dr. Cham and was watching all these instructions transpire, as he licked his lips to keep 
his salivations from running all over the monitors and glossy buttons. He had been interjecting a few short cheers (along the
lines of: <i>No, not that</i> or <i>Yes, yes, right</i> or <i>Okay, well, your choice</i>), but now he was fully involved, recommending code,
“Try </font><font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">setup</font><font color="#9A3265">'</font></font><font color="#222222"> or, no, try </font><font face="Courier, serif"><font color="#329A65">3</font><font color="#9A3265"> * </font><font color="#329A65">5</font></font><font color="#222222">. Make sure that basic math works.”</font></p>
<font color="#222222">“Of course the math works,” said Dr. Cham. “Let me be, I need to find some useful classes.”<br/>
“It’s a basic sanity test,” said the goat. “Just try it. Do </font><font face="Courier, serif"><font color="#329A65">3</font><font color="#9A3265"> * </font><font color="#329A65">5</font></font><font color="#222222"> and see what comes up.”<br/>
Dr. Cham caved.</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#329A65">3</font><font color="#9A3265"> * </font><font color="#329A65">5</font>
<font color="#9A3265">=&gt; </font><font color="#329A65">15</font></font><br/>
<font color="#222222">“Okay, great! We’re in business!” the goat tossed his furry face about in glee.<br/>
Dr. Cham patted the goat’s head, “Well done. We can continue.”</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#653200"><b>Dir</b></font><font color="#9A3265">.</font><font color="#32659A">chdir</font><font color="#9A3265">( "</font><font color="#329A65">bay://Ruby/lib/site_ruby/1.9/</font><font color="#9A3265">" )
=&gt; </font><font color="#329A65">0</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>Dir</b></font><font color="#9A3265">["</font><font color="#329A65">./*.{rb}</font><font color="#9A3265">"]<br/>
=&gt; ['</font><font color="#329A65">endertromb.rb</font><font color="#9A3265">', '</font><font color="#329A65">mindreader.rb</font><font color="#9A3265">', '</font><font color="#329A65">wishmaker.rb</font><font color="#9A3265">']</font></font></p>
<font color="#222222">Dr. Cham had use </font><font face="Courier, serif"><font color="#32659A">chdir</font></font><font color="#222222"> to change the current working directory over the the first path listed in </font><font face="Courier, serif"><font color="#9A3265">$LOAD_PATH</font></font><font color="#222222">. This<br/>
first path in </font><font face="Courier, serif"><font color="#32659A">site_ruby</font></font><font color="#222222"> is a common place to store custom classes.<br/>
Here were the three legendary classes that my daughter’s organ instructor had inscribed for me earlier in this chapter. And,
Dr. Cham, having read this selfsame chapter, recognized these three pieces of the system immediately.
The </font><font face="Courier, serif"><font color="#653200"><b>Endertromb</b></font></font><font color="#222222"> class which contained the mysteries of this planet’s powers. The </font><font face="Courier, serif"><font color="#653200"><b>MindReader</b></font></font><font color="#222222"> class which,<br/>
upon scanning the minds of its inhabitants, read each mind’s contents. And, finally, the crucial </font><font face="Courier, serif"><font color="#653200"><b>WishMaker</b></font></font><font color="#222222"> class which 
powered the granting of ten-letter wishes, should the wish ever find its way to the core of Endertromb.<br/>
“How about </font><font face="Courier, serif"><font color="#329A65">4</font><font color="#9A3265"> * </font><font color="#329A65">56</font><font color="#9A3265"> + </font><font color="#329A65">9</font></font><font color="#222222">?” asked the goat. “We don’t know if it can do compound expressions.”<br/>
“I’ve got the </font><font face="Courier, serif"><font color="#653200"><b>MindReader</b></font></font><font color="#222222"> right here,” said Dr. Cham. “And I have the </font><font face="Courier, serif"><font color="#653200"><b>WishMaker</b></font></font><font color="#222222"> here next to it. This planet can
read minds. And this planet can make wishes. Now, let’s see if it can do both at the same time.”<br/>
<b>7. Them What Live the Dream</b>
<p>While The Originals’ craft had long disappeared, Dr. Cham frantically worked away at the computer built into the control
panel up in the observation deck. Hannah had disappeared into the floor (or perhaps those little sparks along the ground were
still wisps of her paranormal presence!) and the goat amicably watched Dr. Cham hack out a Ruby module.</p></font>
<font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">endertromb</font><font color="#9A3265">'<br/>
<b>module </b>WishScanner<br/>
<b>def </b>scan_for_a_wish</font>
<p><font color="#32659A">wish</font>
<font color="#9A3265"> = </font><font color="#653200"><b>self</b></font><font color="#9A3265">.</font><font color="#32659A">read</font><font color="#9A3265">.</font><font color="#32659A">detect</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">thought</font><font color="#9A3265">|</font>
<font color="#32659A">thought</font><font color="#9A3265">.</font><font color="#32659A">index</font><font color="#9A3265">( '</font><font color="#329A65">wish: </font><font color="#9A3265">' ) ==</font><font color="#329A65"> 0</font><br/>
<font color="#9A3265"><b>end</b></font><br/>
<font color="#32659A">wish</font><font color="#9A3265">.</font><font color="#32659A">gsub</font><font color="#9A3265">( '</font><font color="#329A65">wish: </font><font color="#9A3265">', '' )<br/>
<b>end<br/>
end</b></font></p></font>
<font color="#222222">“What’s your plan?” asked the goat. “It seems like I could have solved this problem in like three lines.”<br/>
“This </font><font face="Courier, serif"><font color="#653200"><b>Module</b></font></font><font color="#222222"> is the new </font><font face="Courier, serif"><font color="#653200"><b>WishScanner</b></font></font><font color="#222222"> technology,” he said. “The scanner only picks up a wish if it starts with the<br/>
word </font><font face="Courier, serif"><font color="#32659A">wish</font></font><font color="#222222"> and a colon and a space. That way the planet doesn’t fill up with every less-than-ten-letter word that appears in
people’s heads.”<br/>
“Why don’t you just use a class?” asked the goat.<br/>
“Because a </font><font face="Courier, serif"><font color="#653200"><b>Module</b></font></font><font color="#222222"> is simpler than a class. It’s basically just a storage facility for methods. It keeps a group of methods
together. You can’t create new objects from a method.”<br/>
“But aren’t you going to want a </font><font face="Courier, serif"><font color="#653200"><b>WishScanner</b></font></font><font color="#222222"> object, so you can actually use it?” said the goat, appalled.<br/>
“I’m going to mix it into the </font><font face="Courier, serif"><font color="#653200"><b>MindReader</b></font></font><font color="#222222">,” said Dr. Cham. And he did.</font><br/>
<font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">mindreader</font><font color="#9A3265">'</font>
<b><font color="#9A3265">class </font><font color="#653200">MindReader</font></b><br/>
<font color="#32659A">include</font><b><font color="#653200"> MindScanner</font>
<font color="#9A3265">end</font></b></font><br/>
<font color="#222222">“Now, the </font><font face="Courier, serif"><font color="#653200"><b>MindScanner</b></font></font><font color="#222222"> module is mixed in to the </font><font face="Courier, serif"><font color="#653200"><b>MindReader</b></font></font><font color="#222222">,” said Dr. Cham. “I can call the</font><br/>
<font face="Courier, serif"><font color="#32659A">scan_for_a_wish</font></font><font color="#222222"><sub> method on any </sub></font><font face="Courier, serif"><font color="#653200"><b>MindReader</b></font></font><font color="#222222"><sub> object.”</sub><br/>
“So, it’s a mixin,” said the goat. “The </font><font face="Courier, serif"><font color="#653200"><b>MindScanner</b></font></font><font color="#222222"> mixin.”<br/>
“Yes, any module which is introduced into a class with </font><font face="Courier, serif"><font color="#32659A">include</font></font><font color="#222222"> is a mixin to that class. If you go back and look at the</font><br/>
<font face="Courier, serif"><font color="#32659A">scan_for_a_wish</font></font><font color="#222222"> method, you’ll see that it calls a </font><font face="Courier, serif"><font color="#653200"><b>self</b></font><font color="#9A3265">.</font><font color="#32659A">read</font></font><font color="#222222"> method. I just have to make sure that<br/>
whatever class I’m mixing </font><font face="Courier, serif"><font color="#653200"><b>MindScanner</b></font></font><font color="#222222"> into has a </font><font face="Courier, serif"><font color="#32659A">read</font></font><font color="#222222"> method. Otherwise, an error will be thrown.”<br/>
“That seems really wierd that the mixin requires certain methods that it doesn’t already have. It seems like it should work by
itself.”
<p>Dr. Cham looked up from the keyboard at the goat. “Well, it’s sort of like your video collection. None of your video cassettes
work unless they are put in a machine that uses video cassettes. The depend on each other. A mixin has some basic
requirements, but once a class meets those requirements, you can add all this extra functionality in.”</p>
“Hey, that’s cool,” said the goat.<br/>
“You read the book thirty times and you didn’t pick that up?” asked Dr. Cham.<br/>
“You’re a much better teacher in person,” said the goat. “I really didn’t think I was going to like you very much.”<br/>
“I completely understand,” said the Doctor. “This is much more real than the cartoons make it seem.”</font>
<font face="Courier, serif"><p><font color="#32659A">require</font>
<font color="#9A3265"> '</font><font color="#329A65">wishmaker</font><font color="#9A3265">'</font><br/>
<font color="#32659A">reader</font><font color="#9A3265"> = </font><font color="#653200"><b>MindReader</b></font><font color="#9A3265">.</font><font color="#32659A">new<br/>
wisher</font><font color="#9A3265"> = </font><font color="#653200"><b>WishMaker</b></font><font color="#9A3265">.</font><font color="#32659A">new<br/>
loop</font><font color="#9A3265"><b> do</b></font></p>
<font color="#32659A">wish</font><font color="#9A3265"> = </font><font color="#32659A">reader</font><font color="#9A3265">.</font><font color="#32659A">scan_for_a_wish</font>
<font color="#9A3265"><b>if</b></font><font color="#32659A"> wish<br/>
wisher</font><font color="#9A3265">.</font><font color="#32659A">grant</font><font color="#9A3265">( </font><font color="#32659A">wish</font><font color="#9A3265"> )<br/>
<b>end<br/>
end</b></font></font><br/>
<font color="#222222">Irb sat and looped on the screen. It’ll do that until you hit Control-C. But Dr. Cham let it churn away. Looping endlessly,
scanning the mind waves for a proper wish.</font>
<p><font color="#222222">And Dr. Cham readied his wish. At first, he thought immediately of a </font>
<font face="Courier, serif"><font color="#32659A">stallion</font></font><font color="#222222">. To ride bareback over the vales of
Sedna. But he pulled the thought back, his wish hadn’t been formed properly. A stallion was useless in pursuing The Originals,
so he closed his eyes again, bit his lip and he thought to himself: </font><font face="Courier, serif"><font color="#32659A">wish</font><font color="#9A3265">: </font><font color="#32659A">whale</font></font><font color="#222222">.</font></p>
<font color="#222222"><b>Last Whale to Peoplemud</b><br/>
The blocky, sullen whale appeared down at the castle entrance, where Hannah was bashing on a rosebud with her hand. She
whacked at it with a fist, but it only stayed perfect and pleasant and crisp against the solid blue sky of Endertromb.<br/>
“I’m bored,” she said to the whale. <b>BOHR-BOHR-OHRRRRRR.</b><br/>
“Ok,” said the whale, deep and soft. As the word slid along his massive tongue, its edges chipped off and the word slid out
polished and worn in a bubble by his mouth’s corner.<br/>
“I always have to die,” said the young ghost. “People always kill me.”<br/>
The whale fluttered his short fins, which hung at useless distance from the ground. So, he pushed himself toward her with his
tail. Scooting over patches of grass.<br/>
“People kill, so who do they kill?” said the girl. “Me. They kill me every time.”
<p>The whale made it to within three meters of the girl, where he towered like a great war monument that represents enough 
dead soldiers to actually steal a lumbering step towards you. And now, the whale rested his tail and, exhausted by the climb
thus far, let his eyelids fall shut and became a gently puffing clay mountain, his shadow rich and doubled-up all around the 
hardly visible Hannah.</p>
But another shadow combined, narrow and determined. Right behind her, the hand came on to her shoulder, and the warm
ghost inside the hand touched her sleeve.<br/>
“How did you get down here?” said the girl.<br/>
Dr. Cham sat right alongside her and the goat walked around and stood in front.<br/>
“Listen to us,” said Dr. Cham. “We’ve got to follow this mangy pack of ne’er-do-wells to the very end, Hannah. And to nab
them, we need your faithful assistance!”<br/>
“I’m scared,” cried Hannah.<br/>
“You’re not scared,” said the goat. “Come on. You’re a terrifying little phantom child.”<br/>
“Well,” she said. “I’m a little bored.”
<p>Dr. Cham bent down on a knee, bringing his shaggy presence toward the ground, his face just inches from hers. “If you come
with us, if you can trust what we know, then we can bag this foul troupe. Now, you say your destiny is to be a baker. I won’t
dispute that. You have every right on Earth - and Endertromb, for that matter - to become a baker. Say, if you didn’t become a
baker, that would be a great tragedy. Who’s going to take care of all those donuts if you don’t?”</p>
She shrugged. “That’s what I’ve been saying.”
<p>“You’re right,” said the Doctor. “You’ve been saying it from the start.” He looked up to the sky, where the wind whistled
peacefully despite its forceful piercing by The Originals’ rocketship. “If your destiny is to be a baker, then mine is to stop all
this, to end the mayhem that is just beginning to boil. And hear me, child - hear how sure and solid my voice becomes when I 
say this - I ended your life, I bear sole responsibility for your life as an apparition, but I will get it back. It’s going to take more
than a donut, but you will have a real childhood. I promise you.”</p></font>
<img src="whys-poignant-guide-to-ruby_pic006C.png"/><font color="#222222"><p>Sure, it took a minute for the goat to cut his wish down to ten letters, but he was shortly on his way, following the same 
jetstreams up into the sky, up toward Dr. Cham and his ghost niece Hannah. Up toward the villanous animal combo pak called
The Originals. Up toward The Rockettes.</p>
And Digger Dosh bludgeoned and feasted on each second they left behind them.</font>
<img src="whys-poignant-guide-to-ruby_pic006D.png"/><font color="#222222"><b>6.
<h3>Downtown</h3></b></font>
<img src="whys-poignant-guide-to-ruby_pic006E.jpg"/><img src="whys-poignant-guide-to-ruby_pic006F.png"/><img src="whys-poignant-guide-to-ruby_pic0070.png"/><font color="#222222"><p>Oblivious to their involvement in the expansive plan of The Originals, both the tall fox and the much shorter fox had wandered
right into the red alert zone, the city Wixl. I desire a spatula to scoop them aside with, shuffle them off to the coast near the
beach hatcheries, hide them in piles of fish eggs, hold down their pointy ears, concealing their luxurious hides. And above
them I would stand, casting an unmoving shadow, holding my rifle aloof.</p>
<p>I can’t. I have you to teach. I have to groom and care for myself. The lightbulbs upstairs need changing. A free pack of halogen
lightbulbs just showed up out of the mail. Somebody out there is obviously trying to get me to use them. So I’m going to screw
‘em in. And just stand there, casting an unmoving shadow, holding my rifle aloof.</p>
Should that shadow be nice and defined, then I’ll keep ‘em.<br/>
<b>1. If I Were Looking For a Vehicle</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0071.png"/><font color="#222222"><p>I like seeing these two out in the wild. They got pretty bored here in the studio. They started making up wierd slogans and
stuff. They had some phrase they kept repeating, forming fixations upon. You can’t be exposed to all that contrived fox
nonsense.</p>
<p>Let’s just say: I am really trying my best to keep things collegiate. Having never attended college, I can’t well say if every
passage written chimes right with the stringent criteria which academia demands. I have university friends aplenty, some who
tour the globe in their pursuits, and I try to inflect my voice with just their blend of high culture.</p>
Sometimes I applaud myself for going beyond the work of my educated friends - only in quiet corridors, we never butt heads 
publicly - because <i>I have actually subscribed</i> to a school of thought while they are still in their books, turning and turning.
<p><b>I am a preeventualist.</b>
 I have dabbled in it long enough and am glad to come forth with it. Inevitably, some of you have
already started mining this book for Marxist symbology. I am sad to kill those interpretations, but I believe any nihilist
conclusions you’ve drawn will still hold up under scrutiny.<br/>
Anyway, I’ll drop the rhetoric. I only mention preeventualism because, aside from being a refreshing and easy alternative to
the post-modernism we’re born with, <i>this</i> meta-cult offers a free lost-and-found service for the residents of Wixl.</p></font>
<font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">open-uri</font><font color="#9A3265">'</font><br/>
<font color="#32659A">open</font><font color="#9A3265">( "</font><font color="#329A65">http://preeventualist.org/lost</font><font color="#9A3265">" ) <b>do</b> |</font><font color="#32659A">lost</font><font color="#9A3265">|</font>
<font color="#32659A">puts lost</font><font color="#9A3265">.</font><font color="#32659A">read</font><br/>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">I have no way of alerting the foxes to this service. And I’m sure it’s too soon for their truck to be listed. Still, the good
intentions are here.<br/>
If you’re connected to the Internet, the above Ruby should have downloaded the web page from the Internet and printed it to
the screen. In a message resembling this:</font><br/>
<font face="Courier, serif"><font color="#9A3265">THE PREEVENTUALIST'S LOSING AND FINDING REGISTRY
(a free service benefiting the ENLIGHTENED who have been LIGHTENED)
<p>--<br/>
updates are made daily, please check back!<br/>
--</p>this service is commissioned and
subsidized in part by The Ashley Raymond
Youth Study Clan<br/>
...<br/>
all seals and privileges have been filed<br/>
under the notable authorship of Perry W. L. Von Frowling,
Magistrate Polywaif of Dispossession.  Also, Seventh Straight Winner
of the esteemed Persistent Beggar's Community Cup.
...
<p>ABOUT THE REGISTRY<br/>
==================<br/>
Hello, if you are new, please stay with us.  A brief explanation of our service will 
follow.  First, a bit of important news from our beloved magistrate.  (The kids call
him Uncle Von Guffuncle. Tehe!)</p>
<p>IMPORTANT NEWS<br/>
==============<br/>
/ 15 April 2005 /<br/>
hi, big news.  we were on channel 8 in wixl and ordish.  cory saw it.  i was on and 
jerry mathers was on.  if you didn't see it, e-mail cory.  he tells it the best.  all 
i can say is those aren't MY hand motions!! (joke for people who watch channel 8.)  
thanks harry and whole channel 8 news team!!</p>
- perry
<p>/ 07 April 2005 /<br/>
we're all sifting through the carpet here at hq, but if you could all keep an eye out 
for caitlin's clipboard, she's too quiet of a gal to post it and i know that it's 
REALLY important to her.  she had a few really expensive panoramic radiographs of her 
husband's underbite clipped to a few irreplacable photos of her husband in a robocop 
costume back when the underbite was more prominent.  she says (to me), "they'll know
what i mean when they see them."  i don't know what that means.  :(</p>
<p>i've checked: * the front desk * the hall * the waiting area * the bathroom * the candy 
closet * the big tv area * the lunch counter * the disciples room * gaff's old room
(the one with the painting of the cherry tree) * the server room * staircase.  i'll 
update this as i find more rooms.</p>
- love, perry
<p>/ 25 Feb 2005 /<br/>
server went down at 3 o'clock.  i'm mad as you guys.  gaff is downstairs and he'll 
be down there until he gets it fixed. :O -- UPDATE: it's fixed, back in bizz!!</p>
- perry
<p>/ 23 Feb 2005 /<br/>
i know there's a lot of noise today.  stanley bros circus lost twelve llamas and a
trailer and a bunch of Masterlocks and five tents.  they're still finding lost stuff.
pls keep your heads, i need everyone's help.  these entertainers have _nothing_.  i 
mean it.  i gave a guy a purple sticker today (it's just something i like to do as a
kind gesture) and he practically slept on it and farmed the ingredients for pizza sauce
on it.  they are on rock bottom.</p>
<p>so please donate.  i know we don't have paypal or anything.  so if you want to donate,
just post that you found something (a children's bike, a month of perishable canned 
goods) and that it has the circus people's names written on it or something.</p>
- great, perry
<p>/ 15 Nov 2004 /<br/>
preeventualist's day sale.  if you lose something today, you get to pick one free 
item (of $40 value or less) from the house of somebody who found something.  we're 
having so much fun with this!!  this is EXACTLY how i got my rowing machine last year
and i LOVE IT!!</p>
- perry</font></font><br/>
<font color="#222222">I think the Youth Study Clan is doing a great job with this service. It’s a little hokey and threadbare, but if it can get animals to
stop using their instinctive means of declaring ownership, then hats off.<br/>
Still, a preeventualist youth group? How can that be? You’ve got to at least <i>flirted with real cynicism</i> before you can become
a preeventualist. And you definitely can’t attend school. So, I don’t know.<br/>
Going back to the list of instructions from the Preeventualist’s Losing and Finding Registry.</font>
<font face="Courier, serif"><font color="#9A3265"><p>USING THE L&amp;F SERVER<br/>
====================<br/>
The L&amp;F is a free service.  The acts of losing and finding are essential qualities in
building a preeventualist lifestyle.  We hope to accomodate your belief.</p>
We do not use HTML, in order to simplify our work here.  Our guys are already working
fifteen hour days.  (Thanks, Terk!!  Thanks, Horace!!)<br/>
You may search our service for your lost items.  Or you may add your lost (or found)
item to our registry.  This is done by typing the proper address into your browser.
<p>SEARCHING
=========<br/>
To search for lost items, use the following address:</p>
http://preeventualist.org/lost/search?q={search word}<br/>
You may replace {search word} with your search term.  For example, to search for "cup":<br/>
http://preeventualist.org/lost/search?q=cup<br/>
You will be given a list of cups which have been lost or found.<br/>
If you want to search for only lost cups or only found cups, use the `searchlost' and
`searchfound' pages:<br/>
http://preeventualist.org/lost/searchlost?q=cup</font></font><br/>
<font color="#222222">I’m not playing games. I know where the truck is. Really, I’m not teasing you. I’ll show you in just a sec. I’m just saying, look at
the foxes:</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0072.png"/><font color="#222222">They are helpless. And yet, here is this great tool. A possible key to getting out of this mess. I just want to poke around, see if
there are any clues here.</font><br/>
<font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">open-uri</font><font color="#9A3265">'</font><br/>
<font color="#545454"># Searching all found items containing the word `truck'.</font><br/>
<font color="#32659A">open</font><font color="#9A3265">( "</font><font color="#329A65">http://preeventualist.org/lost/searchfound?q=truck</font><font color="#9A3265">" ) <b>do</b> |</font><font color="#32659A">truck</font><font color="#9A3265">|</font><br/>
<font color="#32659A">puts truck</font><font color="#9A3265">.</font><font color="#32659A">read</font><br/>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">I’m not seeing anything about the tall fox’s truck in this list. That’s okay. The foxes are out of it anyway. We have some time.</font>
<p><font color="#222222">You’ve learned a very simple technique for retrieving a web page from the Internet. The code uses the </font>
<font face="Courier, serif"><font color="#653200"><b>OpenURI</b></font></font><font color="#222222"> library,
which was written by one of my favorite Rubyists, Akira Tanaka. He’s simplified reading from the Internet so that it’s identical
to reading a file from your computer.</font></p>
<font color="#222222">In a previous chapter, we stored your diabolical ideas in a text file. You read these files in Ruby using </font><font face="Courier, serif"><font color="#32659A">open</font></font><font color="#222222">.</font><br/>
<font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">open-uri</font><font color="#9A3265">'</font><br/>
<font color="#545454"># Opening an idea file from a folder on your computer.</font><br/>
<font color="#32659A">open</font><font color="#9A3265">( "</font><font color="#329A65">folder/idea-about-hiding-lettuce-in-the-church-chairs.txt</font><font color="#9A3265">" ) <b>do</b> |</font><font color="#32659A">idea</font><font color="#9A3265">|</font><br/>
<font color="#32659A">puts idea</font><font color="#9A3265">.</font><font color="#32659A">read</font>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">Files are <b>input-output objects</b>. You can read and write to a file. In Ruby, all IO (input-output) objects have </font><font face="Courier, serif"><font color="#32659A">read</font></font><font color="#222222"> and </font><br/>
<font face="Courier, serif"><font color="#32659A">write</font></font><font color="#222222"> methods. The </font><font face="Courier, serif"><font color="#32659A">open</font></font><font color="#222222"> method slides an IO object <b>down the chute</b> into a block for your use. IO is your ticket to<br/>
the outside world. It’s the rays of sunlight cast through the prison bars. (However, you can’t </font><font face="Courier, serif"><font color="#32659A">write</font></font><font color="#222222"> to a web page with </font><br/>
<font face="Courier, serif"><font color="#653200"><b>OpenURI</b></font></font><font color="#222222">. You’ll need to find a tool for copying to your web server. An FTP program, for instance.)<br/>
If someone wants to read your diabolical idea about hiding lettuce in the church chairs, assuming you’ve posted it as a web
page:</font><br/>
<font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">open-uri</font><font color="#9A3265">'</font><br/>
<font color="#545454"># Opening an idea file available on a web site.</font><br/>
<font color="#32659A">open</font><font color="#9A3265">( "</font><font color="#329A65">http://your.com/idea-about-hiding-lettuce-in-the-church-chairs.txt</font><font color="#9A3265">" ) <b>do</b> |</font><font color="#32659A">idea</font><font color="#9A3265">|</font>
<font color="#32659A">puts idea</font><font color="#9A3265">.</font><font color="#32659A">read</font><br/>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">The </font><font face="Courier, serif"><font color="#653200"><b>OpenURI</b></font></font><font color="#222222"> library also understands FTP addresses as well. This widens the possibilities for where you can store files.
On your system or elsewhere on the Internet.<br/>
<b>Reading Files Line by Line</b><br/>
When you’re using </font><font face="Courier, serif"><font color="#653200"><b>OpenURI</b></font></font><font color="#222222"> to get information from the web with the </font><font face="Courier, serif"><font color="#32659A">open</font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#32659A">read</font></font><font color="#222222"> methods, the page is given to<br/>
you as a </font><font face="Courier, serif"><font color="#653200"><b>String</b></font></font><font color="#222222">. You can also read the page one line at a time, if you’re searching for something. Or if the page is big and
you want to conserve your computer’s memory.</font><br/>
<font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">open-uri</font><font color="#9A3265">'</font><br/>
<font color="#32659A">open</font><font color="#9A3265">( "</font><font color="#329A65">http://preeventualist.org/lost/searchfound?q=truck</font><font color="#9A3265">" ) <b>do</b> |</font><font color="#32659A">truck</font><font color="#9A3265">|</font>
<font color="#32659A">truck</font><font color="#9A3265">.</font><font color="#32659A">each_line</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">line</font><font color="#9A3265">|</font><br/>
<font color="#32659A">puts line</font><font color="#9A3265"><b> if</b></font><font color="#32659A"> line</font><font color="#9A3265">['</font><font color="#329A65">pickup</font><font color="#9A3265">']<br/>
<b>end<br/>
end</b></font></font><br/>
<font color="#222222">The above code will retrieve the list of trucks found by preeventualists, then display only those lines that actually contain the
word ‘pickup’. That way we can trim out the descriptions and look for only the pertinent lines.<br/>
Above, the <b>index brackets</b> are used on a string, so the string is searched for whatever is inside the brackets. Since the
string </font><font face="Courier, serif"><font color="#9A3265">'</font><font color="#329A65">pickup</font><font color="#9A3265">'</font></font><font color="#222222"> is inside the brackets, the </font><font face="Courier, serif"><font color="#32659A">line</font></font><font color="#222222"> string is searched for the word “pickup”.</font>
<img src="whys-poignant-guide-to-ruby_pic0073.png"/><font color="#222222">When a web page is loaded with </font><font face="Courier, serif"><font color="#32659A">read</font></font><font color="#222222">, the entire page is loaded into memory. Usually this only takes up a few thousand<br/>
bytes. But if a page is big (several megabytes), you’ll probably want to use </font><font face="Courier, serif"><font color="#32659A">each_line</font></font><font color="#222222">, which loads one line at a time to 
avoid exhausting memory.<br/>
<b>Yielding is Kiddie Blocks</b><br/>
Ruby often uses iterators in this fashion. Yes, iterators are used for cycling through each item in a collection of items, such as
an array or hash. Now look at an IO source as a collection of lines. The iterator can crawl that collection of lines.</font>
<font face="Courier, serif"><p><b><font color="#9A3265">class </font>
<font color="#653200">IO</font></b><br/>
<font color="#545454"># Definition for the each_line method.  Notice how it has no<br/>
# argument list.  Blocks don't need to be listed as arguments.</font><br/>
<font color="#9A3265"><b>def </b>each_line</font></p>
<p><font color="#9A3265"><b>until</b></font>
<font color="#32659A"> eof?</font>
<font color="#545454"># until we reach the end of the file...</font><br/>
<font color="#9A3265"><b>yield</b></font><font color="#32659A"> readline</font><font color="#545454"> # pass a line into the block</font><br/>
<font color="#9A3265"><b>end<br/>
end<br/>
end</b></font></p></font>
<font color="#222222">The </font><font face="Courier, serif"><font color="#9A3265"><b>yield</b></font></font><font color="#222222"> keyword is the easiest way to use a block. One word. Just like a curtain has a pullstring or like a suitcase has a</font>
<p><font color="#222222">handle. Inside a method, you can press the blinking </font>
<font face="Courier, serif"><font color="#9A3265"><b>yield</b></font></font><font color="#222222"> button and it will run the block attached to that method.
Glowing a strong red color until the code inside the block is done. And then it goes back to blinking and you can press the
button again if you like.</font></p>
<font face="Courier, serif"><font color="#9A3265"><p><b>def </b>
yield_thrice<br/>
<b>yield<br/>
yield<br/>
yield</b></p>
<b>end</b></font></font><br/>
<font color="#222222">Punch the </font><font face="Courier, serif"><font color="#9A3265"><b>yield</b></font></font><font color="#222222"> button three times quick and the block gets to live its life three times.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#32659A">a</font><font color="#9A3265"> = ['</font><font color="#329A65">first, birth.</font><font color="#9A3265">', '</font><font color="#329A65">then, a life of flickering images.</font><font color="#9A3265">', '</font><font color="#329A65">and, finally, the end.</font><font color="#9A3265">']</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">yield_thrice</font><font color="#9A3265"> { </font><font color="#32659A">puts a</font><font color="#9A3265">.</font><font color="#32659A">shift</font><font color="#9A3265"> }</font><br/>
<font color="#545454"># prints out:<br/>
#   first, birth.<br/>
#   then, a life of flickering images.<br/>
#   and, finally, the end.</font></font></p>
<font color="#222222">The </font><font face="Courier, serif"><font color="#32659A">shift</font></font><font color="#222222"> method pulls the first item off an array. The barber </font><font face="Courier, serif"><font color="#32659A">shift</font></font><font color="#222222"> cuts the hair off and hands it over. Then, the
scalp. And just keeps going, whittling the poor guy down to nothing.<br/>
You’ve seen blocks attached to methods. Any Ruby method can have block attached to the end.</font>
<font face="Courier, serif"><p><font color="#545454"># The brief style of attaching a block to a method.
# Here the block is surrounded with curly braces.</font>
<font color="#32659A">open</font><font color="#9A3265">( "</font><font color="#329A65">idea.txt</font><font color="#9A3265">" ) { |</font><font color="#32659A">f</font><font color="#9A3265">| </font><font color="#32659A">f</font><font color="#9A3265">.</font><font color="#32659A">read</font><font color="#9A3265"> }</font></p>
<p><font color="#545454"># The verbose style of attaching a block to a method.
# Here the block is surrounded with `do' and `end'</font>
<font color="#32659A">open</font><font color="#9A3265">( "</font><font color="#329A65">idea.txt</font><font color="#9A3265">" ) <b>do</b> |</font><font color="#32659A">f</font><font color="#9A3265">|</font></p>
<font color="#32659A">f</font><font color="#9A3265">.</font><font color="#32659A">read</font><br/>
<font color="#9A3265"><b>end</b></font></font>
<p><font color="#222222">If you pass arguments to </font>
<font face="Courier, serif"><font color="#9A3265"><b>yield</b></font></font><font color="#222222">, those arguments will also be passed to the block. The block is riding in a little sidecar
attached to the method’s motorcycle. The method yells out a list arguments, screaming to the block over all the wind as they’re
racing through the desert. The block taps his helmet like, “I get it, my brain gets it.”</font></p>
<font face="Courier, serif"><p><font color="#545454"># The method opens two files and slides the resulting IO objects down the
# chute to an attached block.</font><br/>
<font color="#9A3265"><b>def </b>double_open </font><font color="#32659A">filename1</font><font color="#9A3265">, </font><font color="#32659A">filename2</font></p>
<font color="#32659A">open</font><font color="#9A3265">( </font><font color="#32659A">filename1</font><font color="#9A3265"> ) <b>do</b> |</font><font color="#32659A">f1</font><font color="#9A3265">|</font><br/>
<font color="#32659A">open</font><font color="#9A3265">( </font><font color="#32659A">filename2</font><font color="#9A3265"> ) <b>do</b> |</font><font color="#32659A">f2</font><font color="#9A3265">|<br/>
<b>yield</b></font><font color="#32659A"> f1</font><font color="#9A3265">, </font><font color="#32659A">f2</font><br/>
<font color="#9A3265"><b>end<br/>
end<br/>
end</b></font><br/>
<font color="#545454"># Prints the files out side-by-side.</font><br/>
<font color="#32659A">double_open</font><font color="#9A3265">( "</font><font color="#329A65">idea1.txt</font><font color="#9A3265">", "</font><font color="#329A65">idea2.txt</font><font color="#9A3265">" ) <b>do</b> |</font><font color="#32659A">f1</font><font color="#9A3265">, </font><font color="#32659A">f2</font><font color="#9A3265">|</font>
<font color="#32659A">puts f1</font><font color="#9A3265">.</font><font color="#32659A">readline</font><font color="#9A3265"> + "</font><font color="#329A65"> | </font><font color="#9A3265">" + </font><font color="#32659A">f2</font><font color="#9A3265">.</font><font color="#32659A">readline</font><br/>
<font color="#9A3265"><b>end</b></font></font>
<p><font color="#222222">You may also wonder what the </font>
<font face="Courier, serif"><font color="#9A3265"><b>yield</b></font></font><font color="#222222"> keyword has to do with street signs. And really, it’s a good question with, I believe, a
good answer. When you run a method, you are giving that method control of your program. Control to do its job and then
come back to with an answer.</font></p>
<font color="#222222">With </font><font face="Courier, serif"><font color="#9A3265"><b>yield</b></font></font><font color="#222222">, the method is stopping at the intersection, giving control back to you, to your block. The method is letting you<br/>
do your work before resuming its work. So while the </font><font face="Courier, serif"><font color="#32659A">each_line</font></font><font color="#222222"> method does the work of actually reading lines from a <br/>
file, the </font><b><font color="#222222">block attached to the </font><font face="Courier, serif"><font color="#32659A">each_line</font></font></b><font color="#222222"><b> method</b> is handed the line itself and gets a chance to hammer away at 
it in the sidecar.<br/>
<b>Preeventualism in a Gilded Box</b><br/>
You’ve learned so much about </font><font face="Courier, serif"><font color="#653200"><b>OpenURI</b></font></font><font color="#222222"> and using </font><font face="Courier, serif"><font color="#9A3265"><b>yield</b></font></font><font color="#222222"> to write your own iterators. You know your way around the 
lost-and-found service. Really, you can starting hunting through the Wixl junk drawer without me.<br/>
Let’s neatly <i>encapsulate</i> the entire service into a single class.</font><br/>
<font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">open-uri</font><font color="#9A3265">'<br/>
<b>module </b>PreEventualist<br/>
<b>def </b>self.open</font><font color="#32659A"> page</font><font color="#9A3265">, </font><font color="#32659A">query<br/>
qs</font><font color="#9A3265"> = </font><br/>
<font color="#32659A">query</font><font color="#9A3265">.</font><font color="#32659A">map</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">k</font><font color="#9A3265">, </font><font color="#32659A">v</font><font color="#9A3265">|</font><br/>
<font color="#653200"><b>URI</b></font><font color="#9A3265">.</font><font color="#32659A">escape</font><font color="#9A3265"> "</font><font color="#329A65">#{ k }=#{ v }</font><font color="#9A3265">" <br/>
<b>end</b>.</font><font color="#32659A">join</font><font color="#9A3265"> "</font><font color="#329A65">&amp;</font><font color="#9A3265">" </font>
<p><font color="#653200"><b>URI</b></font>
<font color="#9A3265">.</font><font color="#32659A">parse</font><font color="#9A3265">( "</font><font color="#329A65">http://preeventualist.org/lost/</font><font color="#9A3265">" + </font><font color="#32659A">page</font><font color="#9A3265"> + "</font><font color="#329A65">?</font><font color="#9A3265">" + </font><font color="#32659A">qs</font><font color="#9A3265"> ).</font><font color="#32659A">open</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">lost</font><font color="#9A3265">|</font>
<font color="#32659A">lost</font><font color="#9A3265">.</font><font color="#32659A">read</font><font color="#9A3265">.</font><font color="#32659A">split</font><font color="#9A3265">( "</font><font color="#329A65">--\n</font><font color="#9A3265">" )<br/>
<b>end<br/>
end<br/>
def </b>self.search </font><font color="#32659A">word<br/>
open</font><font color="#9A3265"> "</font><font color="#329A65">search</font><font color="#9A3265">", "</font><font color="#329A65">q</font><font color="#9A3265">" =&gt; </font><font color="#32659A">word</font><br/>
<font color="#9A3265"><b>end<br/>
def </b>self.searchlost </font><font color="#32659A">word<br/>
open</font><font color="#9A3265"> "</font><font color="#329A65">searchlost</font><font color="#9A3265">", "</font><font color="#329A65">q</font><font color="#9A3265">" =&gt;</font><font color="#32659A"> word</font><br/>
<font color="#9A3265"><b>end<br/>
def </b>self.searchfound </font><font color="#32659A">word<br/>
open</font><font color="#9A3265"> "</font><font color="#329A65">searchfound</font><font color="#9A3265">", "</font><font color="#329A65">q</font><font color="#9A3265">" =&gt; </font><font color="#32659A">word</font><br/>
<font color="#9A3265"><b>end<br/>
def </b>self.addfound</font><font color="#32659A"> your_name</font><font color="#9A3265">, </font><font color="#32659A">item_lost</font><font color="#9A3265">, </font><font color="#32659A">found_at</font><font color="#9A3265">, </font><font color="#32659A">description<br/>
open</font><font color="#9A3265"> "</font><font color="#329A65">addfound</font><font color="#9A3265">", "</font><font color="#329A65">name</font><font color="#9A3265">" =&gt; </font><font color="#32659A">your_name</font><font color="#9A3265">, "</font><font color="#329A65">item</font><font color="#9A3265">" =&gt; </font><font color="#32659A">item_lost</font><font color="#9A3265">, <br/>
"</font><font color="#329A65">at</font><font color="#9A3265">" =&gt;</font><font color="#32659A"> found_at</font><font color="#9A3265">, "</font><font color="#329A65">desc</font><font color="#9A3265">" =&gt; </font><font color="#32659A">description</font><br/>
<font color="#9A3265"><b>end<br/>
def </b>self.addlost </font><font color="#32659A">your_name</font><font color="#9A3265">, </font><font color="#32659A">item_found</font><font color="#9A3265">, </font><font color="#32659A">last_seen</font><font color="#9A3265">, </font><font color="#32659A">description<br/>
open</font><font color="#9A3265"> "</font><font color="#329A65">addlost</font><font color="#9A3265">", "</font><font color="#329A65">name</font><font color="#9A3265">" =&gt;</font><font color="#32659A"> your_name</font><font color="#9A3265">, "</font><font color="#329A65">item</font><font color="#9A3265">" =&gt;</font><font color="#32659A"> item_found</font><font color="#9A3265">,<br/>
"</font><font color="#329A65">seen</font><font color="#9A3265">" =&gt; </font><font color="#32659A">last_seen</font><font color="#9A3265">, "</font><font color="#329A65">desc</font><font color="#9A3265">" =&gt; </font><font color="#32659A">description</font><br/>
<font color="#9A3265"><b>end<br/>
end</b></font></p></font>
<font color="#222222">At some point with your code, you need to start shaping it into something neat. Save the above module in a file called</font><br/>
<font face="Courier, serif"><font color="#32659A">preeventualist</font><font color="#9A3265">.</font><font color="#32659A">rb</font></font><font color="#222222"><sub>.</sub><br/>
This module is a very simple library for using the Preeventualist’s service. This is exactly the way libraries are written. You
whip up a module or a class, store it in a file, and, if you’re happy with it and want the world to benefit, put it on the web.<br/>
These stragglers can you use your module just like I used </font><font face="Courier, serif"><font color="#653200"><b>OpenURI</b></font></font><font color="#222222"> earlier.</font>
<font face="Courier, serif"><p><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">preeventualist</font><font color="#9A3265">'</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">puts</font><font color="#653200"><b> PreEventualist</b></font><font color="#9A3265">.</font><font color="#32659A">search</font><font color="#9A3265">( '</font><font color="#329A65">truck</font><font color="#9A3265">' )</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">puts</font><font color="#653200"><b> PreEventualist</b></font><font color="#9A3265">.</font><font color="#32659A">addfound</font><font color="#9A3265">( '</font><font color="#329A65">Why</font><font color="#9A3265">', '</font><font color="#329A65">Ruby skills</font><font color="#9A3265">', '</font><font color="#329A65">Wixl park</font><font color="#9A3265">',</font></p>
<font color="#9A3265">"</font><font color="#329A65">I can give you Ruby skills!\nCome visit poignantguide.net!</font><font color="#9A3265">" )</font></font><br/>
<font color="#222222"><b>2. Meanwhile, The Porcupine Stops To Fill-Up</b></font>
<img src="whys-poignant-guide-to-ruby_pic0077.png"/><font color="#222222"><b>3. A Sponsored Dragon-Slaying</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0078.png"/><font color="#222222">“Look around,” said Fox Small. “Some of us don’t have time for quests. Some of us have major responsibilities, jobs, so on.
Livelihood, got it?”
<p>“
<i>Heyyyy</i>, my <b>JOB</b> was to kill the drgn!!” screamed the wee rabbit, blinking his eyes and bouncing frantically from tree to
tree to pond to pond. “His snout was a <b>HUGE</b> responsibility!! His smoky breath was <i>mine to reckon with!!</i> I spent fifty 
dollars on the cab <b>JUST</b> to get out there, which was another <i>huge huge</i><br/>
indictment, my whole <b>HERONESS</b> is <i>absoflutely unimpeachable</i>, my whole <br/>
<i>unapricotable</i>, just ask Lester.”<br/>
 ordeal. You have <i>nothing on me</i>, not a <i>single</i></p>
<b>APPROACH</b> is <i>abassoonly </i><br/>
“Who’s Lester?” said the Fox Small.</font><font color="#F0FAEE"><sup><b>sidebar!</b></sup></font>
<p><font color="#545454"><b>The Inadvertant Meteor</b></font>
<font color="#222222">“Lester’s my cab driver! He parked at the base of Dwemthy’s Array!!” The rabbit<br/>
ricocheted madly like a screensaver for a supercomputer. </font><i><font color="#222222">“Just ask Dwemthy!!”</font>
When I first began my inquiry into </i></p>
<p><i>preeventualism, I was relayed the </i>
<font color="#222222">“Well,” said the Fox Small. He turned back to look up at Fox Tall, who was sitting<br/>
straight and looking far into the distance. “Wait, they have a parking lot on Dwemthy’s<br/>
Array?”</font></p>
<p><i>following story. I was told that this was
all I needed to understand the 
philosophy.</i></p>
<p><font color="#222222"><b>“YEP!!</b>
 And a pretzel stand!!”</font>
There was this sculptor who just wasn’t
satisfied with his work. He had primarily<br/>
<font color="#222222">“But, it’s <i>an Array</i>? Do they sell churros?”</font>
studied traditional subject matter and
excelled at sculpting both the human figure<br/>
<font color="#222222"><b>“CHOCOLAVA!!”</b> bleeted the rabbit.</font><sup>and elaborate vegetation. And he was really</sup>
quite an exquisite sculptor. He just didn’t<br/>
<font color="#222222">“What about those glow-in-the-dark ropes that you can put in your hair? Or you can<br/>
just hold them by your side or up in the air—”</font></p>
feel like he was making his mark upon the
world.<br/>
<img src="whys-poignant-guide-to-ruby_pic0075.png"/><img src="whys-poignant-guide-to-ruby_pic0076.png"/><font color="#222222"><b>“BRAIDQUEST!!”</b><br/>
“You should get a cut of the salesman’s commission,” spoke Fox Small. “Folks came
out to see you kill the dragon, right?”</font>
<p>By this time, he had aged well into his fifties 
and wanted to vaunt into the realm of 
legendary masters. So he began to construct 
a massive sculpture of two pears with beads 
of dew clinging precariously to them.</p>
<font color="#222222"><b>“BUT!!</b> I don’t operate the tongs that actually extract the chocolava.”<br/>
“I’m just sayin. You <b>do</b> operate the killing mechanism. So you <i>have a stake</i> in the
ensalada.”
<p>“OH NO!! I left my favorite lettuce leaves in Dwemthy’s Array!!” squealed the rabbit,
twirling like a celebratory saber through the quaking oak. Distantly: “Or Lester’s trunk,
maybe?”</p></font>
<p>The sculpture was enormous and hovered
ominously above the sculptor’s hometown,
held aloof by a massive infrastructure of
struts and beams. In fact, the giant pears
were so significant that they truly wreaked
havoc on the Earth’s rotation, everso
slightly, what with a new asteroid-sized fruit
basket clinging to it.</p>
<font color="#222222">“You know—Gheesh, can you stay put??” said Fox Small.
<p>“My radio,” said Fox Tall, stirring to life for a moment, “in my pickup.” The glaze still
seeping from his eyes. His stare quivered and set back into his face, recalling another
time and place. A drive out to Maryland. Sounds of Lionel Richie coming in so clearly.
The wipers going a bit too fast. He pulls up to a house. His mother answers the door.
She is a heavily fluffed fox. Tears and makeup.</p></font>
<p>The government sent jets and warcrafts to 
destroy the statue. They unleashed a vicious
attack on the village, dismantling the statue, 
blowing it into thousands of pieces, chipping
away at it with missiles. Soon enough, the
statue was obliterated and all was back to 
normal.</p>
<font color="#222222">Slumping back down, “That porcupine is changing my presets.”
<p>The rabbit bounded up on to the armrest of the park bench and spoke closely. 
<b>“BUT!!</b>
Soon I will feast on drgn’s head and the juices of drgn’s tongue!!” The rabbit sat still
and held his paws kindly.</p></font>
<p>A huge chunk of the statue had taken orbit in
the heavens and often veered perilously 
close to the planet. When it did, it was
always met by an arsenal of advanced 
weaponry, which further damaged it and 
deflected its course skyward.</p>
<font color="#222222">“(Which I hope will taste like cinnamon bears,)” whispered the rabbit, intimately.<br/>
“I love cinammon,” said Fox Small. “I should go killing with you some time.”<br/>
“You should,” said the rabbit and the eyes shine-shined.<br/>
“Although, salivating over a tongue. You don’t salivate over it, do you?”
<p>“I DO!!” and the rabbit got so excited that Sticky Whip shot out of his eyes. (More on
Sticky Whip in a later sidebar. Don’t let me forget. See also: <i>The Purist’s
Compendium to Novelty Retinal Cremes</i> by Jory Patrick Sobgoblin, available 
wherever animal attachment clips are sold.)</p></font>
<p>Eventually, this inadvertant meteor was 
nothing more than the size of a very 
daunting man. And, when it at last hit the
ground, weathered and polished by its 
ninety year journey, it was hailed as an 
enigmatic masterpiece, a message from the 
great beyond. Here was a stunning likeness
of a male nude looking wistfully into the sky
with an intricate lacework of vines creeping 
around his waist and covering his<br/>
improprieties.</p>
<p><font color="#222222">“Okay, you’ve hooked me. I want to hear all about it,” Fox Small declared. “Please, talk
freely about the chimbly. Oh, and Dwemthy. Who is he? What makes him tick? Then
maybe, if I’m still around after that, you can tell me about what makes rabbits tick, and
maybe you can hold our hands through this whole missing truck ordeal. I need
consolation more than anything else. I could probably use religion right now. I could
use your personal bravery and this sense of accomplishment you exude. Do you smoke
a pipe? Could be a handy tool to coax along the pontification we must engage in.”</font></p>
<p>The statue was last sold for fifty-two million 
dollars and stayed in the permanent exhibit 
at the Louvre, with the plaque:</p>
<font size="-2"><font color="#656565"><i>“Heavenly Nude” by Anonymous</i></font></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0079.png"/><font color="#F0FAEE"><b>sidebar!</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0076.png"/><font color="#222222"><p>And the rabbit began expounding upon Dwemthy and the legend of Dwemthy and the ways of Dwemthy. As with most stories
of Dwemthy, the rabbit’s tales were mostly embellishments. Smotchkkiss, there are delicacies which I alone must address.
Please, never ask who Dwemthy is. Obviously he is a mastermind and would never disclose his location or true identity. He
has sired dynasties. He has set living ogres aflame. Horses everywhere smell him at all times. Most of all, he knows carnal
pleasures. And to think that this…</p>
This is his Array.<br/>
<b>Dwemthy’s Array</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic007A.png"/><font color="#222222">You stand at the entrance of Dwemthy’s Array. You are a rabbit who is about to die. And deep at the end of the Array:</font>
<font face="Courier, serif"><p><b><font color="#9A3265">class </font>
<font color="#653200">Dragon</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Creature</b></font><br/>
<font color="#32659A">life</font><font color="#329A65"> 1340</font>
<font color="#545454"># tough scales</font><br/>
<font color="#32659A">strength</font><font color="#329A65"> 451</font><font color="#545454"> # bristling veins</font><br/>
<font color="#32659A">charisma</font><font color="#329A65"> 1020</font><font color="#545454"> # toothy smile</font><br/>
<font color="#32659A">weapon</font><font color="#329A65"> 939</font>
<font color="#545454"># fire breath</font></p>
<font color="#9A3265"><b>end</b></font></font>
<p><font color="#222222">A scalding 
<i>SEETHING LAVA</i> infiltrates the <b>cacauphonous ENGORGED MINESHAFTS</b> deep within the ageless 
canopy of the <i>DWEMTHY FOREST</i>... chalky and nocturnal screams from <b>the belly of the RAVENOUS WILD 
STORKUPINE</b>... who eats <b>wet goslings</b><i> RIGHT AFTER</i> they’ve had a few graham crackers and a midday nap… amidst
starved hippos <i>TECHNICALLY ORPHANED</i> but truthfully sheltered by umbrellas owned jointly by car dealership
conglomerates… beneath <i>uncapped vials</i> of mildly pulpy <b>BLUE ELIXIR</b>... <i>which shall remain… heretofore…
<b>UNDISTURBED… DWEMTHY!!!</b></i></font></p>
<img src="whys-poignant-guide-to-ruby_pic007B.png"/><font color="#222222"><i>If you don’t understand Dwemthy’s Array, it is Dwemthy’s fault. He designed the game to complicate our lives
and were it simpler, it would not be the awe-inspiring quest we’ve come to cherish in our arms this very hour.</i>
<p>Dwemthy’s Array has a winding history of great depth. It is not enough to simply say, “Dwemthy’s Array,” over and over and
expect to build credentials from that act alone. Come with me, I can take you back a couple years, back to the sixties where it
all started with metaprogramming and the dolphins.</p>
<p>You might be inclined to think that 
<b>metaprogramming</b> is another hacker word and was first overheard in private phone 
calls between fax machines. Honest to God, I am here to tell you that it is stranger than that. Metaprogramming began with
<i>taking drugs in the company of dolphins</i>.</p>
<p>In the sixties, a prolific scientist named John C. Lilly began experimenting with his own senses, to uncover the workings of his 
body. I can relate to this. I do this frequently when I am standing in the middle of a road holding a pie or when I am hiding
inside a cathedral. I pause to examine my self. This has proven to be nigh impossible. I have filled three ruled pages with
algebraic notation, none of which has explained anything. The pie, incidentally, has been very easy to express mathematically.</p>
<p>But the scientist Lilly went about his experiments otherwise. He ingested LSD in the company of dolphins. Often in a dark, 
woeful isolation tank full of warm salt water. Pretty bleak. But it was science! (Lest you think him criminal: until 1966, LSD
was supplied by Sandoz Laboratories to any interested scientists, free of charge.)</p>
<p><b>Drugs, dolphins and deprivation.</b>
 Which led to Lilly’s foray into things meta. He wrote books on mental
programming, comparing humans and computers. You may choose to ingest any substance you want during this next quote most likely you’re reaching for the grain of salt - but I assure you that there’s no Grateful Dead show on the lawn and no ravers
in the basement.</p></font>
<font color="#443254"><p><i>When one learns to learn, one is making models, using symbols, analogizing, 
making metaphors, in short, inventing and using language, mathematics, art, 
politics, business, etc. At the critical brain (cortex) size, languages and its 
consequences appear. To avoid the necessity of repeating learning to learn, 
symbols, metaphors, models each time, I symbolize the underlying idea in these 
operations as metaprogramming.</i></p>
JOHN C. LILLY, <i>PROGRAMMING AND METAPROGRAMMING IN THE HUMAN
BIOCOMPUTER</i>, NEW YORK, 1972.</font><br/>
<font color="#222222">We learn. But first we learn to learn. We setup programming in our mind which is the pathway to further programming. (Lilly
is largely talking about programming the brain and the nervous system, which he collectively called the <i>biocomputer</i>.)
<p>Lilly’s metaprogramming was more about feeding yourself imagery, reinventing yourself, all that. This sort of thinking links
directly to folks out there who dabble in shamanism, wave their hands over tarot cards and wake up early for karate class. I
guess you could say metaprogramming is New Age, but it’s all settled down recently into a sleeping bag with plain old
nerdiness. (If you got here from a Google search for “C++ Metaprogramming”, stick around, but I only ask that you <i>burn</i>
those neural pathways that originally invoked the search. Many thanks.)</p>
Meta itself is spoken of no differently in your author’s present day.</font>
<font color="#443254"><p><i>All sensuous response to reality is an interpretation of it. Beetles and monkeys
clearly interpret their world, and act on the basis of what they see. Our physical
senses are themselves organs of interpretation. What distinguishes us from our
fellow animals is that we are able in turn to interpret these interpretations. In that
sense, all human language is meta-language. It is a second-order reflection on the
‘language’ of our bodies—of our sensory apparatus.</i></p>
TERRY EAGLETON, <i>AFTER THEORY</i>, LONDON, 2003, CH. 3.</font>
<font color="#222222"><p>To that end, you could say programming itself is a meta-language. 
<i>All code</i> speaks the language of action, of a plan which
hasn’t been played yet, but shortly will. Stage directions for the players inside your machine. I’ve waxed sentimental on this
before.</p>
<p>But now we’re advancing our study, venturing into metaprogramming, but don’t sweat it, 
<b>it’s still just the Ruby you’ve
seen already</b>, which is why Dwemthy feels no qualms thrusting it at you right away. Soon enough it will be as easy to spot
as addition or subtraction. At first it may seem intensely bright, like you’ve stumbled across your first firefly, which has flown
up in your face. Then, it becomes just <i>a little bobbing light</i> which makes living in Ohio so much nicer.</p>
<p>Metaprogramming is 
<i>writing code which writes code</i>. But not as M.C. Escher
would sketch it. <b>The program isn’t reaching back around and
overwriting itself, nor is the program jumping onto your screen
and wrenching the keyboard from your hands.</b> No, it’s much smaller than
that.</p></font>
<b><font color="#F0FAEE">sidebar!</font>
<font color="#545454">Bread Riddles</font></b>
<p>Question: Can one take five bites from a 
bread and make the shape of a bicycle?
Answer: Yes.</p>
<font color="#222222"><p>Let’s say it’s more like 
<b>a little orange pill</b> you won at the circus. When you suck on
it, the coating wears away and behind your teeth hatches a massive, floppy sponge
brontosaurus. He slides down your tongue and leaps free, frollicking over the pastures,
yelping, “Papa!” And from then on, whenever he freaks out and attacks a van, well,
that van is <i>sparkling clean</i> afterwards.</p>
<p>Now, let’s say 
<i>someone else</i> puts <b>their little orange pill</b> under the faucet. Not on
their tongue, <i>under the faucet</i>. And this triggers a different catalysm, which births a
set of wailing sponge sextuplets. <b>Umbilical cords and everything.</b> Still very
handy for cleaning the van. But an altogether different kind of chamois. And, one day,
these eight will stir Papa to tears when they perform the violin concerto of their lives.</p></font>
<p>Question: Can one rip a bread in half and 
still fit the bread in an envelope? Answer:
Yes.</p>
<p>Question: Can one man take a bread and 
throw it while another man sits without
bread? Answer: Yes.</p>
Question: Can four breads in a box be 
explained? Answer: Yes.
<p><font color="#222222">Metaprogramming is packing code into pill-form, such that a slender drop of water
could trigger it to expand. More importantly, you can control the pill’s reaction, so that
a brontosaurus is produced, scaly and lumbering. Or septulets, <b>CERTAINLY</b>. Or
seamstresses. Or cat brains. Or dragons.</font></p>
<p>Question: Can a clerical error in my 
company books be attributed to bread?
Answer: Yes.</p>
Question: Can dancers break through a 
scrim of bread? Answer: Yes.<br/>
<font face="Courier, serif"><b><font color="#9A3265">class </font><font color="#653200">Dragon</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Creature</b></font>
<p><font color="#32659A">life</font>
<font color="#329A65"> 1340</font>
<font color="#545454"># tough scales</font>
<font color="#32659A">strength</font><font color="#329A65"> 451</font><font color="#545454"> # bristling veins</font>
<font color="#32659A">charisma</font><font color="#329A65"> 1020</font><font color="#545454"> # toothy smile</font>
<font color="#32659A">weapon</font><font color="#329A65"> 939</font>
<font color="#545454"># fire breath</font></p>
<font color="#9A3265"><b>end</b></font></font>
<p><font color="#222222">This is not metaprogramming yet. Only the pill. The 
<i>product</i> of metaprogramming.
We are pausing, looking at the beast itself before descending beneath its flesh with a 
scalpel and microscope.</font></p>
<p>Question: Can those same dancers, when 
faced with an inexplicably different scrim of 
bread, fail to break through? Answer: Yes.</p>
<p>Question: Does bread understand my 
darkest fears and wildest dreams? Answer:
Yes.</p>
Question: Does bread desire me? Answer:
Yes.<br/>
<font color="#222222">The </font><font face="Courier, serif"><font color="#653200"><b>Dragon</b></font></font><font color="#222222"> is a class. You’ve seen that many times now. The </font><font face="Courier, serif"><font color="#653200"><b>Dragon</b></font></font><font color="#222222"> is a <br/>
descendant of the </font><font face="Courier, serif"><font color="#653200"><b>Creature</b></font></font><font color="#222222"> class.<br/>
Now, eyes up. Look at me. The </font><font face="Courier, serif"><font color="#653200"><b>Creature</b></font></font><font color="#222222"> class contains the metaprogramming</font><br/>
Question: Will bread be invisible to robots?
Answer: Yes.<br/>
<img src="whys-poignant-guide-to-ruby_pic007D.png"/>Question: Can one robot take eight bites on a
bread, without knowing it’s there, and make<br/>
<img src="whys-poignant-guide-to-ruby_pic0076.png"/><img src="whys-poignant-guide-to-ruby_pic007C.png"/><font color="#222222">code. You can write metaprogramming code which can be used <i>everywhere</i>, <br/>
<sub>throughout Ruby, in </sub></font><font face="Courier, serif"><font color="#653200"><b>Creature</b></font></font><font color="#222222"><sub> or </sub></font><font face="Courier, serif"><font color="#653200"><b>Dragon</b></font></font><font color="#222222"><sub>, in </sub></font><font face="Courier, serif"><font color="#653200"><b>String</b></font></font><font color="#222222"><sub> or in </sub></font><font face="Courier, serif"><font color="#653200"><b>Object</b></font></font><font color="#222222"><sub>, </sub><br/>
anywhere. Our example here, since this is the most common form of meta-code, 
focuses on metaprogramming inside your own classes only.</font><br/>
the shape of a smaller bread? Answer: Yes.<br/>
Question: Should my clerics be equipped 
with bread? Answer: Yes.<br/>
<font color="#222222">Each of the </font><font face="Courier, serif"><font color="#653200"><b>Dragon</b></font></font><font color="#222222">’s traits are simply <b>class methods</b>. You could also write this
as:</font><br/>
Question: In relation to bread, will robots 
each have their own elephants? Answer: Yes.
<font face="Courier, serif"><p><b><font color="#9A3265">class </font>
<font color="#653200">Dragon</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Creature</b></font><br/>
<font color="#32659A">life</font><font color="#9A3265">( </font><font color="#329A65">1340</font><font color="#9A3265"> )     </font><font color="#545454"># tough scales</font>
<font color="#32659A">strength</font><font color="#9A3265">( </font><font color="#329A65">451</font><font color="#9A3265"> ) </font><font color="#545454"> # bristling veins</font>
<font color="#32659A">charisma</font><font color="#9A3265">( </font><font color="#329A65">1020</font><font color="#9A3265"> ) </font><font color="#545454"># toothy smile</font>
<font color="#32659A">weapon</font><font color="#9A3265">( </font><font color="#329A65">939</font><font color="#9A3265"> )    </font><font color="#545454"># fire breath</font></p>
<font color="#9A3265"><b>end</b></font></font>
<p>Question: Can one rip a bread in half and
not let it ruin one’s game of dominoes?
Answer: Yes.</p>
Question: Will we always love bread?
Answer: Yes.<br/>
<font color="#222222">Removing the parens removes clutter, so let’s leave them out. Only use parens when
you are using several methods together and you want to be very clear.</font><br/>
Question: Will we have more bread? Answer:
Yes.<br/>
<font color="#222222"><b>Creature Code</b><br/>
Now, with a lateral slice across the diaphragm, we expose the innards of </font>
<font face="Courier, serif"><font color="#653200"><b>Creature</b></font></font><font color="#222222">. </font><b><font color="#222222">Save this code into a file called </font><font face="Courier, serif"><font color="#32659A">dwemthy</font><font color="#9A3265">.</font><font color="#32659A">rb</font></font><font color="#222222">.</font></b><br/>
<font face="Courier, serif"><font color="#545454"># The guts of life force within Dwemthy's Array</font>
<b><font color="#9A3265">class </font><font color="#653200">Creature</font></b><br/>
<font color="#545454"># Get a metaclass for this class</font><br/>
<font color="#9A3265"><b>def </b>self.metaclass;<b> class </b>&lt;&lt; </font><font color="#653200"><b>self</b></font><font color="#9A3265">; </font><font color="#653200"><b>self</b></font><font color="#9A3265">; <b>end</b>; <b>end</b></font><br/>
<font color="#545454"># Advanced metaprogramming code for nice, clean traits</font>
<font color="#9A3265"><b>def </b>self.traits( *</font><font color="#32659A">arr</font><font color="#9A3265"> )<br/>
<b>return</b> @traits<b> if</b></font><font color="#32659A"> arr</font><font color="#9A3265">.</font><font color="#32659A">empty?</font><br/>
<font color="#545454"># 1. Set up accessors for each variable</font>
<font color="#32659A">attr_accessor</font><font color="#9A3265"> *</font><font color="#32659A">arr</font><br/>
<font color="#545454"># 2. Add a new class method to for each trait.</font>
<font color="#32659A">arr</font><font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">a</font><font color="#9A3265">|</font><br/>
<font color="#32659A">metaclass</font><font color="#9A3265">.</font><font color="#32659A">instance_eval</font><font color="#9A3265"><b> do</b></font>
<p><font color="#32659A">define_method</font>
<font color="#9A3265">( </font><font color="#32659A">a</font><font color="#9A3265"> ) <b>do</b> |</font><font color="#32659A">val</font><font color="#9A3265">|<br/>
@traits ||= {}<br/>
@traits[</font><font color="#32659A">a</font><font color="#9A3265">] = </font><font color="#32659A">val</font></p>
<font color="#9A3265"><b>end<br/>
end<br/>
end</b></font>
<p><font color="#545454"># 3. For each monster, the `initialize' method
#    should use the default number for each trait.</font>
<font color="#32659A">class_eval</font><font color="#9A3265"><b> do</b></font></p>
<font color="#32659A">define_method</font><font color="#9A3265">( </font>:initialize<font color="#9A3265"> ) </font><b><font color="#9A3265">do</font><br/>
<font color="#653200">self</font></b><font color="#9A3265">.</font><font color="#32659A">class</font><font color="#9A3265">.</font><font color="#32659A">traits</font><font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">k</font><font color="#9A3265">,</font><font color="#32659A">v</font><font color="#9A3265">|</font></font><br/>
Question: Can four breads marry a robot’s
elephant? Answer: Yes.<br/>
<img src="whys-poignant-guide-to-ruby_pic007E.png"/><font color="#F0FAEE"><b>sidebar!</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0076.png"/><font face="Courier, serif"><font color="#32659A">instance_variable_set</font><font color="#9A3265">("</font><font color="#329A65">@#{k}</font><font color="#9A3265">", </font><font color="#32659A">v</font><font color="#9A3265">)
<b>end<br/>
end<br/>
end<br/>
end</b></font><br/>
<font color="#545454"># Creature attributes are read-only</font>
<font color="#32659A">traits</font> :life<font color="#9A3265">, </font>:strength<font color="#9A3265">, </font>:charisma<font color="#9A3265">, </font>:weapon
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">Focus on the closing lines of code, specifically the line where the </font><font face="Courier, serif"><font color="#32659A">traits</font></font><font color="#222222"> are being set up. All of the code before that line<br/>
sets up the </font><font face="Courier, serif"><font color="#32659A">traits</font></font><font color="#222222"> class method. This bears resemblance to the basic lottery tickets from the chapter previous.</font>
<p><font face="Courier, serif"><b><font color="#9A3265">class </font>
<font color="#653200">LotteryTicket</font></b><br/>
<font color="#32659A">attr_reader</font> :picks<font color="#9A3265">, </font>:purchased<br/>
<font color="#9A3265"><b>end</b></font></font></p>
<font color="#222222">Both </font><font face="Courier, serif"><font color="#32659A">traits</font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#32659A">attr_reader</font></font><font color="#222222"> are simply class methods. When </font><font face="Courier, serif"><font color="#32659A">attr_reader</font></font><font color="#222222"> is used in the </font><br/>
<font face="Courier, serif"><font color="#653200"><b>LotteryTicket</b></font></font><font color="#222222">, metaprogramming kicks in behind the scenes and starts blowing up balloons, creating <b>reader</b><br/>
methods for the instance variables </font><font face="Courier, serif"><font color="#9A3265">@picks</font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#9A3265">@purchased</font></font><font color="#222222"> above.<br/>
The code for the </font><font face="Courier, serif"><font color="#32659A">traits</font></font><font color="#222222"> method is the metaprogramming I’ve been alluding to. Comments in the code reveal the three
stages the method goes through when adding traits.<br/>
1.
The </font><b><font color="#222222">list of traits is passed on to </font><font face="Courier, serif"><font color="#32659A">attr_accessor</font></font></b><font color="#222222">, which builds <b>reader</b> and <b>writer</b> code for instance
variables. One for each trait.<br/>
2.
<b>Class methods are added</b> for each trait. (A </font><font face="Courier, serif"><font color="#32659A">life</font></font><font color="#222222"> class method is added for a </font><font face="Courier, serif">:life</font><font color="#222222"> trait.) These class methods are<br/>
used in the class definition just like you would use </font><font face="Courier, serif"><font color="#32659A">traits</font></font><font color="#222222"> or </font><font face="Courier, serif"><font color="#32659A">attr_accessor</font></font><font color="#222222">. This way, you can specify the trait,
along with the points given for a trait to a certain creature.<br/>
3.
<b>Add an initialize method</b> which sets up a new monster properly, grabbing the right points and <i>POWER UP! POWER 
UP!</i> the monster is alive!<br/>
The beauty of these three steps is that you’ve taught Ruby how to code monsters for you. So when Ruby gets to the</font><br/>
<font face="Courier, serif"><font color="#32659A">traits</font></font><font color="#222222">:</font>
<p><font face="Courier, serif"><b><font color="#9A3265">class </font>
<font color="#653200">Creature</font></b><br/>
<font color="#32659A">traits</font> :life<font color="#9A3265">, </font>:strength<font color="#9A3265">, </font>:charisma<font color="#9A3265">, </font>:weapon<br/>
<font color="#9A3265"><b>end</b></font></font></p>
<p><font color="#222222">Ruby fills in the code behind the scenes and transplants a spiny green heart and jumpstarts the body with a pullcord. Ruby will</font>
<font face="Courier, serif"><font color="#653200"><b>Creature</b></font></font><font color="#222222"> class and build out all the various methods, expanding the </font><font face="Courier, serif"><font color="#32659A">traits</font></font><font color="#222222">use the metaprogramming from the <br/>
list like this:</font></p>
<font face="Courier, serif"><b><font color="#9A3265">class </font><font color="#653200">Creature</font></b><br/>
<font color="#545454"># 1. set up reader and writer methods</font><br/>
<font color="#32659A">attr_accessor</font> :life<font color="#9A3265">, </font>:strength<font color="#9A3265">, </font>:charisma<font color="#9A3265">, </font>:weapon
<p><font color="#545454"># 2. add new class methods to use in creature</font>
<font color="#9A3265"><b>def </b>self.life(</font><font color="#32659A"> val</font><font color="#9A3265"> )<br/>
@traits ||= {}<br/>
@traits['</font><font color="#329A65">life</font><font color="#9A3265">'] = </font><font color="#32659A">val</font><br/>
<font color="#9A3265"><b>end</b></font></p>
<p><font color="#9A3265"><b>def </b>
self.strength( </font><font color="#32659A">val</font><font color="#9A3265"> )
@traits ||= {}<br/>
@traits['</font><font color="#329A65">strength</font><font color="#9A3265">'] = </font><font color="#32659A">val</font></p>
<font color="#9A3265"><b>end</b></font>
<p><font color="#9A3265"><b>def </b>
self.charisma( </font><font color="#32659A">val</font><font color="#9A3265"> )
@traits ||= {}<br/>
@traits['</font><font color="#329A65">charisma</font><font color="#9A3265">'] = </font><font color="#32659A">val</font></p>
<font color="#9A3265"><b>end</b></font>
<p><font color="#9A3265"><b>def </b>
self.weapon( </font><font color="#32659A">val</font><font color="#9A3265"> )
@traits ||= {}<br/>
@traits['</font><font color="#329A65">weapon</font><font color="#9A3265">'] =</font><font color="#32659A"> val</font></p>
<font color="#9A3265"><b>end</b></font>
<p><font color="#545454"># 3. initialize sets the default points for
#    each trait</font><br/>
<font color="#9A3265"><b>def </b>initialize</font></p>
<p><font color="#653200"><b>self</b></font>
<font color="#9A3265">.</font><font color="#32659A">class</font><font color="#9A3265">.</font><font color="#32659A">traits</font><font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">k</font><font color="#9A3265">,</font><font color="#32659A">v</font><font color="#9A3265">|</font><br/>
<font color="#32659A">instance_variable_set</font><font color="#9A3265">("</font><font color="#329A65">@#{k}</font><font color="#9A3265">", </font><font color="#32659A">v</font><font color="#9A3265">)<br/>
<b>end<br/>
end</b></font></p>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">Now, Ruby will gladly accept this six-line </font><font face="Courier, serif"><font color="#653200"><b>Dragon</b></font></font><font color="#222222"> code, short enough to look nice when printed on playing cards:</font>
<font face="Courier, serif"><p><b><font color="#9A3265">class </font>
<font color="#653200">Dragon</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Creature</b></font><br/>
<font color="#32659A">life</font><font color="#329A65"> 1340</font>
<font color="#545454"># tough scales</font>
<font color="#32659A">strength</font><font color="#329A65"> 451</font><font color="#545454"> # bristling veins</font>
<font color="#32659A">charisma</font><font color="#329A65"> 1020</font><font color="#545454"> # toothy smile</font>
<font color="#32659A">weapon</font><font color="#329A65"> 939</font>
<font color="#545454"># fire breath</font></p>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222"><b>Eval, the Littlest Metaprogrammer</b><br/>
While the metaprogramming code above is just plain Ruby, it can be difficult to follow still. I totally understand if you’ve come
to this point and your eyes are spinning in their sockets and your knees have locked up. The trickiest parts of the above are the
lines which call the methods </font><font face="Courier, serif"><font color="#32659A">instance_eval</font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#32659A">class_eval</font></font><font color="#222222">. Just rub some tiger balm on your joints while<br/>
I talk about </font><font face="Courier, serif"><font color="#32659A">eval</font></font><font color="#222222">.<br/>
We’ve been talking about <b>metaprogramming</b>. Writing code which writes code. The </font><font face="Courier, serif"><font color="#32659A">eval</font></font><font color="#222222"> method hangs out in this <br/>
alley. The vagrant </font><font face="Courier, serif"><font color="#32659A">eval</font></font><font color="#222222"> takes code you have stored up in a string and it executes that code.</font>
<p><font face="Courier, serif"><font color="#32659A">drgn</font>
<font color="#9A3265"> = </font><font color="#653200"><b>Dragon</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><br/>
<font color="#545454"># is identical to...</font><br/>
<font color="#32659A">drgn</font><font color="#9A3265"> = </font><font color="#32659A">eval</font><font color="#9A3265">( "</font><font color="#329A65">Dragon.new</font><font color="#9A3265">" )</font>
<font color="#545454"># or, alternatively...</font>
<font color="#32659A">eval</font><font color="#9A3265">( "</font><font color="#329A65">drgn = Dragon.new</font><font color="#9A3265">" )</font></font></p>
<font color="#222222">Here, let’s write a program which has a hole in it. Instead of writing a program which creates a new </font><font face="Courier, serif"><font color="#653200"><b>Dragon</b></font></font><font color="#222222">, let’s leave a<br/>
hole where the </font><font face="Courier, serif"><font color="#653200"><b>Dragon</b></font></font><font color="#222222"> would be.</font>
<p><font face="Courier, serif"><font color="#32659A">print</font>
<font color="#9A3265"> "</font><font color="#329A65">What monster class have you come to battle? </font><font color="#9A3265">" </font>
<font color="#32659A">monster_class</font><font color="#9A3265"> = </font><font color="#32659A">gets<br/>
eval</font><font color="#9A3265">( "</font><font color="#329A65">monster = </font><font color="#9A3265">" + </font><font color="#32659A">monster_class</font><font color="#9A3265"> + "</font><font color="#329A65">.new</font><font color="#9A3265">" )</font>
<font color="#32659A">p monster</font></font></p>
<font color="#222222">The program asks for a monster. If you type in </font><font face="Courier, serif"><font color="#653200"><b>Dragon</b></font></font><font color="#222222">, then the </font><font face="Courier, serif"><font color="#32659A">monster_class</font></font><font color="#222222"> variable will contain the string </font><br/>
<font face="Courier, serif"><font color="#9A3265">"</font><font color="#329A65">Dragon</font><font color="#9A3265">"</font></font><font color="#222222">. Inside the </font><font face="Courier, serif"><font color="#32659A">eval</font></font><font color="#222222">, a few strings get added together to make the string </font><font face="Courier, serif"><font color="#9A3265">"</font><font color="#329A65">monster = <br/>
Dragon.new</font><font color="#9A3265">"</font></font><font color="#222222">. And when the </font><font face="Courier, serif"><font color="#32659A">eval</font></font><font color="#222222"> executes this string, the </font><font face="Courier, serif"><font color="#32659A">monster</font></font><font color="#222222"> variable contains a </font><font face="Courier, serif"><font color="#653200"><b>Dragon</b></font></font><font color="#222222"> object.
Ready for battle.</font>
<p><font color="#222222">This is great! Now we can leave it up to the player to pick a monster! Of course, we’re trusting the player to supply a real
monster class. If they type in </font><font face="Courier, serif"><font color="#653200"><b>BotanicalWitch</b></font></font><font color="#222222"> and there is no </font><font face="Courier, serif"><font color="#653200"><b>BotanicalWitch</b></font></font><font color="#222222"> class, they’ll get an
exception tossed in their face.</font></p>
<font color="#222222">So, in short, </font><font face="Courier, serif"><font color="#32659A">eval</font></font><font color="#222222"> lets you make up code as you go. Which can be useful and which can be dangerous as well.<br/>
The </font><font face="Courier, serif"><font color="#32659A">instance_eval</font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#32659A">class_eval</font></font><font color="#222222"> method used in the metaprogramming for the </font><font face="Courier, serif"><font color="#653200"><b>Creature</b></font></font><font color="#222222"> class are <br/>
slightly different from the normal </font><font face="Courier, serif"><font color="#32659A">eval</font></font><font color="#222222">. These two special methods run code just like </font><font face="Courier, serif"><font color="#32659A">eval</font></font><font color="#222222"> does, but they duck into 
classes and objects and run the code there.</font>
<font face="Courier, serif"><p><font color="#545454"># The instance_eval method runs code as if it were run inside an
# object's instance method.</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">drgn</font><font color="#9A3265"> = </font><font color="#653200"><b>Dragon</b></font><font color="#9A3265">.</font><font color="#32659A">new<br/>
irb</font><font color="#9A3265">&gt; </font><font color="#32659A">drgn</font><font color="#9A3265">.</font><font color="#32659A">instance_eval</font><font color="#9A3265"><b> do</b></font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt;   @name = "</font><font color="#329A65">Tobias</font><font color="#9A3265">" </font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; <b>end</b></font></p>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">drgn</font><font color="#9A3265">.</font><font color="#32659A">instance_variable_get</font><font color="#9A3265">( "</font><font color="#329A65">@name</font><font color="#9A3265">" )
=&gt; "</font><font color="#329A65">Tobias</font><font color="#9A3265">" </font>
<p><font color="#545454"># The class_eval method runs code is if inside a class definition.</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>Dragon</b></font><font color="#9A3265">.</font><font color="#32659A">class_eval</font><font color="#9A3265"><b> do</b></font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt;   <b>def </b>name; @name; <b>end</b></font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; <b>end</b></font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">drgn</font><font color="#9A3265">.</font><font color="#32659A">name</font></p>
<font color="#9A3265">=&gt; "</font><font color="#329A65">Tobias</font><font color="#9A3265">"</font></font><br/>
<font color="#222222">As you can see above, the </font><font face="Courier, serif"><font color="#32659A">instance_eval</font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#32659A">class_eval</font></font><font color="#222222"> methods also can take a code block instead of a
string. Which is just how things are done in Dwemthy’s Array.<br/>
<b>Enough Belittling Instruction and Sly Juxtaposition—Where Is Dwemthy’s Array??</b><br/>
Tread carefully—here is </font><b><font color="#222222">the other half of DWEMTHY’S ARRAY!! Add these lines to </font><font face="Courier, serif"><font color="#32659A">dwemthy</font><font color="#9A3265">.</font><font color="#32659A">rb</font></font><font color="#222222">.</font></b><br/>
<font face="Courier, serif"><b><font color="#9A3265">class </font><font color="#653200">Creature</font></b>
<p><font color="#545454"># This method applies a hit taken during a fight.</font>
<font color="#9A3265"><b>def </b>hit( </font><font color="#32659A">damage</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">p_up</font><font color="#9A3265"> = </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#32659A">charisma</font><font color="#9A3265"> )<br/>
<b>if</b></font><font color="#32659A"> p_up</font><font color="#9A3265"> % </font><font color="#329A65">9</font><font color="#9A3265"> ==</font><font color="#329A65"> 7</font><br/>
<font color="#9A3265">@life += </font><font color="#32659A">p_up</font><font color="#9A3265"> / </font><font color="#329A65">4</font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">[#{ self.class } magick powers up #{ p_up }!]</font><font color="#9A3265">" <br/>
<b>end</b><br/>
@life -=</font><font color="#32659A"> damage<br/>
puts</font><font color="#9A3265"> "</font><font color="#329A65">[#{ self.class } has died.]</font><font color="#9A3265">" <b>if</b> @life &lt;= </font><font color="#329A65">0</font>
<font color="#9A3265"><b>end</b></font></p>
<font color="#545454"># This method takes one turn in a fight.</font><br/>
<font color="#9A3265"><b>def </b>fight( </font><font color="#32659A">enemy</font><font color="#9A3265">, </font><font color="#32659A">weapon</font><font color="#9A3265"> )<br/>
<b>if</b></font><font color="#32659A"> life</font><font color="#9A3265"> &lt;= </font><font color="#329A65">0</font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">[#{ self.class } is too dead to fight!]</font><font color="#9A3265">" 
<b>return<br/>
end</b></font>
<p><font color="#545454"># Attack the opponent</font><br/>
<font color="#32659A">your_hit</font><font color="#9A3265"> = </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#32659A">strength</font><font color="#9A3265"> + </font><font color="#32659A">weapon</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">[You hit with #{ your_hit } points of damage!]</font><font color="#9A3265">" </font>
<font color="#32659A">enemy</font><font color="#9A3265">.</font><font color="#32659A">hit</font><font color="#9A3265">( </font><font color="#32659A">your_hit</font><font color="#9A3265"> )</font></p>
<p><font color="#545454"># Retaliation</font><br/>
<font color="#32659A">p enemy</font><br/>
<font color="#9A3265"><b>if</b></font><font color="#32659A"> enemy</font><font color="#9A3265">.</font><font color="#32659A">life</font><font color="#9A3265"> &gt; </font><font color="#329A65">0</font></p>
<p><font color="#32659A">enemy_hit</font>
<font color="#9A3265"> = </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#32659A">enemy</font><font color="#9A3265">.</font><font color="#32659A">strength</font><font color="#9A3265"> + </font><font color="#32659A">enemy</font><font color="#9A3265">.</font><font color="#32659A">weapon</font><font color="#9A3265"> )</font>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">[Your enemy hit with #{ enemy_hit } points of damage!]</font><font color="#9A3265">" </font>
<font color="#653200"><b>self</b></font><font color="#9A3265">.</font><font color="#32659A">hit</font><font color="#9A3265">( </font><font color="#32659A">enemy_hit</font><font color="#9A3265"> )</font></p>
<font color="#9A3265"><b>end<br/>
end<br/>
end</b></font>
<p><b><font color="#9A3265">class </font>
<font color="#653200">DwemthysArray</font></b><font color="#9A3265"> &lt; </font><b><font color="#653200">Array</font><br/>
<font color="#9A3265">alias</font></b><font color="#32659A"> _inspect inspect</font><br/>
<font color="#9A3265"><b>def </b>inspect; "</font><font color="#329A65">#&lt;#{ self.class }#{ _inspect }&gt;</font><font color="#9A3265">"; <b>end
def </b>method_missing(</font><font color="#32659A"> meth</font><font color="#9A3265">, *</font><font color="#32659A">args</font><font color="#9A3265"> )</font></p>
<p><font color="#32659A">answer</font>
<font color="#9A3265"> = </font><font color="#32659A">first</font><font color="#9A3265">.</font><font color="#32659A">send</font><font color="#9A3265">( </font><font color="#32659A">meth</font><font color="#9A3265">, *</font><font color="#32659A">args</font><font color="#9A3265"> )<br/>
<b>if</b></font><font color="#32659A"> first</font><font color="#9A3265">.</font><font color="#32659A">life</font><font color="#9A3265"> &lt;= </font><font color="#329A65">0</font><br/>
<font color="#32659A">shift</font><br/>
<font color="#9A3265"><b>if</b></font><font color="#32659A"> empty?</font></p>
<p><font color="#32659A">puts</font>
<font color="#9A3265"> "</font><font color="#329A65">[Whoa.  You decimated Dwemthy's Array!]</font><font color="#9A3265">" 
<b>else</b></font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">[Get ready. #{ first.class } has emerged.]</font><font color="#9A3265">" 
<b>end<br/>
end</b></font><br/>
<font color="#32659A">answer</font><font color="#9A3265"> ||</font><font color="#329A65"> 0</font><br/>
<font color="#9A3265"><b>end<br/>
end</b></font></p></font>
<font color="#222222">This code adds two methods to </font><font face="Courier, serif"><font color="#653200"><b>Creature</b></font></font><font color="#222222">. The </font><font face="Courier, serif"><font color="#32659A">hit</font></font><font color="#222222"> method which reacts to a hit from another </font><font face="Courier, serif"><font color="#653200"><b>Creature</b></font></font><font color="#222222">. And<br/>
the </font><font face="Courier, serif"><font color="#32659A">fight</font></font><font color="#222222"> method which lets you place your own blows against that </font><font face="Courier, serif"><font color="#653200"><b>Creature</b></font></font><font color="#222222">.</font>
<p><font color="#222222">When your </font>
<font face="Courier, serif"><font color="#653200"><b>Creature</b></font></font><font color="#222222"> takes a hit, a bit of defense kicks in and your </font><font face="Courier, serif"><font color="#32659A">charisma</font></font><font color="#222222"> value is used to generate a power-up.
Don’t ask me to explain the secrets behind this phenomenon. A random number is picked, some simple math is done, and, if
you’re lucky, you get a couple life points. </font><font face="Courier, serif"><font color="#9A3265">@life += </font><font color="#32659A">p_up</font><font color="#9A3265"> / </font><font color="#329A65">4</font></font><font color="#222222">.</font></p>
<font color="#222222">Then, the enemy’s blow is landed. </font><font face="Courier, serif"><font color="#9A3265">@life -= </font><font color="#32659A">damage</font></font><font color="#222222">. That’s how the </font><font face="Courier, serif"><font color="#653200"><b>Creature</b></font><font color="#545454">#hit</font></font><font color="#222222"> method works.<br/>
The </font><font face="Courier, serif"><font color="#32659A">fight</font></font><font color="#222222"> method checks to see if your </font><font face="Courier, serif"><font color="#653200"><b>Creature</b></font></font><font color="#222222"> is alive. Next, a random hit is placed on your opponent. If your</font><br/>
<font face="Courier, serif"><font color="#653200"><b>Creature</b></font><font color="#545454">#fight</font></font><font color="#222222">opponent lives through the hit, it gets a chance to strike back. Those are the workings of the <br/>
method.<br/>
I’ll explain </font><font face="Courier, serif"><font color="#653200"><b>DwemthysArray</b></font></font><font color="#222222"> in a second. I really will. I’m having fun doing it. Let’s stick with hitting and fighting for
now.<br/>
<b>Introducing: You.</b><br/>
You may certainly tinker with derivations on this rabbit. But official Dwemthy Paradigms explicitly denote the code - and the 
altogether character - inscribed below. </font><b><font color="#222222">Save this as </font><font face="Courier, serif"><font color="#32659A">rabbit</font><font color="#9A3265">.</font><font color="#32659A">rb</font></font><font color="#222222">.</font></b><br/>
<font face="Courier, serif"><b><font color="#9A3265">class </font><font color="#653200">Rabbit</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Creature</b></font>
<font color="#32659A">traits</font> :bombs
<p><font color="#32659A">life</font>
<font color="#329A65"> 10</font><br/>
<font color="#32659A">strength</font><font color="#329A65"> 2</font>
<font color="#32659A">charisma</font><font color="#329A65"> 44</font>
<font color="#32659A">weapon</font><font color="#329A65"> 4</font><br/>
<font color="#32659A">bombs</font><font color="#329A65"> 3</font></p>
<font color="#545454"># little boomerang</font><br/>
<font color="#9A3265"><b>def </b>^( </font><font color="#32659A">enemy</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">fight</font><font color="#9A3265">( </font><font color="#32659A">enemy</font><font color="#9A3265">, </font><font color="#329A65">13</font><font color="#9A3265"> )</font>
<p><font color="#9A3265"><b>end</b></font><br/>
<font color="#545454"># the hero's sword is unlimited!!</font><br/>
<font color="#9A3265"><b>def </b>/( </font><font color="#32659A">enemy</font><font color="#9A3265"> )</font></p>
<font color="#32659A">fight</font><font color="#9A3265">( </font><font color="#32659A">enemy</font><font color="#9A3265">, </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#329A65">4</font><font color="#9A3265"> + ( ( </font><font color="#32659A">enemy</font><font color="#9A3265">.</font><font color="#32659A">life</font><font color="#9A3265"> % </font><font color="#329A65">10</font><font color="#9A3265"> ) ** </font><font color="#329A65">2</font><font color="#9A3265"> ) ) )</font>
<p><font color="#545454"># lettuce will build your strength and extra ruffage
# will fly in the face of your opponent!!</font><br/>
<font color="#9A3265"><b>def </b>%( </font><font color="#32659A">enemy</font><font color="#9A3265"> )</font></p>
<p><font color="#32659A">lettuce</font>
<font color="#9A3265"> = </font><font color="#32659A">rand</font><font color="#9A3265">( </font><font color="#32659A">charisma</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">[Healthy lettuce gives you #{ lettuce } life points!!]</font><font color="#9A3265">" 
@life +=</font><font color="#32659A"> lettuce<br/>
fight</font><font color="#9A3265">( </font><font color="#32659A">enemy</font><font color="#9A3265">, </font><font color="#329A65">0</font><font color="#9A3265"> )</font></p>
<p><font color="#9A3265"><b>end</b></font><br/>
<font color="#545454"># bombs, but you only have three!!</font><br/>
<font color="#9A3265"><b>def </b>*( </font><font color="#32659A">enemy</font><font color="#9A3265"> )</font></p>
<p><font color="#9A3265"><b>if</b>
 @bombs.</font><font color="#32659A">zero?<br/>
puts</font><font color="#9A3265"> "</font><font color="#329A65">[UHN!! You're out of bombs!!]</font><font color="#9A3265">" <br/>
<b>return</b></font></p>
<p><font color="#9A3265"><b>end</b><br/>
@bombs -=</font><font color="#329A65"> 1</font><br/>
<font color="#32659A">fight</font><font color="#9A3265">( </font><font color="#32659A">enemy</font><font color="#9A3265">, </font><font color="#329A65">86</font><font color="#9A3265"> )</font></p>
<font color="#9A3265"><b>end<br/>
end</b></font></font><br/>
<font color="#222222">You have four weapons. The boomerang. The hero’s sword. The lettuce. And the bombs.<br/>
To start off, open up </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222"> and load the libraries we’ve created above.</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">dwemthy</font><font color="#9A3265">'</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">rabbit</font><font color="#9A3265">'</font></font><br/>
<font color="#222222">Now, unroll yourself.</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">r</font><font color="#9A3265"> = </font><font color="#653200"><b>Rabbit</b></font><font color="#9A3265">.</font><font color="#32659A">new
irb</font><font color="#9A3265">&gt; </font><font color="#32659A">r</font><font color="#9A3265">.</font><font color="#32659A">life</font>
<p><font color="#9A3265">=&gt; </font>
<font color="#329A65">10</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">r</font><font color="#9A3265">.</font><font color="#32659A">strength</font><br/>
<font color="#9A3265">=&gt; </font><font color="#329A65">2</font></p></font>
<font color="#222222">Good, good.<br/>
<b>Rabbit Fights ScubaArgentine!</b><br/>
You cannot just go rushing into Dwemthy’s Array, unseatbelted and merely perfumed!! You must advance deliberately
through the demonic cotillion. Or south, through the thickets and labyrinth of coal.<br/>
For now, let’s lurk covertly through the milky residue alongside the aqueducts. And sneak up on the</font><br/>
<font face="Courier, serif"><font color="#653200"><b>ScubaArgentine</b></font></font><font color="#222222">.</font>
<p><font face="Courier, serif"><b><font color="#9A3265">class </font>
<font color="#653200">ScubaArgentine</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Creature</b></font>
<font color="#32659A">life</font><font color="#329A65"> 46</font><br/>
<font color="#32659A">strength</font><font color="#329A65"> 35</font><br/>
<font color="#32659A">charisma</font><font color="#329A65"> 91</font><br/>
<font color="#32659A">weapon</font><font color="#329A65"> 2</font></font></p>
<font color="#222222">To get the fight started, make sure you’ve created one of you and one of the </font><font face="Courier, serif"><font color="#653200"><b>ScubaArgentine</b></font></font><font color="#222222">.</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">r</font><font color="#9A3265"> = </font><font color="#653200"><b>Rabbit</b></font><font color="#9A3265">.</font><font color="#32659A">new<br/>
irb</font><font color="#9A3265">&gt; </font><font color="#32659A">s</font><font color="#9A3265"> = </font><font color="#653200"><b>ScubaArgentine</b></font><font color="#9A3265">.</font><font color="#32659A">new</font></font><br/>
<font color="#222222">Now use the little boomerang!</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#32659A">r</font><font color="#9A3265"> ^ </font><font color="#32659A">s</font><br/>
<font color="#9A3265">[</font><font color="#653200"><b>You</b></font><font color="#32659A"> hit with</font><font color="#329A65"> 2</font><font color="#32659A"> points of damage!</font><font color="#9A3265">]</font><br/>
<font color="#545454">#&lt;ScubaArgentine:0x808c864 @charisma=91, @strength=35, @life=44, @weapon=2&gt;</font>
<font color="#9A3265">[</font><font color="#653200"><b>Your</b></font><font color="#32659A"> enemy hit with</font><font color="#329A65"> 28</font><font color="#32659A"> points of damage!</font><font color="#9A3265">]
[</font><font color="#653200"><b>Rabbit</b></font><font color="#32659A"> has died</font><font color="#9A3265">.]</font></font></p>
<font color="#222222">For crying out loud!! Our sample rabbit died!!<br/>
Grim prospects. I can’t ask you to return to the rabbit kingdom, though. Just pretend
like you didn’t die and make a whole new rabbit.</font><br/>
<b><font color="#F0FAEE">sidebar!</font>
<font color="#545454">The Shoes Which Lies Are Made Of</font></b><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">r</font><font color="#9A3265"> = </font><font color="#653200"><b>Rabbit</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><br/>
<font color="#545454"># attacking with boomerang!</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">r</font><font color="#9A3265"> ^ </font><font color="#32659A">s</font><br/>
<font color="#545454"># the hero's sword slashes!</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">r</font><font color="#9A3265"> / </font><font color="#32659A">s</font></font>
<p><i>Earlier, I told you that “The Inadvertant
Meteor” was the only story you need to
know in order to understand<br/>
preeventualism. But, really, all you
need to understand about<br/>
preeventualism is that it is still in its
infancy and any of its most basic
concepts could change.</i></p>
<font face="Courier, serif"><font color="#545454"># eating lettuce gives you life!</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">r</font><font color="#9A3265"> % </font><font color="#32659A">s</font><br/>
<font color="#545454"># you have three bombs!</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">r</font><font color="#9A3265"> * </font><font color="#32659A">s</font></font>
<p><i>Which is why I’ve authored a competing
story which I believe uncovers an
entirely different and very relevant
intellectual scenario.</i></p>
<font color="#222222">Pretty neat looking, wouldn’t you say? The code in </font><font face="Courier, serif"><font color="#32659A">rabbit</font><font color="#9A3265">.</font><font color="#32659A">rb</font></font><font color="#222222"> alters a few math <br/>
symbols which work only with the </font><font face="Courier, serif"><font color="#653200"><b>Rabbit</b></font></font><font color="#222222">. Ruby allows you to change the
behavior of math operators. After all, <b>math operators are just methods!</b></font>
<p>There was a guy who had been around the
block. And he wasn’t very old, so he decided
to write a biography of his life.</p>
<font face="Courier, serif"><font color="#545454"># the boomerang is normally an XOR operator.</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#329A65">1</font><font color="#9A3265">.^( </font><font color="#329A65">1</font><font color="#9A3265"> )<br/>
=&gt; </font><font color="#329A65">0</font></font>
<p>Well, he started to lie in his biography. He
made up some stories. But mostly little
stories that were inconsequential. Filler. Like
he had a story about a painting he’d done of
a red background with elephant legs in front.</p>
<font face="Courier, serif"><font color="#545454"># the hero's sword normally divides numbers.</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#329A65">10</font><font color="#9A3265">./(</font><font color="#329A65"> 2</font><font color="#9A3265"> )<br/>
=&gt; </font><font color="#329A65">5</font><br/>
<font color="#545454"># the lettuce gives the remainder of a division.</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#329A65">10</font><font color="#9A3265">.%(</font><font color="#329A65"> 3 </font><font color="#9A3265">)<br/>
=&gt; </font><font color="#329A65">1</font><br/>
<font color="#545454"># the bomb is for multiplication.</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#329A65">10</font><font color="#9A3265">.*(</font><font color="#329A65"> 3</font><font color="#9A3265"> )<br/>
=&gt; </font><font color="#329A65">30</font></font>
<p>But he hadn’t ever painted anything of the
sort. He further embellished the story by
talking about a pricey auction he’d snuck
into. An auction in New York City where he’d
he overheard his painting go to sale for
twenty grand. But that wasn’t the point of
the story. The point was that he could fold
his body to fit under a lid on a banquet tray.
People would raise the lid and they wouldn’t
even notice him bracing himself inside. He
didn’t even mention the price his painting</p>
<img src="whys-poignant-guide-to-ruby_pic007F.png"/><img src="whys-poignant-guide-to-ruby_pic0076.png"/><font color="#222222"><p>Where it makes sense, you may choose to use math operators on some of your Classes.
Ruby uses these math operators on many of its own classes. Arrays, for example, have
a handful of math operators which you can see in the list of instance methods when </p>
you type: </font><font face="Courier, serif"><font color="#32659A">ri</font><font color="#653200"><b> Array</b></font></font><font color="#222222">.</font>
<font face="Courier, serif"><p><font color="#545454"># the plus operator combines two arrays into a single array</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; ["</font><font color="#329A65">D</font><font color="#9A3265">", "</font><font color="#329A65">W</font><font color="#9A3265">", "</font><font color="#329A65">E</font><font color="#9A3265">"] + ["</font><font color="#329A65">M</font><font color="#9A3265">", "</font><font color="#329A65">T</font><font color="#9A3265">", "</font><font color="#329A65">H</font><font color="#9A3265">", "</font><font color="#329A65">Y</font><font color="#9A3265">"]<br/>
=&gt; ["</font><font color="#329A65">D</font><font color="#9A3265">", "</font><font color="#329A65">W</font><font color="#9A3265">", "</font><font color="#329A65">E</font><font color="#9A3265">", "</font><font color="#329A65">M</font><font color="#9A3265">", "</font><font color="#329A65">T</font><font color="#9A3265">", "</font><font color="#329A65">H</font><font color="#9A3265">", "</font><font color="#329A65">Y</font><font color="#9A3265">"]</font></p>
<font color="#545454"># minus removes all items in the second array found in the first</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; ["</font><font color="#329A65">D</font><font color="#9A3265">", "</font><font color="#329A65">W</font><font color="#9A3265">", "</font><font color="#329A65">E</font><font color="#9A3265">", "</font><font color="#329A65">M</font><font color="#9A3265">", "</font><font color="#329A65">T</font><font color="#9A3265">", "</font><font color="#329A65">H</font><font color="#9A3265">", "</font><font color="#329A65">Y</font><font color="#9A3265">"] - ["</font><font color="#329A65">W</font><font color="#9A3265">", "</font><font color="#329A65">T</font><font color="#9A3265">"]
=&gt; ["</font><font color="#329A65">D</font><font color="#9A3265">", "</font><font color="#329A65">E</font><font color="#9A3265">", "</font><font color="#329A65">M</font><font color="#9A3265">", "</font><font color="#329A65">H</font><font color="#9A3265">", "</font><font color="#329A65">Y</font><font color="#9A3265">"]</font><br/>
<font color="#545454"># the multiplier repeats the elements of an array</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; ["</font><font color="#329A65">D</font><font color="#9A3265">", "</font><font color="#329A65">W</font><font color="#9A3265">"] * </font><font color="#329A65">3</font><br/>
<font color="#9A3265">=&gt; ["</font><font color="#329A65">D</font><font color="#9A3265">", "</font><font color="#329A65">W</font><font color="#9A3265">", "</font><font color="#329A65">D</font><font color="#9A3265">", "</font><font color="#329A65">W</font><font color="#9A3265">", "</font><font color="#329A65">D</font><font color="#9A3265">", "</font><font color="#329A65">W</font><font color="#9A3265">"]</font></font>
<p><font color="#222222">You may be wondering: what does this mean for math, though? What if I add the
number three to an array? What if I add a string and a number? <b>How is Ruby 
going to react?</b></font></p>
sold at.
<p>Anyway, he really started to like that story 
(and others like it), to the point where he 
started to ignore his friends and family, 
instead preferring to watch what his lie self 
did after the auction. In his head.</p>
<p>So, then, one day he was shopping and he
found a pair of shoes that had stripey laces.
And he grabbed the shoes and went to the
store counter, forcing them in the cashier’s
face, yelling, “Look! Look at these! Look!
These are the shoes my lie self would wear!”
And he bought the shoes and put them on
and the whole Earth cracked open and the
cash register popped open and swallowed
him up and he was suddenly elsewhere, in
his lie apartment, sitting down to paint
dolphin noses, three of them on a green
background.</p>
<p><font color="#222222">Please remember these operators are just methods. But, since these operators 
<i>aren’t
readable words</i>, it can be harder to tell what they do. Use </font><font face="Courier, serif"><font color="#32659A">ri</font></font><font color="#222222">. Often you’ll find that</font></p>
<font color="#222222">the operators are identical to other readable methods. You can then choose to use the
operator or the method. Whichever is clearer to you.</font>
<p>It was a lot of work, painting all those noses.
And he went broke for a while and had to 
stoop so low as to filming abominable 
snowman NASCAR.</p>
<img src="whys-poignant-guide-to-ruby_pic0080.png"/><font color="#F0FAEE"><b>sidebar!</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0076.png"/><font face="Courier, serif"><font color="#545454"># divide with an operator method ...</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#329A65">10</font><font color="#9A3265"> / </font><font color="#329A65">3</font><br/>
<font color="#9A3265">=&gt; </font><font color="#329A65">3</font><br/>
<font color="#545454"># ... or a readable method?</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#329A65">10</font><font color="#9A3265">.</font><font color="#32659A">div</font><font color="#329A65"> 3</font><br/>
<font color="#9A3265">=&gt; </font><font color="#329A65">3</font></font><br/>
<font color="#222222">And that’s how the Rabbit’s sword divides.<br/>
<b>The Harsh Realities of Dwemthy’s Array AWAIT YOU TO MASH YOU!!</b><br/>
Once you’re done playchoking the last guy with his oxygen tube, it’s time to enter The Array. I doubt you can do it. You left
your hatchet at home. And I hope you didn’t use all your bombs on the easy guy.<br/>
You have six foes.</font>
<font face="Courier, serif"><p><b><font color="#9A3265">class </font>
<font color="#653200">IndustrialRaverMonkey</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Creature</b></font>
<font color="#32659A">life</font><font color="#329A65"> 46</font><br/>
<font color="#32659A">strength</font><font color="#329A65"> 35</font><br/>
<font color="#32659A">charisma</font><font color="#329A65"> 91</font><br/>
<font color="#32659A">weapon</font><font color="#329A65"> 2</font></p>
<b><font color="#9A3265">end<br/>
class </font><font color="#653200">DwarvenAngel</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Creature</b></font>
<p><font color="#32659A">life</font>
<font color="#329A65"> 540</font><br/>
<font color="#32659A">strength</font><font color="#329A65"> 6</font>
<font color="#32659A">charisma</font><font color="#329A65"> 144</font>
<font color="#32659A">weapon</font><font color="#329A65"> 50</font></p>
<font color="#9A3265"><b>end</b></font>
<p><b><font color="#9A3265">class </font>
<font color="#653200">AssistantViceTentacleAndOmbudsman</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Creature</b></font>
<font color="#32659A">life</font><font color="#329A65"> 320</font><br/>
<font color="#32659A">strength</font><font color="#329A65"> 6</font><br/>
<font color="#32659A">charisma</font><font color="#329A65"> 144</font><br/>
<font color="#32659A">weapon</font><font color="#329A65"> 50</font></p>
<font color="#9A3265"><b>end</b></font>
<p><b><font color="#9A3265">class </font>
<font color="#653200">TeethDeer</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Creature</b></font>
<font color="#32659A">life</font><font color="#329A65"> 655</font><br/>
<font color="#32659A">strength</font><font color="#329A65"> 192</font><br/>
<font color="#32659A">charisma</font><font color="#329A65"> 19</font><br/>
<font color="#32659A">weapon</font><font color="#329A65"> 109</font></p>
<font color="#9A3265"><b>end</b></font>
<p><b><font color="#9A3265">class </font>
<font color="#653200">IntrepidDecomposedCyclist</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Creature</b></font>
<font color="#32659A">life</font><font color="#329A65"> 901</font><br/>
<font color="#32659A">strength</font><font color="#329A65"> 560</font><br/>
<font color="#32659A">charisma</font><font color="#329A65"> 422</font><br/>
<font color="#32659A">weapon</font><font color="#329A65"> 105</font></p>
<font color="#9A3265"><b>end</b></font>
<p><b><font color="#9A3265">class </font>
<font color="#653200">Dragon</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Creature</b></font><br/>
<font color="#32659A">life</font><font color="#329A65"> 1340</font>
<font color="#545454"># tough scales</font>
<font color="#32659A">strength</font><font color="#329A65"> 451</font><font color="#545454"> # bristling veins</font>
<font color="#32659A">charisma</font><font color="#329A65"> 1020</font><font color="#545454"> # toothy smile</font>
<font color="#32659A">weapon</font><font color="#329A65"> 939</font>
<font color="#545454"># fire breath</font></p>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">These are the living, breathing monstrosities of Dwemthy’s Array. I don’t know how they got there. No one knows. Actually,
I’m guessing the </font><font face="Courier, serif"><font color="#653200"><b>IntrepidDecomposedCyclist</b></font></font><font color="#222222"> rode his ten-speed. But the others: NO ONE knows.<br/>
If it’s really important for you to know, let’s just say the others were born there. Can we move on??<br/>
As Dwemthy’s Array gets deeper, the challenge becomes more difficult.</font>
<p><font face="Courier, serif"><font color="#32659A">dwary</font>
<font color="#9A3265"> = </font><font color="#653200"><b>DwemthysArray</b></font><font color="#9A3265">[</font><font color="#653200"><b>IndustrialRaverMonkey</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265">,</font><br/>
<font color="#653200"><b>DwarvenAngel</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265">,</font><br/>
<font color="#653200"><b>AssistantViceTentacleAndOmbudsman</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265">,</font>
<font color="#653200"><b>TeethDeer</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265">,</font><br/>
<font color="#653200"><b>IntrepidDecomposedCyclist</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265">,</font>
<font color="#653200"><b>Dragon</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265">]</font></font></p>
<font color="#222222">Fight the Array and the monsters will appear as you go. Godspeed and may you return with harrowing tales and nary an angel
talon piercing through your shoulder.<br/>
Start here:</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">r</font><font color="#9A3265"> % </font><font color="#32659A">dwary</font></font><br/>
<font color="#222222">Oh, and none of this “I’m too young to die” business. I’m sick of that crap. I’m not going to have you insulting our undead
young people. They are our future. After our future is over, that is.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0081.png"/><font color="#222222"><b>The Making of Dwemthy’s Array</b><br/>
Fast forward to a time when the winds have calmed. The dragon is vanquished. The unwashed masses bow. We love you. We
are loyal to you.<br/>
But what is this centipede nibbling in your eardrum? You dig with your finger, but you can’t get him out! Blasted! It’s that
infernal Dwemthy’s Array again. <b>Explain yourself Dwemthy!</b><br/>
Here, I shall unmask the Array itself for you.</font>
<font face="Courier, serif"><p><b><font color="#9A3265">class </font>
<font color="#653200">DwemthysArray</font></b><font color="#9A3265"> &lt; </font><b><font color="#653200">Array</font><br/>
<font color="#9A3265">alias</font></b><font color="#32659A"> _inspect inspect</font><br/>
<font color="#9A3265"><b>def </b>inspect; "</font><font color="#329A65">#&lt;#{ self.class }#{ inspect }&gt;</font><font color="#9A3265">";<b> end<br/>
def </b>method_missing(</font><font color="#32659A"> meth</font><font color="#9A3265">, *</font><font color="#32659A">args</font><font color="#9A3265"> )</font></p>
<p><font color="#32659A">answer</font>
<font color="#9A3265"> = </font><font color="#32659A">first</font><font color="#9A3265">.</font><font color="#32659A">send</font><font color="#9A3265">( </font><font color="#32659A">meth</font><font color="#9A3265">, *</font><font color="#32659A">args</font><font color="#9A3265"> )<br/>
<b>if</b></font><font color="#32659A"> first</font><font color="#9A3265">.</font><font color="#32659A">life</font><font color="#9A3265"> &lt;= </font><font color="#329A65">0</font><br/>
<font color="#32659A">shift</font><br/>
<font color="#9A3265"><b>if</b></font><font color="#32659A"> empty?<br/>
puts</font><font color="#9A3265"> "</font><font color="#329A65">[Whoa.  You decimated Dwemthy's Array!]</font><font color="#9A3265">" <br/>
<b>else</b></font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">[Get ready. #{ first.class } has emerged.]</font><font color="#9A3265">" <br/>
<b>end<br/>
end</b></font><br/>
<font color="#32659A">answer</font><font color="#9A3265"> ||</font><font color="#329A65"> 0</font><br/>
<font color="#9A3265"><b>end<br/>
end</b></font></p></font>
<font color="#222222">By now, you’re probably feeling very familiar with inheritance. The </font><font face="Courier, serif"><font color="#653200"><b>DwemthysArray</b></font></font><font color="#222222"> class inherits from </font><font face="Courier, serif"><font color="#653200"><b>Array</b></font></font>
<font color="#222222">and, thus, behaves just like one. For being such a mystery, it’s alarmingly brief, yeah?<br/>
So it’s an Array. Filled with monsters. But what does this extra code do?<br/>
<b>Inspect</b></font>
<p><font color="#222222">The </font>
<font face="Courier, serif"><font color="#32659A">inspect</font></font><font color="#222222"> method isn’t really a necessary part of Dwemthy’s Array. It’s something Dwemthy added as a courtesy to his
guests. (Many call him twisted, many call him austere, but we’d all be ignorant to go without admiring the footwork he puts in
for us.)</font></p>
<font color="#222222">Every object in Ruby has an </font><font face="Courier, serif"><font color="#32659A">inspect</font></font><font color="#222222"> method. It is defined in the </font><font face="Courier, serif"><font color="#653200"><b>Object</b></font></font><font color="#222222"> class, so it trickles down through the 
pedigree to every wee child object just born.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#32659A">o</font><font color="#9A3265"> = </font><font color="#653200"><b>Object</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><br/>
<font color="#9A3265">=&gt; </font><font color="#545454">#&lt;Object:0x81d60c0&gt;</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">o</font><font color="#9A3265">.</font><font color="#32659A">inspect</font><br/>
<font color="#9A3265">=&gt; "</font><font color="#329A65">#&lt;Object:0x81d60c0&gt;</font><font color="#9A3265">"</font></font></p>
<font color="#222222">Have you noticed this? Whenever we create an object in </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222">, this noisy </font><font face="Courier, serif"><font color="#545454">#&lt;Object&gt;</font></font><font color="#222222"> verbage stumbles out! It’s a little<br/>
name badge for the object. The </font><font face="Courier, serif"><font color="#32659A">inspect</font></font><font color="#222222"> method creates that name badge. The badge is just a string.</font>
<font face="Courier, serif"><p><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><b><font color="#9A3265">class </font><font color="#653200">Rabbit</font></b><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt;   </font><font color="#32659A">attr_accessor</font> :slogan<br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt;   <b>def </b>initialize </font><font color="#32659A">s</font><font color="#9A3265">; @slogan = </font><font color="#32659A">s</font><font color="#9A3265">; <b>end</b></font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt;   <b>def </b>inspect; "</font><font color="#329A65">#&lt;#{ self.class } says '#{ @slogan }'&gt;</font><font color="#9A3265">"; <b>end</b></font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; <b>end</b></font></p>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><b><font color="#9A3265">class </font><font color="#653200">FakeRabbit</font></b><font color="#9A3265"> &lt; </font><font color="#653200"><b>Rabbit</b></font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; <b>end</b></font>
<p><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#653200"><b>Rabbit</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265"> "</font><font color="#329A65">i blow'd the drgn's face off!!</font><font color="#9A3265">" 
=&gt; </font><font color="#545454">#&lt;Rabbit says 'i blow'd the drgn's face off!!'&gt;</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>FakeRabbit</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265"> "</font><font color="#329A65">Thusly and thusly and thusly...</font><font color="#9A3265">" 
=&gt; </font><font color="#545454">#&lt;FakeRabbit says 'Thusly and thusly and thusly...'&gt;</font></p></font>
<font color="#222222">The thing is: </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222"> is talking back. Every time you run some code in </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222">, the <i>return value</i> from that code is inspected.<br/>
How handy. It’s a little conversation between you and </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222">. And </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222"> is just reiterating what you’re saying so you can see it
for your self.<br/>
You could write your own Ruby prompt very easily:</font>
<font face="Courier, serif"><p><font color="#32659A">loop</font>
<font color="#9A3265"><b> do</b></font><br/>
<font color="#32659A">print</font><font color="#9A3265"> "</font><font color="#329A65">&gt;&gt; </font><font color="#9A3265">" </font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">=&gt; </font><font color="#9A3265">" + </font><font color="#32659A">eval</font><font color="#9A3265">( </font><font color="#32659A">gets</font><font color="#9A3265"> ).</font><font color="#32659A">inspect</font></p>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">This prompt won’t let you write Ruby code longer than a single line. It’s the essence of interactive Ruby, though. How do you
like that? Two of your recently learned concepts have come together in a most flavorful way. The </font><font face="Courier, serif"><font color="#32659A">eval</font></font><font color="#222222"> takes the typed code <br/>
and runs it. The response from </font><font face="Courier, serif"><font color="#32659A">eval</font></font><font color="#222222"> is then inspected.<br/>
Now, as you are fighting monsters in </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222">, Dwemthy’s Array will be inspected and replying with the monsters you have left
to fight.<br/>
<b>Method Missing</b><br/>
Don’t you hate it when you yell “Deirdre!” and like ten people answer? That <i>never</i> happens in Ruby. If you call the</font>
<font face="Courier, serif"><font color="#32659A">deirdre</font></font><font color="#222222"> method, only one </font><font face="Courier, serif"><font color="#32659A">deirdre</font></font><font color="#222222"> method answers. You can’t have two methods named the same. If you add a<br/>
second </font><font face="Courier, serif"><font color="#32659A">deirdre</font></font><font color="#222222"> method, the first one disappears.<br/>
You can, however, have a method which <b>answers to many names</b>.</font>
<font face="Courier, serif"><p><b><font color="#9A3265">class </font>
<font color="#653200">NameCaller</font></b><br/>
<font color="#9A3265"><b>def </b>method_missing(</font><font color="#32659A"> name</font><font color="#9A3265">, *</font><font color="#32659A">args</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">You're calling `</font><font color="#9A3265">" +</font><font color="#32659A"> name</font><font color="#9A3265"> + "</font><font color="#329A65">' and you say:</font><font color="#9A3265">" </font>
<font color="#32659A">args</font><font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"> { |</font><font color="#32659A">say</font><font color="#9A3265">| </font><font color="#32659A">puts</font><font color="#9A3265"> " " +</font><font color="#32659A"> say</font><font color="#9A3265"> }</font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">But no one is there yet.</font><font color="#9A3265">" </font></p>
<p><font color="#9A3265"><b>end<br/>
def </b>deirdre( *</font><font color="#32659A">args</font><font color="#9A3265"> )</font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">Deirdre is right here and you say:</font><font color="#9A3265">" </font><br/>
<font color="#32659A">args</font><font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"> { |</font><font color="#32659A">say</font><font color="#9A3265">| </font><font color="#32659A">puts</font><font color="#9A3265"> " " +</font><font color="#32659A"> say</font><font color="#9A3265"> }</font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">And she loves every second of it.</font><font color="#9A3265">" </font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">(I think she thinks you're poetic.)</font><font color="#9A3265">" 
<b>end</b></font></p></font>
<font color="#222222">When you call the method </font><font face="Courier, serif"><font color="#32659A">deirdre</font></font><font color="#222222"> above, I’m sure you know what will happen. Deirdre will love every second of it, you
and your dazzling poetry.<br/>
But what if you call </font><font face="Courier, serif"><font color="#32659A">simon</font></font><font color="#222222">?</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#653200"><b>NameCaller</b></font><font color="#9A3265">.</font><font color="#32659A">new</font><font color="#9A3265">.</font><font color="#32659A">simon</font><font color="#9A3265">( '</font><font color="#329A65">Hello?</font><font color="#9A3265">', '</font><font color="#329A65">Hello? Simon?</font><font color="#9A3265">' )</font>
<p><font color="#653200"><b>You</b></font>
<font color="#9A3265">'</font><font color="#329A65">re calling `simon</font><font color="#9A3265">' <b>and</b></font><font color="#32659A"> you say</font><font color="#9A3265">:</font><br/>
<font color="#653200"><b>Hello</b></font><font color="#9A3265">?</font><br/>
<font color="#653200"><b>Hello</b></font><font color="#9A3265">? </font><font color="#653200"><b>Simon</b></font><font color="#9A3265">?</font></p>
<font color="#653200"><b>But</b></font><font color="#32659A"> no one is there yet</font><font color="#9A3265">.</font></font><br/>
<font color="#222222">Yes, </font><font face="Courier, serif"><font color="#32659A">method_missing</font></font><font color="#222222"> is like an answering machine, which intercepts your method call. In Dwemthy’s Array we use
call forwarding, so that when you attack the Array, it passes that attack on straight to the first monster in the Array.</font>
<font face="Courier, serif"><p><font color="#9A3265"><b>def </b>
method_missing( </font><font color="#32659A">meth</font><font color="#9A3265">, *</font><font color="#32659A">args</font><font color="#9A3265"> )</font>
<font color="#32659A">answer</font><font color="#9A3265"> = </font><font color="#32659A">first</font><font color="#9A3265">.</font><font color="#32659A">send</font><font color="#9A3265">( </font><font color="#32659A">meth</font><font color="#9A3265">, *</font><font color="#32659A">args</font><font color="#9A3265"> )</font>
<font color="#545454"># ... snipped code here ...</font></p>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">See! See! That skinny little </font><font face="Courier, serif"><font color="#32659A">method_missing</font></font><font color="#222222"> passes the buck!<br/>
<b>4. So, Let's Be Clear: The Porcupine Is Now To The Sea</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0083.png"/><font color="#222222"><b>5. Walking, Walking, Walking, Walking and So Forth</b><br/>
The evening grew dark around the pair of foxes. They had wound their way through alleys packed with singing possums, and
streets where giraffes in rumpled sportscoats bumped past them with their briefcases. They kept walking.<br/>
And now the stores rolled shut their corrugated metal lids. Crickets crawled out from the gutters and nudged at the loose
change.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0084.png"/><font color="#222222">“Anyway, you must admit he’s a terrible President,” said Fox Small. <i>“Why</i> does President Marcos have a rabbit as Vice
President of the Foxes.”<br/>
“The Vice President? The rabbit with the <i>eyebrows</i>?”<br/>
“No, the rabbit with the <b>huge sausage lips</b>,” said Fox Small.<br/>
But their conversation was abruptly interupted by a freckly cat head which popped from the sky just above the sidewalk.
What is this about?!</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0086.png"/><font color="#222222">Oh, come on. This is rich. More meta.
<p>I’m not going to bother illustrating this discussion Blixy had with the foxes at this point! It’s all a 
<b>bunch of <i>conjecture</i></b>.
<i>HOW</i> can they presume to know the landscape of my family drama? I love my sister. For a long time, I <i>worshipped</i> her. 
(This is my sister Quil.)</p>
<p>I admit that there was a pretty painful day a few months ago and I kind of freaked out. I was laid out on the long patio chair by
the pool in my mom’s backyard. I had a Dr. Pepper and a bit of german chocolate cake. I was eating with a kid fork. Everything
else was in the dishwasher, that’s all they had. Three prongs.</p>
<p>My mom started talking about Quil. All about how much money she was blowing on pants and purses. A five-hundred dollar
purse. And then she said, “She’s losing it. She sounded totally high on the phone.” (She nailed it on the head, Quil was
smoking dope and loving it.)</p>
So I’d been noticing how observant my mom could be. That’s why, when she said, “I actually think she’s on cocaine,” I
<i>physically</i> stood up and chucked my soda across the yard.<br/>
It sailed off into the woods somewhere. We had been talking awhile, so it was dark when the can flew. I paced a bit. And then I
screamed at the top of my lungs.
<p>My uncle Mike was standing there with the glass door open, staring at me. He said something totally nervous like, “Oh, okay.
Well, I’ll—” And the tea in his glass was swishing back and forth, sloshing all over. He disappeared. He’s not very good at
saying things to people. He’s more of a whistler. And resonant.<br/>
So, to be completely honest, yes, I got a little mad. I got mad. You know. I dealt with it. Quil calls me regularly. For some
stupid reason, I rarely call her.</p>
Plus, she didn’t end up killing herself. So it’s just not an issue. Who knows if it was real. She just had a lot of vodka. And she’s
little. So it was just scary to see Quil guzzling it down like that. I mean forcing it down.<br/>
But why talk about it? It’ll just make her feel like I’m disappointed. Or like I’m a jerk.<br/>
Well, I got off track there a bit. Where was I? Blix is basically helping the foxes around, getting them on the trail of their truck.
Yeah, back to all that.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0088.png"/><font color="#222222">“We can’t squeeze on to this bus,” said the smallest fox.<br/>
“Guys, walk on up,” said Blix. “What’s the hold up? Oh, the frogs. Yeah, just squeeze through.” Blixy pushed from behind.<br/>
“Hey,” said the Tall Fox. “I’m crammed on this little step! Somebody move!”<br/>
“Did you get through—young fox??” said the cat.<br/>
“No,” said Fox Small, “can’t you see? The driver keeps shaking his head and it’s <i>really</i> making me nervous. I don’t think he
wants us on.”<br/>
“Go,” said Blix. He stepped down from his step and walked around the bus, peering through the plexiglass windows. “Well, I
don’t know, guys. I dunno. I guess it’s got a lot of frogs.” He pounded on the window. “Hey! Move over!”<br/>
And that’s the reality of riding intercity transit in Wixl. It’s terribly competitive. The morning bus is so crowded that most
white collar animals get frogs to hold their seat through the nighttime. For whatever reason, it works. It’s become this staple of
their workflow and their economy.
If you can muster up a bit of imagination, you can see a <b>percent sign</b> as a frog’s slanted face. Got the picture in your head?
Now let me show you frogs that camp out inside strings.</font><br/>
<font face="Courier, serif"><font color="#545454"># The %s format is for placing full strings.</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; "</font><font color="#329A65">Seats are taken by %s and %s.</font><font color="#9A3265">" % ['</font><font color="#329A65">a frog</font><font color="#9A3265">', '</font><font color="#329A65">a frog with teeth</font><font color="#9A3265">']
=&gt; "</font><font color="#329A65">Seats are taken by a frog and a frog with teeth.</font><font color="#9A3265">" </font>
<p><font color="#545454"># The %d format is for placing numbers, while the %f format is for
# floats (decimal numbers).</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">frogs</font><font color="#9A3265"> = [</font><font color="#329A65">44</font><font color="#9A3265">, </font><font color="#329A65">162.30</font><font color="#9A3265">]</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">stats</font><font color="#9A3265"> = "</font><font color="#329A65">Frogs have filled %d seats and paid %f blue crystals.</font><font color="#9A3265">" </font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">stats</font><font color="#9A3265"> % </font><font color="#32659A">frogs</font></p>
<font color="#9A3265">=&gt; "</font><font color="#329A65">Frogs have filled 44 seats and paid 162.30 blue crystals.</font><font color="#9A3265">" </font>
<p><font color="#545454"># Formatting is flexible with types, you can pass in strings
# and format them like numbers.</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">frogs</font><font color="#9A3265"> = ['</font><font color="#329A65">44</font><font color="#9A3265">', '</font><font color="#329A65">162.30</font><font color="#9A3265">']</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">stats</font><font color="#9A3265"> % </font><font color="#32659A">frogs</font></p>
<font color="#9A3265">=&gt; "</font><font color="#329A65">Frogs have filled 44 seats and paid 162.30 blue crystals.</font><font color="#9A3265">"</font></font>
<p><font color="#222222">What you are seeing above uses the </font>
<font face="Courier, serif"><font color="#9A3265">%</font></font><font color="#222222"> method in the </font><font face="Courier, serif"><font color="#653200"><b>String</b></font></font><font color="#222222"> class. This method takes <b>a string</b> and <b>an array</b> and
slurps them in together to create a new string. The items from the list are yanked out (in order) and placed in their saved seats.
It’s the open of the business day and the frogs have done their job.</font></p>
<font face="Courier, serif"><font color="#545454"># See, here's the String#% method called like other methods.</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; "</font><font color="#329A65">Please move over, %s.</font><font color="#9A3265">".%(</font><font color="#329A65"> 'toothless frog' </font><font color="#9A3265">)
=&gt; "</font><font color="#329A65">Please move over, toothless frog</font><font color="#9A3265">" </font>
<p><font color="#545454"># Now let's call it the prettier way, with the percent sign
# right between the string and the array.</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; "</font><font color="#329A65">Here is your 1098 statement for the year, %s.</font><font color="#9A3265">" % ['</font><font color="#329A65">teeth frog</font><font color="#9A3265">']</font></p>
<font color="#9A3265">=&gt; "</font><font color="#329A65">Here is your 1098 statement for the year, teeth frog.</font><font color="#9A3265">"</font></font><br/>
<font color="#222222">This is also available as the </font><font face="Courier, serif"><font color="#653200"><b>Kernel</b></font><font color="#9A3265">::</font><font color="#32659A">format</font></font><font color="#222222"> method or </font><font face="Courier, serif"><font color="#653200"><b>Kernel</b></font><font color="#9A3265">::</font><font color="#32659A">sprintf</font></font><font color="#222222"> method. (In the C language,<br/>
there is a </font><font face="Courier, serif"><font color="#32659A">sprintf</font></font><font color="#222222"> method which operates just like this.)</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">format</font><font color="#9A3265"> "</font><font color="#329A65">Frogs are piled %d deep and travel at %d mph.</font><font color="#9A3265">", [</font><font color="#329A65">5</font><font color="#9A3265">, </font><font color="#329A65">56</font><font color="#9A3265">]
=&gt; "</font><font color="#329A65">Frogs are piled 5 deep and travel at 56 mph.</font><font color="#9A3265">"</font></font><br/>
<font color="#222222">For the most part, you’ll only need </font><font face="Courier, serif"><font color="#9A3265">%s</font></font><font color="#222222"> (strings), </font><font face="Courier, serif"><font color="#9A3265">%d</font></font><font color="#222222"> (integer numbers) or </font><font face="Courier, serif"><font color="#9A3265">%f</font></font><font color="#222222"> (float numbers) format specifiers. The </font><font face="Courier, serif"><font color="#9A3265">%p</font></font><br/>
<font color="#222222">placeholder will run </font><font face="Courier, serif"><font color="#32659A">inspect</font></font><font color="#222222"> on an object.<br/>
Yeah, so, frog formatting is really handy for building strings that are assembled from different kinds of data. You can learn all
the various kinds of format specifiers by reading the </font><font face="Courier, serif"><font color="#32659A">ri sprintf</font></font><font color="#222222"> page. I’m just going to give you a few quick pointers.<br/>
Let’s say you have the array but you want the items to appear in <b>a different order</b> in the string. In such a situation, you
can identify specific items by placing a number (</font><font face="Courier, serif"><font color="#329A65">1</font><font color="#9A3265">$</font></font><font color="#222222"> for the first item, </font><font face="Courier, serif"><font color="#329A65">2</font><font color="#9A3265">$</font></font><font color="#222222"> for the second, and so on) right after the percent 
sign.</font>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; "</font><font color="#329A65">This bus has %1$d more stops before %2$d o'clock.  That's %1$d more stops.</font><font color="#9A3265">" % [</font><font color="#329A65">16</font><font color="#9A3265">, </font><font color="#329A65">8</font><font color="#9A3265">]
=&gt; "</font><font color="#329A65">This bus has 16 more stops before 8 o'clock.  That's 16 more stops.</font><font color="#9A3265">"</font></font>
<p><font color="#222222">The second tip I have for you is that you can allot a certain number of characters for each item, a width. And if an item is
smaller than the width, extra spaces will be used before the item. To pad it. If the width is a negative number, the item will be
forced to left and the padding will come after it.</font></p>
<font face="Courier, serif"><font color="#545454"># Give one item 30 characters of width</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; "</font><font color="#329A65">In the back of the bus: %30s.</font><font color="#9A3265">" % ['</font><font color="#329A65">frogs</font><font color="#9A3265">']<br/>
=&gt; "</font><font color="#329A65">In the back of the bus:                          frogs.</font><font color="#9A3265">" </font><br/>
<font color="#545454"># Give one left-justified item 30 characters of width</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; "</font><font color="#329A65">At the front of the bus: %-30s.</font><font color="#9A3265">" % ['</font><font color="#329A65">frogs</font><font color="#9A3265">']<br/>
=&gt; "</font><font color="#329A65">At the front of the bus: frogs                         .</font><font color="#9A3265">"</font></font><br/>
<font color="#222222">Fox Small kept looking up at the bus driver. Remember, he wouldn’t enter the bus!<br/>
“What’s the deal?” said Fox Tall. “Can’t you just get on and we’ll just stand in the aisle?”<br/>
“You really want to get on this bus? That driver has no hands,” said Fox Small, speaking close and hushed to Fox Tall, “and all
he has, instead of hands, are sucker cups.”<br/>
“So what? You don’t think animals with tentacles can drive?”</font><br/>
<font color="#F0FAEE"><b>sidebar!</b></font><br/>
<font color="#222222">“Well, not only is he going to flub up the steering wheel but he has all these legs all
over the foot pedals. This is not smart. Let’s get another bus. Come on.”</font><br/>
<font color="#545454"><b>More From The Chilling Ongoing 
Preview of The Scarf Eaters</b></font><br/>
<font color="#222222">“You know, he’s probably been driving like that all day. Is he really going to start
crashing at this point in his career?”</font><br/>
(<i>from Chapter XII: Thank Heaven for 
Little Men</i>.)<br/>
<font color="#222222">“Buses do crash,” said Fox Small. “Some do. This smells crashworthy.”<br/>
“Sheer doo-doo!” And Fox Tall yelled to the driver, “Hey, cabby, how long have you
been driving this bus for?”</font>
<p>“Close the door,” Spencer repeated, but
Lara’s hand trembled and she fumbled
sloppily at the latch. Her dad hadn’t taught
her to close doors like this one.</p>
<font color="#222222"><p>The bus driver peered over darkly under his cap and started to turn toward them, but 
his tentacles were stuck to the wheel. He jerked swiftly at his forelegs and, failing their
release, he turned to the wheel and focused his energies on milking his glands for some
slicker secretions. Bubbles of mucus oozed.</p>
“Let’s get outta here,” said Fox Tall and the two ran off into the street, slamming right
into the cat Blix.<br/>
“Alright, well, the bus is full,” said Blix. “I don’t know why the driver stopped if he
knew the bus was crammed with hoppers.”<br/>
“We’re thinking he was about to crash into us,” said Fox Tall, “and he opened the door
to make it look like a planned route stop.”<br/>
“Keep in mind, Blix, we hadn’t really discussed that possibility out loud, so I haven’t</font>
<p>“Yes, it’s an unusual door,” said Brent. He
walked over and closed the door for her.
Then, he held her hand and looked into her
eyes. His eyes lit up like huge matchsticks
that would be too huge to be practical. “It’s
an unusual handle, which ensures that those
who don’t eat scarves stay out.”</p>
<p>“Sit down, everyone,” Spencer demanded, as
he bounded across the room and took
command. “I command this organization,”
he stated. “The secret organization of The
Scarf Eaters!”</p>
<p>The torches encircling the room blazed like 
invincibly huge matches and the handful of 
teenagers sat. Except for Spencer who stood</p>
<img src="whys-poignant-guide-to-ruby_pic0089.png"/><img src="whys-poignant-guide-to-ruby_pic0076.png"/><font color="#222222">had a chance to formally agree,” said Fox Small. “Nevertheless, it sounds rational to
me.”</font>
<p>high and mighty, drawing all the oxygen in 
the entire room into his nostrils before 
speaking.</p>
<font color="#222222"><p>“I’m thinking all the buses are going to be full like this.” Blix bit his lip, thinking and
flicking his eyes about. “Let’s just-” He pointed down the circuitry of apartment
buildings that wound to the south. “But maybe-” He looked up and surveyed the stars,
scratching his head and counting the constellations with very small poking motions
from the tip of his finger.</p>
“Are you getting our bearings from the stars and planets?” asked Fox Small.
<p>Blix didn’t speak, he ducked off to the north through a poorly laid avenue back behind
the paint store. But before we follow them down that service road, Smotchkkiss, I have
one more frog for you, perched on a long lilypad that stretches out to hold anything at
all.</p></font>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">cat</font><font color="#9A3265"> = "</font><font color="#329A65">Blix</font><font color="#9A3265">" </font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">Does #{ cat } see what's up?  Is #{ cat } aware??</font><font color="#9A3265">" 
=&gt; "</font><font color="#329A65">Does Blix see what's up?  Is Blix aware??</font><font color="#9A3265">"</font></font><br/>
“One of us,” he said, dramatically and
invincibly, “is missing!”
<p>The entire room gasped, which also used
oxygen. The room was abuzz. “Who?”
“How?” “Who was it?” Nobody knew. Except
for Spencer, who lept across the room and
took charge.</p>
<p>“Our dear friend Steve Bridell has been
stolen from us,” announced Spencer in a
deafeningly loud voice, as if thousands of
giant matchsticks were struck against a
brittle surface in unison amidst a pile of
oxygen. “Steve Bridell. Do any of you know
Steve Bridell?”</p>
<font color="#222222">The little frogs from earlier (</font><font face="Courier, serif"><font color="#9A3265">%s</font></font><font color="#222222"> or </font><font face="Courier, serif"><font color="#9A3265">%d</font></font><font color="#222222">) were only placeholders for single strings.
Saving places in the string.</font><br/>
The hall was silent.
<p><font color="#222222">The lilypads above start with a flower bud, the 
<b>octothorpe</b>. You’ve also seen it as a
pound sign on telephones. After the flower bud, two leaves form the edges of the
lilypad. The leaves are <b>curly braces</b>, also seen many times before as the <i>crab 
pincers</i> for a code block.</font></p>
<p>Spencer continued. “Steve Bridell was an
incredible resource and you all knew him
and loved him. He carved this enormous
wooden man we use as our podium.”
Spencer pointed. “He also made the set of
wooden cymbals that are back in our
instrument closet right now.”</p>
<font color="#443254"><i>An empty lilypad </i></font><font face="Courier, serif"><font color="#9A3265">"</font><font color="#329A65">#{}</font><font color="#9A3265">"</font></font><font color="#443254"><i> becomes an empty string </i></font><font face="Courier, serif"><font color="#9A3265">""</font></font><font color="#443254"><i> .</i></font>
Some of the audience stood.
<font color="#222222">When the lilypad is found in a <b>double-quoted</b> string, Ruby runs any code found in 
between the two leaves of the lilypad. The lilypad is lifted out and the result of the code
is placed there in the string. This lilypad swap is called <i>string interpolation</i>.</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">fellows</font><font color="#9A3265"> = ['</font><font color="#329A65">Blix</font><font color="#9A3265">', '</font><font color="#329A65">Fox Tall</font><font color="#9A3265">', '</font><font color="#329A65">Fox Small</font><font color="#9A3265">']</font></font>
<p>“Wait,” instructed Spencer. “Don’t go back
there. I’ve already checked. The cymbals are
gone!”</p>
<img src="whys-poignant-guide-to-ruby_pic008A.png"/><font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">Let us follow #{ fellows.join ' and ' } on their journey.</font><font color="#9A3265">" </font></font><font color="#F0FAEE"><sup><b>sidebar!</b></sup></font>
<img src="whys-poignant-guide-to-ruby_pic0076.png"/><font face="Courier, serif"><font color="#9A3265">=&gt; "</font><font color="#329A65">Let us follow Blix and Fox Tall and Fox Small on their journey.</font><font color="#9A3265">"</font></font><br/>
<font color="#222222">The lilypad is very durable and can hold any kind of code inside. Above we are using </font><font face="Courier, serif"><font color="#653200"><b>Array</b></font><font color="#545454">#join</font></font><font color="#222222">, but you can do <br/>
anything you like inside. Call object methods, conditional </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> or </font><font face="Courier, serif"><font color="#9A3265"><b>case</b></font></font><font color="#222222"> statements, even define classes.</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">blix_went</font><font color="#9A3265"> = </font>:north<br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">Blix didn't speak, he ducked off to the #{ blix_went } through #{
if blix_went == :north</font>
<p><font color="#329A65">'a poorly laid avenue behind the paint store'<br/>
elsif blix_went == :south<br/>
'the circuitry of apartment buildings'<br/>
else<br/>
'... well, who knows where he went.'<br/>
end }.  But before we follow them...</font><font color="#9A3265">" <br/>
=&gt; "</font><font color="#329A65">Blix didn't speak, he ducked off to the north through a poorly laid avenue
behind the paint store.  But before we follow them...</font><font color="#9A3265">"</font></p></font>
<font color="#222222"><p>The foxes followed Blixy off behind the paint store and down the cracked, uneven asphalt. All of the stores on the dilapidated 
lane leaned at angles to each other. In some places, slabs of sidewalk jutted up from the ground, forming a perilous walkway, a
disorderly stack of ledges. Almost as if the city planners had hoped to pay tribute to the techtonic plates. One small drug store
had slid below the surface, nearly out of eyesight.</p>
<p>Truly, it was colorful, though. The paint store had been tossing out old paints directly onto its neighbors. The shops nearest
the paint store were clogged with hundreds of colors, along the windowsills and in the rain gutters. Yes, on the walls and
pavement.</p>
Basically, beginning with the back porch of the paint store, the avenue erupted into a giant incongruous and poorly-dyed 
market.
<p>Further down, a dentist’s office was primed with red paint and, over that, a fledgling artist had depicted a large baby who had
fallen through a chimney and arrived in a fireplace full of soot. Crude black strokes marked the cloud of ashes raised during
impact, easily mistaken for thick hair on the child’s arms and back. The child looked far too young to have much hair, but
there they were: rich, blonde curls which toppled liberally from the child’s head. Under the child’s legs was painted the word
<i>BREWSTER</i>.</p>
The same artist had hit the library next store and had hastily slapped together a mural of a green sports car being pulled from
the mud by a team of legless babies tugging with shiny chains. Again, the drastically blonde curls!<br/>
“I need answers,” said the Fox Tall, who had ground to a halt in front of the scenery.<br/>
“I’m starting to believe there’s no such thing,” said Fox Small. “Maybe these are the answers.”<br/>
“Brewster?” said Fox Tall. He walked nearer to the library and touched the cheek of one of the legless children who was closer
in perspective. The child’s cheek appeared to contain a myriad of jawbones.
<p>Blix was another two houses down, navigating through the askew brickwork, the paved gully that led to 
<i>R.K.’s Gorilla Mint</i>, 
as the metallic sticker on the door read. The building was plastered with miniature logos for the variety of payment options
and identification acceptable at <i>R.K.’s Gorilla Mint</i>. Even the bars over the window were lined with insurance disclosures
and security warnings and seals of government authorization, as well as addendums to all of these, carbon paper covering 
stickers covering torn posters and advertising. And all mingled with paint splashes that intruded wherever they pleased.</p></font>
<img src="whys-poignant-guide-to-ruby_pic008B.png"/><font color="#222222">“I like the way the fresh paper feels against my tongue,” said the gorilla at the counter. His fingers rubbed quietly against the
bills. He drew his face near to the fanned currency and whisked his nose along the pulpy cash.<br/>
“Is R.K. in this evening?” asked Blix.<br/>
“R.K. is not,” said the gorilla cashier. He turned to the three travellers and spread his money out on the counter’s surface,
evenly spacing them apart and lining up all the edges neatly. “Now, which one of these do you think is worth the most?”
<p>The foxes looked over the different bills and Fox Small muttered to himself, “Well, maybe—no, but I’ll bet—Wait, does one of
these have bananas on it? ‘Cause that one—nope, no fruit or rope swings or—Terrible, this is difficult!” And in a lower voice,
“So difficult to read. What does this one say? Symbols or something? If all these bills have are symbols, it’s going to be
impossible for us to figure out which one is of the greatest value.”</p>
“That’s why I said, ‘<i>Guess</i>.’” The gorilla tapped each bill in order. “See, you’ve got a 1 in 5 chance.”<br/>
“Unless the symbols mean something,” said Fox Tall. “Unless we can figure it out.”<br/>
“We can figure it out,” said Fox Small.<br/>
“No,” said the gorilla. “The symbols are meaningless.”<br/>
“Whoever created the money intended some meaning for them,” said Fox Small. “Why use <i>this</i> symbol?” He pointed to an
ampersand printed in dark ink.<br/>
“Yeah, we saw you sniffing the money and fantasizing about it back there,” said Fox Tall. “I’ll bet these symbols mean all kinds
of things to you!”<br/>
“No, I don’t think so,” said the gorilla.<br/>
If I can weigh in at this point, I think the symbols do have meaning. They may not be <i>loaded</i> with meaning, it may not be
oozing out through the cracks, but I’m sure there’s a sliver of meaning.</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; $:<br/>
=&gt; ["</font><font color="#329A65">/usr/lib/ruby/site_ruby/1.8</font><font color="#9A3265">", "</font><font color="#329A65">/usr/lib/ruby/site_ruby/1.8/i686-linux</font><font color="#9A3265">", "</font><font color="#329A65">/usr/lib/ruby/site_ruby</font><font color="#9A3265">"
"</font><font color="#329A65">/usr/lib/ruby/1.8</font><font color="#9A3265">", "</font><font color="#329A65">/usr/lib/ruby/1.8/i686-linux</font><font color="#9A3265">", "</font><font color="#329A65">.</font><font color="#9A3265">"]</font></font><br/>
<font color="#222222">Variables which start with the American cash sign are global variables. They can be seen from anywhere in the program,
<b>from inside any scope</b>. (Dr. Cham used this variable while snooping around The Originals’ computer bay.)<br/>
So why does the <b>cash sign followed by a colon</b> represent an array of </font><b><font color="#222222">all directories where Ruby will search 
when you try to load a file with </font><font face="Courier, serif"><font color="#32659A">require</font></font></b><font color="#222222">? The cash sign means “global.” But why the colon?<br/>
Historically, on many operating systems, a list of directories contains colons which separated each entry. I like to see the colon
as a pair of eyes, scanning the directories for files. We store our lookout list behind the eyes.<br/>
Here’s a few more special global variables:</font>
<font face="Courier, serif"><p><font color="#32659A">irb</font>
<font color="#9A3265">&gt; $"</font>
<font color="#545454"># The $" variable contains all files which have been loaded with `require'</font>
<font color="#9A3265">=&gt; ["</font><font color="#329A65">irb.rb</font><font color="#9A3265">", "</font><font color="#329A65">e2mmap.rb</font><font color="#9A3265">", "</font><font color="#329A65">irb/init.rb</font><font color="#9A3265">", ... "</font><font color="#329A65">rbconfig.rb</font><font color="#9A3265">"]</font><br/>
<font color="#545454"># These files are stored somewhere else, but their code is being used
# in this program.  Much like quoting someone else's work -- these are the
# footnotes -- hence the double-quote.</font></p>
<font color="#32659A">irb</font><font color="#9A3265">&gt; $0</font>
<font color="#545454"># The $0 variable contains the running program's filename.</font>
<font color="#9A3265">=&gt; "</font><font color="#329A65">irb</font><font color="#9A3265">"   </font><font color="#545454"># A zero can be considered the beginning of a number count.
# This variable answers the question, "Where did this program begin?" </font>
<p><font color="#32659A">irb</font>
<font color="#9A3265">&gt; $*</font>
<font color="#545454"># The $* variable contains all the arguments passed into a program.</font>
<font color="#9A3265">=&gt; ['</font><font color="#329A65">--prompt</font><font color="#9A3265">', '</font><font color="#329A65">simple</font><font color="#9A3265">']</font><br/>
<font color="#545454"># This one is easy to remember, if you remember that Ruby methods
# also use the asterisk to capture arguments into an array.</font></p>
<p><font color="#545454"># The $! contains the current exception raised.<br/>
# The exclamation indicates a state of alarm.  An exception!</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; <b>begin</b></font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt;   </font><b><font color="#9A3265">raise</font><font color="#653200"> TypeError</font></b><font color="#9A3265">, "</font><font color="#329A65">I don't believe this information.</font><font color="#9A3265">" </font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; <b>rescue</b></font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt;   </font><font color="#32659A">p</font><font color="#9A3265"> $!</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; <b>end</b></font></p>
<font color="#9A3265">=&gt; </font><font color="#545454">#&lt;TypeError: I don't believe this information.&gt;</font>
<p><font color="#545454"># The $@ contains the current backtrace, if an exception was raised.<br/>
# The backtrace shows were Ruby was _at_ when the exception fired.</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; <b>begin</b></font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt;   </font><b><font color="#9A3265">raise</font><font color="#653200"> TypeError</font></b><font color="#9A3265">, "</font><font color="#329A65">I don't believe this information.</font><font color="#9A3265">" </font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; <b>rescue</b></font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt;   </font><font color="#32659A">p</font><font color="#9A3265"> $@</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; <b>end</b></font></p>
<font color="#9A3265">=&gt; ["</font><font color="#329A65">(irb):25:in `irb_binding'</font><font color="#9A3265">", "</font><font color="#329A65">/usr/lib/ruby/1.8/irb/workspace.rb:52:in `irb_binding'</font><font color="#9A3265">", 
"</font><font color="#329A65">/usr/lib/ruby/1.8/irb/workspace.rb:52</font><font color="#9A3265">"]</font></font><br/>
<font color="#222222">“I don’t remember you.” Blix looked at the gorilla with great interest. “Are you one of R.K.’s kids or something?”
<p>“Oh, come on!” said Fox Small, holding up a bill with an exclamation mark on it up to the gorilla’s nose. “Don’t tell me this
means <i>nothing</i> to you! This one is probably <i>really important</i> since it has an exclamation on it. Maybe it pays for emergency
stuff! Hospital bills or something!”</p>
<b>“Yeah, surgery!”</b> said Fox Tall.<br/>
The gorilla looked at the foxes with disgust from under the brim of his cap. “No, you’re wrong. You can’t pay for surgeries with
that.”
<p>“But you see our point,” said the small fox. He grabbed some of the other bills. “And you say this bill 
<i>cannot</i> pay for surgeries?
Well that sounds like it has a specific <i>non-surgery-related</i> purpose. Now, the question mark one. Oh, what would that one
be for?”</p>
“Hey, give me those,” the gorilla snatched at the bills over the counter, but his long thumb kept getting in the way and every
time he thought he had grabbed bills, it turned out he had only grabbed his long thumb.<br/>
“Hey, hey, look, he’s mad,” said Fox Tall, happily clapping. “I wonder why. Did you notice how mad he started getting once we
mentioned all these interesting meanings? <b>We’re on to you! We figured out your game so fast!”</b><br/>
“We totally did!” said Fox Small, one of his elbows caught in the grip of the gorilla, the other arm waving a bill that featured an
underscore. “This one’s for buying floor supplies, maybe even big rolls of tile and linoleum.”<br/>
“See,” said Fox Tall, working to pry the gorilla’s fingers free, “we just have to figure out which is more expensive: surgery or
linoleum! This is <i>so easy!”</i>
<p><b>“NO IT’S NOT!”</b>
 yelled the gorilla, yanking at the smaller fox and battering the fox with his palms. <b>“YOU DON’T
KNOW ANYTHING ABOUT MONKEY MONEY!! YOU DON’T EVEN<i> HAVE</i> YOUR OWN KINDS OF 
MONEY!!”</b></p>
“We could <i>easily</i> have our own kinds of money!” said Fox Tall, taking the chimp’s hat and tossing it to the back of the room,
where it sailed behind a wall of safety deposit boxes. “And—<i>your hat is outta here!</i>“<br/>
“Come on, give him back his bills,” said Blix, waving his arms helplessly from the sidelines. “We could really use this guy’s
help.”<br/>
“Stop hitting me!” screamed the littlest fox. “I’ve almost figured out this one with the dots on it!!”
<p>Suddenly, with great precision and without warning, Fox Tall grabbed the monkey’s nose and slammed his face down against
the counter. The pens and inkpads on its surface rattled and “Bam!” said the fox. The gorilla’s eyes spun sleepily as his arms…
then his neck… then his head slithered to the floor behind the counter.</p>
Here are a few more global variables you might care to use:</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; $/</font>
<font color="#545454"># The $/ is the line separator, it is normally set to \n, which represents _Enter_</font>
<font color="#9A3265">=&gt; "</font><font color="#329A65">\n</font><font color="#9A3265">"    </font><font color="#545454"># or "end of line".  The slash represents a sword slashing lines in a file.</font>
<p><font color="#545454"># The line separator controls how methods like each_line or readlines breaks up strings.</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; "</font><font color="#329A65">Jeff,Jerry,Jill\nMichael,Mary,Myrtle</font><font color="#9A3265">".</font><font color="#32659A">each_line</font><font color="#9A3265"> { |</font><font color="#32659A">names</font><font color="#9A3265">| </font><font color="#32659A">p names</font><font color="#9A3265"> }
=&gt; "</font><font color="#329A65">Jeff,Jerry,Jill\n</font><font color="#9A3265">" <br/>
=&gt; "</font><font color="#329A65">Michael,Mary,Myrtle</font><font color="#9A3265">" </font></p>
<p><font color="#545454"># If you change the line separator, you change how many methods work, such as each_line.
# See what happens when I change the line separator to a comma.</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; $/ = '</font><font color="#329A65">,</font><font color="#9A3265">'</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; "</font><font color="#329A65">Jeff,Jerry,Jill\nMichael,Mary,Myrtle</font><font color="#9A3265">".</font><font color="#32659A">each_line</font><font color="#9A3265"> { |</font><font color="#32659A">names</font><font color="#9A3265">| </font><font color="#32659A">p names</font><font color="#9A3265"> }</font></p>
<p><font color="#9A3265">=&gt; "</font>
<font color="#329A65">Jeff,</font><font color="#9A3265">" <br/>
=&gt; "</font><font color="#329A65">Jerry,</font><font color="#9A3265">" <br/>
=&gt; "</font><font color="#329A65">Jill\nMichael,</font><font color="#9A3265">" <br/>
=&gt; "</font><font color="#329A65">Mary,</font><font color="#9A3265">" <br/>
=&gt; "</font><font color="#329A65">Myrtle</font><font color="#9A3265">" </font></p>
<font color="#32659A">irb</font><font color="#9A3265">&gt; $,</font>
<font color="#545454"># The $, variable is the join separator, used when joining strings with</font>
<font color="#9A3265">=&gt; </font><font color="#653200"><b>nil</b></font>
<font color="#545454"># Array#join or Kernel::print.  The comma is a common join character.<br/>
# The join separator is normally empty.</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; ['</font><font color="#329A65">candle</font><font color="#9A3265">', '</font><font color="#329A65">soup</font><font color="#9A3265">', '</font><font color="#329A65">mackarel</font><font color="#9A3265">'].</font><font color="#32659A">join</font>
<p><font color="#9A3265">=&gt; "</font>
<font color="#329A65">candlesoupmackarel</font><font color="#9A3265">" </font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; $, = '</font><font color="#329A65"> * </font><font color="#9A3265">'; ['</font><font color="#329A65">candle</font><font color="#9A3265">', '</font><font color="#329A65">soup</font><font color="#9A3265">', '</font><font color="#329A65">mackarel</font><font color="#9A3265">'].</font><font color="#32659A">join</font><br/>
<font color="#9A3265">=&gt; "</font><font color="#329A65">candle * soup * mackarel</font><font color="#9A3265">" </font></p>
<font color="#545454"># But, usually, you won't need the global variable.</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; ['</font><font color="#329A65">candle</font><font color="#9A3265">', '</font><font color="#329A65">soup</font><font color="#9A3265">', '</font><font color="#329A65">mackarel</font><font color="#9A3265">'].</font><font color="#32659A">join</font><font color="#9A3265"> '</font><font color="#329A65"> # </font><font color="#9A3265">'
=&gt; "</font><font color="#329A65">candle # soup # mackarel</font><font color="#9A3265">" </font>
<p><font color="#32659A">irb</font>
<font color="#9A3265">&gt; $;</font>
<font color="#545454"># The $; variable is the split separator, used when splitting strings</font>
<font color="#9A3265">=&gt; </font><font color="#653200"><b>nil</b></font>
<font color="#545454"># with String#split.<br/>
# The split separator is normally empty, which means String#split will separate
# the string where there is whitespace.</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; "</font><font color="#329A65">candle  soup\nmackarel</font><font color="#9A3265">".</font><font color="#32659A">split</font></p>
<p><font color="#9A3265">=&gt; ["</font>
<font color="#329A65">candle</font><font color="#9A3265">", "</font><font color="#329A65">soup</font><font color="#9A3265">", "</font><font color="#329A65">mackarel</font><font color="#9A3265">"]</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; $; = '</font><font color="#329A65">a</font><font color="#9A3265">'; "</font><font color="#329A65">candle  soup\nmackarel</font><font color="#9A3265">".</font><font color="#32659A">split</font><br/>
<font color="#9A3265">=&gt; ["</font><font color="#329A65">c</font><font color="#9A3265">", "</font><font color="#329A65">ndle  soup\nm</font><font color="#9A3265">", "</font><font color="#329A65">ck</font><font color="#9A3265">", "</font><font color="#329A65">rel</font><font color="#9A3265">"]</font></p>
<font color="#545454"># But, usually, you won't need the global variable.</font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; "</font><font color="#329A65">candle # soup # mackarel</font><font color="#9A3265">".</font><font color="#32659A">split</font><font color="#9A3265"> '</font><font color="#329A65"> # </font><font color="#9A3265">'
=&gt; ['</font><font color="#329A65">candle</font><font color="#9A3265">', '</font><font color="#329A65">soup</font><font color="#9A3265">', '</font><font color="#329A65">mackarel</font><font color="#9A3265">']</font></font><br/>
<font color="#222222">Outside the <i>Gorilla Mint</i>, Blix scolded the foxes. “We could have used that guy’s help! If he knows where R.K. is, we could use
his cunning!”<br/>
“<b>We don’t need that ape’s money!</b>” said Fox Small. “<b>We can make our <i>own</i> money!</b>“<br/>
“<b>We could support electronic wristbands!</b>” said Fox Tall.<br/>
“His money is worthless,” said Blix. “It’s gorilla money. It has no value. It’s worse than blue crystals.”<br/>
“But it serves a purpose,” said Fox Tall.<br/>
“No it doesn’t,” said Fox Small. “He just said it’s worthless.”<br/>
“But what about linoleum and surgeries?” said Fox Tall.<br/>
“Yeah,” said Fox Small, up at Blix. “What about linoleum and surgeries?”
<p>“If all the hospitals were staffed by gorillas and all the home improvement chains were strictly operated by gorillas, then - YES<br/>
- you could buy linoleum and surgeries. But I <i>guarantee</i> that you would have very sloppy linoleum and very hideous
surgeries. I don’t think you’d make it out of that economy alive.”</p>
“So, if R.K. is so cunning,” said Fox Tall, grinning slyly, “why does he print such worthless currency?”<br/>
“It’s a cover for other activities,” said Blix. “Besides, if you’re so smart, why did you resort to violently pounding that poor
gorilla?”<br/>
“I guess that was a bad play,” said Fox Tall, hanging his head. “My friend here will tell you that I’ve been on edge all day.”
<p>“And your rage finally reared its fuming snout!” said Fox Small. “You’re finally living up to your goatee.”</p></font>
<img src="whys-poignant-guide-to-ruby_pic008C.png"/><font color="#222222"><p>Down the lanes they travelled, the two foxes oblivious to their direction, but having a good time now that they had Blix leading
the way with such urgency. They lapsed into a careless wandering right behind Blix and spent their afternoon heckling most of
the passersby.</p>
<p>One such target of their ongoing commentary was The Winged Scroll Carriers, pairs of bats that carry documents which need 
to be immediately sworn and notarized. There can be no delay, they must go swift, there is not even time to roll up the scroll,
no, they must drop their swiss cheese and be out the door.</p></font>
<p><font color="#222222">These couriers resemble a kind of Ruby construct called 
<b>delimited types</b>. A long series of characters comprises the scroll,
flanked on each side by a bat bracing its curly wings to hold the scroll together. The opening bat wears a hat on which is 
written </font><font face="Courier, serif"><font color="#9A3265">%w</font></font><font color="#222222">, which identifies the scroll as a set of words.</font></p>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">bats</font><font color="#9A3265"> = %w{</font><font color="#329A65">The Winged Scroll Carriers</font><font color="#9A3265">}
=&gt; ['</font><font color="#329A65">The</font><font color="#9A3265">', '</font><font color="#329A65">Winged</font><font color="#9A3265">', '</font><font color="#329A65">Scroll</font><font color="#9A3265">', '</font><font color="#329A65">Carriers</font><font color="#9A3265">']</font></font>
<p><font color="#222222">The </font>
<font face="Courier, serif"><font color="#9A3265">%w</font></font><font color="#222222"> bats and their scroll, when fed into Ruby, emerge as an array of words. This syntax is a shortcut in case you don’t
want to go through the trouble of decorating each word with commas and quotes. You are in a hurry, too, there can be no
delay. You jot out the words between the bats and let Ruby figure out where to cut.</font></p>
<font color="#222222">Other bats, other hats. For instance, the </font><font face="Courier, serif"><font color="#9A3265">%x</font></font><font color="#222222"> hat runs an external program.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; %w{</font><font color="#329A65">ruby --help</font><font color="#9A3265">}<br/>
=&gt; ["</font><font color="#329A65">ruby</font><font color="#9A3265">", "</font><font color="#329A65">--help</font><font color="#9A3265">"]</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; %x{</font><font color="#329A65">ruby --help</font><font color="#9A3265">}<br/>
=&gt; "</font><font color="#329A65">Usage: ruby [switches] [--] [programfile] [arguments] ...</font><font color="#9A3265">"</font></font></p>
<font color="#222222">My favorite is the </font><font face="Courier, serif"><font color="#9A3265">%Q</font></font><font color="#222222"> hat, which can also be written as just </font><font face="Courier, serif"><font color="#9A3265">%</font></font><font color="#222222">. This acts just like a double-quoted string, but looks nice when<br/>
used with strings that run-on for many lines. Like, say you’re adding a new method with </font><font face="Courier, serif"><font color="#32659A">eval</font></font><font color="#222222">.</font><br/>
<font face="Courier, serif"><font color="#32659A">m</font><font color="#9A3265"> = "</font><font color="#329A65">bats!</font><font color="#9A3265">" </font><br/>
<font color="#32659A">eval</font><font color="#9A3265"> %{</font><br/>
<font color="#329A65">def #{ m }<br/>
puts "{" * 100
end</font><br/>
<font color="#9A3265">}</font></font><br/>
<font color="#222222">Just like a double-quoted string, you can use the string interpolation lilypads inside.</font>
<img src="whys-poignant-guide-to-ruby_pic008D.png"/><font color="#222222">Blixy wagged his head. “Oh, dear me.”<br/>
“Egads! My hand is pregnant,” said Fox Tall, watching the little fox embryo slide about in his palm.<br/>
“They are good berries, though,” said Blix. “The wine they make from these berries will make ya grow a few eyeballs in your
teeth. But no more than that.”
<p>“Ah, pain!” yelled Fox Small, as his miniature squeezed out through the pores in his scalp. But soon he was cradling his little
self and murmuring lullablies. <i>Nevermore, nevermore, sweetly sang the nightingale. Winking starlight, sleeping
still, whilst perched on a Sycamore stump.</i></p>
Making duplicates of Ruby objects is no more than a berry’s worth of code.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#32659A">tree</font><font color="#9A3265"> = [</font>:berry<font color="#9A3265">, </font>:berry<font color="#9A3265">, </font>:berry<font color="#9A3265">]<br/>
=&gt; [</font>:berry<font color="#9A3265">, </font>:berry<font color="#9A3265">, </font>:berry<font color="#9A3265">]</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">treechild</font><font color="#9A3265"> = </font><font color="#32659A">tree</font><font color="#9A3265">.</font><font color="#32659A">clone</font><br/>
<font color="#9A3265">=&gt; [</font>:berry<font color="#9A3265">, </font>:berry<font color="#9A3265">, </font>:berry<font color="#9A3265">]</font></font></p>
<font color="#222222">The </font><font face="Courier, serif"><font color="#32659A">clone</font></font><font color="#222222"> method makes an exact copy of a Ruby object. How does this differ from regular assignment?</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">tree_charles_william_iii</font><font color="#9A3265"> = </font><font color="#32659A">tree</font><br/>
<font color="#9A3265">=&gt; [</font>:berry<font color="#9A3265">, </font>:berry<font color="#9A3265">, </font>:berry<font color="#9A3265">]</font></font><br/>
<font color="#222222">Assigning object to variables only creates more nicknames. The above Array can be called</font><br/>
<font face="Courier, serif"><font color="#32659A">tree_charles_william_iii</font></font><font color="#222222"> now. Or the shorter </font><font face="Courier, serif"><font color="#32659A">tree</font></font><font color="#222222">. The same object, but different names.<br/>
However, a clone is a copy of an object. You can modify it without affecting the original.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#32659A">treechild</font><font color="#9A3265"> &lt;&lt; '</font><font color="#329A65">flower</font><font color="#9A3265">'<br/>
=&gt; [</font>:berry<font color="#9A3265">, </font>:berry<font color="#9A3265">, </font>:berry<font color="#9A3265">, '</font><font color="#329A65">flower</font><font color="#9A3265">']</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">tree</font><br/>
<font color="#9A3265">=&gt; [</font>:berry<font color="#9A3265">, </font>:berry<font color="#9A3265">, </font>:berry<font color="#9A3265">]</font></font></p>
<font color="#222222">The </font><font face="Courier, serif"><font color="#32659A">clone</font></font><font color="#222222"> method doesn’t make copies of everything attached to the object, though. In the array above, only the array is
copied, not all the symbols and strings inside.<br/>
You may also see the </font><font face="Courier, serif"><font color="#32659A">dup</font></font><font color="#222222"> method used to copy objects. The </font><font face="Courier, serif"><font color="#32659A">dup</font></font><font color="#222222"> method makes copies which aren’t as exact. For example,
there are objects in Ruby which are “frozen” and can’t be altered. If you </font><font face="Courier, serif"><font color="#32659A">clone</font></font><font color="#222222"> the object, you get an exact copy which is <br/>
also frozen. If you use </font><font face="Courier, serif"><font color="#32659A">dup</font></font><font color="#222222">, you get an unfrozen copy that you can change if you like.<br/>
The </font><font face="Courier, serif"><font color="#32659A">clone</font></font><font color="#222222"> method also copies the metaclass of an object, whereas </font><font face="Courier, serif"><font color="#32659A">dup</font></font><font color="#222222"> does not.</font>
<font face="Courier, serif"><p><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#32659A">o</font><font color="#9A3265"> = </font><font color="#653200"><b>Object</b></font><font color="#9A3265">.</font><font color="#32659A">new<br/>
irb</font><font color="#9A3265">&gt; <b>class </b>&lt;&lt;</font><font color="#32659A"> o<br/>
irb</font><font color="#9A3265">&gt;   <b>def </b>nevermore;</font> :nevermore<font color="#9A3265">; <b>end</b></font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; <b>end</b></font></p>
<p><font color="#32659A">irb</font>
<font color="#9A3265">&gt; </font><font color="#32659A">o</font><font color="#9A3265">.</font><font color="#32659A">clone</font><font color="#9A3265">.</font><font color="#32659A">nevermore</font><br/>
<font color="#9A3265">=&gt; </font>:nevermore<br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">o</font><font color="#9A3265">.</font><font color="#32659A">dup</font><font color="#9A3265">.</font><font color="#32659A">nevermore</font><br/>
<font color="#545454"># NoMethodError: undefined method `nevermore' for #&lt;Object:0xb7d4a484&gt;<br/>
#         from (irb):7</font></p></font>
<font color="#222222">You don’t always need to make copies of objects, though, since many methods like </font><font face="Courier, serif"><font color="#32659A">collect</font></font><font color="#222222"> and </font><font face="Courier, serif"><font color="#32659A">gsub</font></font><font color="#222222"> and </font><br/>
<font face="Courier, serif"><font color="#32659A">format</font></font><font color="#222222"> make copies for you as part of their work.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic008F.png"/><font color="#222222"><p>Over the hills and down the valleys, they ran through the grass where the Deer of the Smoky Pink Puffing roam. The sun was
obscured by the lumbering pink clouds, emblazened with deer language, tinting the horizon a gradient of grapefruit and
secreting a glow over the meadow. The clouds slid past each other, some bobbing upwards, destined for Canadian relatives.
Others landing a readable distance from a recipient’s hooves.</p>
“Let’s stop! <i>Please!</i>” yelled Fox Tall. “You can’t expect us to run in this <b>unbreathable fluff!</b>“<br/>
“Why are you yelling?” said Blix, as a thin stratus telegram wafted behind his legs. “You don’t need to raise your voice above a
whisper. These long skinny clouds are usually just a mumble or a sigh. They may not even make it all the way.”<br/>
“All that writing on the cloud is deer talk?” said Fox Small.</font><br/>
<b><font color="#F0FAEE">sidebar!</font>
<font color="#545454">Steaks ‘n’ Slides</font></b>
<font color="#222222"><p>“Help! 
<i>Where are you guys?</i>” The taller fox ducked through a stormy tirade
comprised of thick, billowing smoke and sharp wisps. He whirled in every direction,
“Somebody yell if you’re there!”</p>
<p>He searched for a fissure in the dense matter, combing forward with his hands. The
verbose, angry clouds responded by prodding him ahead, forcing him into tight 
corners in their brief pause between sentences. He landed in a sinkhole and kept his</p></font>
<p>My uncles love waterslides and they also love
steakhouses. They have these waterslide
days which are directly followed by a trip
over to Joey’s Steakhouse. I <i>hate</i> Joey’s
Steakhouse. It’s all big, brown shoe meat.
Floppy and galoshy. Mixed with the stench
of the uncles’ chlorine.</p>
<img src="whys-poignant-guide-to-ruby_pic008E.png"/><font color="#222222">head down as the cascades of smoke surged forward.<br/>
“Yeah, deer can read this stuff,” said Blix. “They just face their target and shoot it out
of their nostrils. I once heard of a guy who <b>rode</b> a stag’s love poem.”<br/>
“No way,” said Fox Small.
<p>“Yep,” said Blix. “And that guy was me.” Blix reached over his shoulder and latched
onto a spiral column of smoke that was twisting just above his head. “You just have to
know which clouds are wimpy and which clouds are grandiloquent.” Blix let the cloud
pull him along and when the cloud banked upwards, Blix loosed his grip and kept his
feet moving slowly along the ground. “See, here’s a good one, long like a broom handle.
A guy found one once and it was shaped <i>exactly</i> like a car: windshield, driver’s side
airbag, power steering. Uncanny!”</p>
“<i>And that guy was—</i>“</font><br/>
Pruny fingers on meat slabs is The 
Revolting.
<p>It’s time for steaks and waterslides to come
together in a truly repugnant manner. My
uncles have had steaks and waterslides their
whole lives. The dynasty of steaks and
waterslides must come to a close. I will
marry them in ways against nature!</p>
Like this:
<p>Hand steaks to riders as they board the
waterslide. Rider looks at the lifeguard.
Lifeguard says wait. Rider looks again.
The lifeguard pauses. Then. Okay, it’s
time. <i>Go, kid, go!</i> And the look on that
kid’s face as he rushes down the slope,
paws full of chuck! <i>Go, kid, go!</i></p>
<font color="#222222"><b>“It was!”</b> And Blix climbed up atop the long icy cloud, with its dangling glyphs, and
stood proudly, floating high above the small fox’s pointy shadow.</font><br/>
Kids slide on top of steaks. For safety,
we’d want the slides stacked five steaks
deep.<br/>
<font color="#222222">“Oh, I could do that,” said Fox Small. “Tall and I go jetskiing all the time. <i>I’ve stood
up on my jetski.</i> It’s just like that.”</font><br/>
Or, steaks do the sliding. In their own
little swim trunks.
<p><font color="#222222">Fox Tall dashed through a descending puff, shattering its sentence, which letters came 
unglued and littered the ground with scrambled words, but he had only succeeded in 
reaching the depressive portions of the deer correspondence, which manifested itself 
as a dank and opaque mist.</font></p>
Or, people. With steak swim trunks.<br/>
People and steaks, side-by-side.<br/>
Steaks travelling down waterslides 
composed of steaks.
<p><font color="#222222">Meanwhile, his smaller counterpart grabbed a narrow train of smoke that passed 
under his arm. He was airborned and yelled, <b>“Tallyho!”</b> But he held too tightly and
the cloud evaporated under his arm and sent him back down with a short hop.</font></p>
<p><font color="#222222">Since you’re just beginning your use of Ruby, you may not fully grasp regular
expressions (or <i>regexps</i>) at first. You may even find yourself clipping out regexps
from the </font><font color="#0000EF">Regular Expression Library</font><font color="#222222"> and pasting them into your code without having 
the foggiest idea why the expression works. Or <i>if</i> it works!</font></p>
Steaks travelling down waterslides made 
of people.
<p>And, of course, people eating steaks, but 
their tongues come out as waterslides and
they have to push the steaks up the 
waterslides. Which is impossible and a
lifeguard has to climb up the waterslide 
and manually insert the steak into the 
esophagus.</p>
Waterslides eating people and steaks 
eating people.<br/>
<font face="Courier, serif"><font color="#32659A">loop</font><font color="#9A3265"><b> do</b></font>
<p><font color="#32659A">print</font>
<font color="#9A3265"> "</font><font color="#329A65">Enter your password: </font><font color="#9A3265">" </font><br/>
<font color="#32659A">password</font><font color="#9A3265"> = </font><font color="#32659A">gets</font><br/>
<font color="#9A3265"><b>if</b></font><font color="#32659A"> password</font><font color="#9A3265">.</font><font color="#32659A">match</font><font color="#9A3265">( /</font><font color="#443254">^\w{8,15}$</font><font color="#9A3265">/ )</font></p>
<p><font color="#9A3265"><b>break<br/>
else</b></font><br/>
<font color="#32659A">puts</font><font color="#9A3265"> "</font><font color="#329A65">** Bad password! Must be 8 to 15 characters!</font><font color="#9A3265">" 
<b>end<br/>
end</b></font></p></font>
<p><font color="#222222">Do you see the unreadable deer language in the example code? The</font><br/>
<font face="Courier, serif"><font color="#9A3265">/</font><font color="#443254">^\w{8,15)$</font><font color="#9A3265">/</font></font><font color="#222222"> is a regular expression. If I may translate, the regexp is saying,
<i>Please only allow letters, numbers or underscores. No less than eight and no
more than fifteen.</i></font></p>
<p>Waterslides and steaks becoming friends
after smelling people on each other’s
breath.</p>
<p>Or, steaks befriending waterslides, but
waterslides not reciprocating.<br/>
Waterslides become increasingly
despondent and detached, getting into
bad crowds and sinking into political
extremity. Steaks make ankle bracelets
out of people and leave them in the
waterslides’ trouser pockets, when the
trousers are unattended. They sneak out
of the waterslide commune via a huge
waterslide made of steak swim trunks.</p>
Or, like I said, people with steak swim 
trunks.<br/>
<img src="whys-poignant-guide-to-ruby_pic0090.png"/><font color="#F0FAEE"><b>sidebar!</b></font><br/>
<font color="#222222">Regular expressions are a mini-language built into Ruby and many other programming languages. I really shouldn’t say <i>mini</i>, 
though, since regexps can be twisted and complicated and much more difficult than any Ruby program.<br/>
Using regular expressions is extremely simple. It is like the Deer: making the smoke is an arduous process. But hooking your
elbow around the smoke and driving it to the Weinerschnitzel to get mustard pretzel dogs is easy.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; "</font><font color="#329A65">good_password</font><font color="#9A3265">".</font><font color="#32659A">match</font><font color="#9A3265">( /</font><font color="#443254">^\w{8,15}$</font><font color="#9A3265">/ )<br/>
=&gt; </font><font color="#545454">#&lt;MatchData:0xb7d54218&gt;</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; "</font><font color="#329A65">this_bad_password_too_long</font><font color="#9A3265">".</font><font color="#32659A">match</font><font color="#9A3265">( /</font><font color="#443254">^\w{8,15}$</font><font color="#9A3265">/ )
=&gt; </font><font color="#653200"><b>nil</b></font></font></p>
<p><font color="#222222">The </font>
<font face="Courier, serif"><font color="#653200"><b>String</b></font><font color="#545454">#match</font></font><font color="#222222"> method is the <i>simplest practical use</i> of regexps. The </font><font face="Courier, serif"><font color="#32659A">match</font></font><font color="#222222"> method checks to see if the 
string meets the rules inside the regexp. A regexp is only useful with strings, to test strings for a series of conditions. If the
conditions are met, a </font><font face="Courier, serif"><font color="#653200"><b>MatchData</b></font></font><font color="#222222"> object is returned. If not, you get </font><font face="Courier, serif"><font color="#653200"><b>nil</b></font></font><font color="#222222">.</font></p>
<p><font color="#222222">The most basic regular expressions are for 
<b>performing searches</b> inside strings. Let’s say you’ve got a big file and you
want to search it for a word or phrase. Since a bit of time has passed, let’s search the Preeventualist’s Losing and Finding
Registry again.</font></p>
<font face="Courier, serif"><font color="#32659A">require</font><font color="#9A3265"> '</font><font color="#329A65">preeventualist</font><font color="#9A3265">'</font><br/>
<font color="#653200"><b>PreEventualist</b></font><font color="#9A3265">.</font><font color="#32659A">searchfound</font><font color="#9A3265">( '</font><font color="#329A65">truck</font><font color="#9A3265">' ) <b>do</b> |</font><font color="#32659A">page</font><font color="#9A3265">|</font>
<font color="#32659A">page</font><font color="#9A3265">.</font><font color="#32659A">each_line</font><font color="#9A3265"><b> do</b> |</font><font color="#32659A">line</font><font color="#9A3265">|</font><br/>
<font color="#32659A">puts line</font><font color="#9A3265"><b> if</b></font><font color="#32659A"> line</font><font color="#9A3265">.</font><font color="#32659A">match</font><font color="#9A3265">( /</font><font color="#443254">truck</font><font color="#9A3265">/ )
<b>end<br/>
end</b></font></font><br/>
<font color="#222222">This isn’t too different from the code we used earlier to search for lines with the word “truck”. Earlier we used </font><font face="Courier, serif"><font color="#32659A">puts<br/>
line</font><font color="#9A3265"><b> if</b></font><font color="#32659A"> line</font><font color="#9A3265">['</font><font color="#329A65">truck</font><font color="#9A3265">']</font></font><font color="#222222">, which is actually a simpler way of searching a string, if you’re just looking for a<br/>
simple word. The regexp </font><font face="Courier, serif"><font color="#9A3265">/</font><font color="#443254">truck</font><font color="#9A3265">/</font></font><font color="#222222"> is identical. Find the word “truck”. Anywhere in the string.<br/>
Uhm, what if truck is capitalized. <b>Truck.</b> What then?</font><br/>
<font face="Courier, serif"><font color="#32659A">puts line</font><font color="#9A3265"><b> if</b></font><font color="#32659A"> line</font><font color="#9A3265">.</font><font color="#32659A">match</font><font color="#9A3265">( /</font><font color="#443254">[Tt][Rr][Uu][Cc][Kk]</font><font color="#9A3265">/</font><font color="#32659A">i</font><font color="#9A3265"> )</font></font><br/>
<font color="#222222">The <b>character classes</b> are the sections surrounded by <b>square brackets</b>. Each character class gives a list of characters
which are valid matches for that spot. (The first spot matches either an uppercase </font><font face="Courier, serif"><font color="#653200"><b>T</b></font></font><font color="#222222"> or a lowercase </font><font face="Courier, serif"><font color="#32659A">t</font></font><font color="#222222">. The second spot<br/>
matches an </font><font face="Courier, serif"><font color="#653200"><b>R</b></font></font><font color="#222222"> or an </font><font face="Courier, serif"><font color="#32659A">r</font></font><font color="#222222">. And so on.)<br/>
But a simpler way to write it is like this:</font><br/>
<font face="Courier, serif"><font color="#32659A">puts line</font><font color="#9A3265"><b> if</b></font><font color="#32659A"> line</font><font color="#9A3265">.</font><font color="#32659A">match</font><font color="#9A3265">( /</font><font color="#443254">truck</font><font color="#9A3265">/</font><font color="#32659A">i</font><font color="#9A3265"> )</font></font><br/>
<font color="#222222">The letter </font><font face="Courier, serif"><font color="#32659A">i</font></font><font color="#222222"> modifier at the end of the regexp indicates that the search is <b>not case-sensitive</b>. It will match Truck. And
TRUCK. And TrUcK. And other ups and downs.<br/>
Oh, and maybe you’re truck is a certain model number. A T-1000. Or a T-2000. You can’t remember. It’s a T <i>something</i>
thousand.</font><br/>
<font face="Courier, serif"><font color="#32659A">puts line</font><font color="#9A3265"><b> if</b></font><font color="#32659A"> line</font><font color="#9A3265">.</font><font color="#32659A">match</font><font color="#9A3265">( /</font><font color="#443254">T-\d000</font><font color="#9A3265">/ )</font></font><br/>
<font color="#222222">See, deer language. The </font><font face="Courier, serif"><font color="#9A3265">\</font><font color="#32659A">d</font></font><font color="#222222"> represents a <b>digit</b>. It’s a place holder in the regexp for any type of number. The regexp will now
match T-1000, T-2000, all the way up to T-9000.</font>
<p><font color="#222222"><b>Character Classes</b></font><br/>
<font face="Courier, serif"><font color="#222222">\</font><font color="#32659A">d</font></font>
<font color="#222222">matches digits </font><br/>
<font face="Courier, serif"><font color="#222222">\</font><font color="#32659A">w</font></font>
<font color="#222222">matches word characters (letters, numbers and the underscore) </font>
<font face="Courier, serif"><font color="#222222">\</font><font color="#32659A">s</font></font>
<font color="#222222">matches whitespace (spaces, tabs, carriage returns, line feeds) </font>
<font face="Courier, serif"><font color="#222222">\</font><font color="#653200"><b>D</b></font></font>
<font color="#222222">matches everything <i>but</i> digits </font><br/>
<font face="Courier, serif"><font color="#222222">\</font><font color="#653200"><b>W</b></font></font>
<font color="#222222">matches everything <i>but</i> word chars </font><br/>
<font face="Courier, serif"><font color="#222222">\</font><font color="#653200"><b>S</b></font></font>
<font color="#222222">matches everything <i>but</i> whitespace <br/>
<font face="Courier, serif">.</font>
the period matches <b>everything</b>. <br/>
can also be written </font><font face="Courier, serif"><font color="#222222">[</font><font color="#329A65">0</font><font color="#222222">-</font><font color="#329A65">9</font></font><font color="#222222"><font face="Courier, serif">]</font><br/>
can also be written </font><font face="Courier, serif"><font color="#222222">[</font><font color="#653200"><b>A</b></font><font color="#222222">-</font><font color="#653200"><b>Za</b></font><font color="#222222">-</font><font color="#32659A">z0</font><font color="#222222">-</font><font color="#329A65">9_</font></font><font color="#222222"><font face="Courier, serif">]</font>
a.k.a. </font><font face="Courier, serif"><font color="#222222">[ \</font><font color="#32659A">t\r\n</font></font><font color="#222222"><font face="Courier, serif">]</font><br/>
a negated set </font><font face="Courier, serif"><font color="#222222">[^\</font><font color="#32659A">d</font></font><font color="#222222"><font face="Courier, serif">]</font><br/>
just like </font><font face="Courier, serif"><font color="#222222">[^\</font><font color="#32659A">w</font></font><font color="#222222"><font face="Courier, serif">]</font><br/>
also </font><font face="Courier, serif"><font color="#222222">[^\</font><font color="#32659A">s</font><font color="#222222">]</font></font></p>
<p><font color="#222222">Building a regexp involves chaining these placeholders together to express your search. If you’re looking for a number,
followed by whitespace: </font><font face="Courier, serif"><font color="#9A3265">/</font><font color="#443254">\d\s</font><font color="#9A3265">/</font></font><font color="#222222">. If you’re looking for three numbers in a row: </font><font face="Courier, serif"><font color="#9A3265">/</font><font color="#443254">\d\d\d</font><font color="#9A3265">/</font></font><font color="#222222">. <b>The opening and 
closing slashes mark the beginning and end of the regexp.</b></font></p>
<font color="#222222">A search for three numbers in a row can also be written as: </font><font face="Courier, serif"><font color="#9A3265">/</font><font color="#443254">\d{3}</font><font color="#9A3265">/</font></font><font color="#222222">. Immediately following a character class like </font><font face="Courier, serif"><font color="#9A3265">\</font><font color="#32659A">d</font></font><font color="#222222">, 
you can use a quantifier symbol to mark how many times you want the character class to be repeat.</font>
<p><font color="#222222"><b>Quantifiers</b></font><br/>
<font face="Courier, serif"><font color="#222222">{</font><font color="#32659A">n</font></font><font color="#222222"><font face="Courier, serif">}</font>
match exactly <i>n</i> times </font><br/>
<font face="Courier, serif"><font color="#222222">{</font><font color="#32659A">n</font></font><font color="#222222"><font face="Courier, serif">,}</font>
matches <i>n_ times or _more</i><br/>
matches at least <i>n_ times but no more </i></font><sub><font face="Courier, serif"><font color="#222222">{</font><font color="#32659A">n</font><font color="#222222">,</font><font color="#32659A">n2</font></font><font color="#222222"><font face="Courier, serif">}</font>
<i>than _n2</i> times </font></sub></p>
<p><font color="#222222"><font face="Courier, serif">*</font>
the asterisk <font face="Courier, serif">*</font> is short for </font><font face="Courier, serif"><font color="#222222">{</font><font color="#329A65">0</font></font><font color="#222222"><font face="Courier, serif">,}<br/>
+</font>
the plus is short for </font><font face="Courier, serif"><font color="#222222">{</font><font color="#329A65">1</font></font><font color="#222222"><font face="Courier, serif">,}<br/>
?</font>
the question mark is short for </font><font face="Courier, serif"><font color="#222222">{</font><font color="#329A65">0</font><font color="#222222">,</font><font color="#329A65">1</font></font><font color="#222222"><font face="Courier, serif">}</font>
Precisely three numbers in a row is </font><font face="Courier, serif"><font color="#222222">/</font><font color="#443254">\d{3}</font></font><font color="#222222"><font face="Courier, serif">/</font><br/>
Three or more letters in a row is </font><font face="Courier, serif"><font color="#222222">/</font><font color="#443254">[a-z]{3,}</font><font color="#222222">/</font><font color="#32659A">i</font></font><br/>
<font color="#222222">So, </font><font face="Courier, serif"><font color="#222222">/</font><font color="#443254">[\d,]{3,9}</font></font><font color="#222222"><font face="Courier, serif">/</font> matches between three and nine characters which 
are numbers or commas <br/>
To match a colon, followed by zero or more word characters: </font><font face="Courier, serif"><font color="#222222">/</font><font color="#443254">:\w*</font></font><font color="#222222"><font face="Courier, serif">/</font>
To match one or more minus or plus signs, use </font><font face="Courier, serif"><font color="#222222">/</font><font color="#443254">[-+]+</font></font><font color="#222222"><font face="Courier, serif">/</font><br/>
To match three numbers followed by an optional period: </font><font face="Courier, serif"><font color="#222222">/</font><font color="#443254">\d{3}[.]?</font><font color="#222222">/</font></font></p>
<font color="#222222">A really common regular expression is for matching phone numbers. American phone numbers (including an area code) can
be matched using the digit character class and the precise quantifiers.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">&gt; "</font><font color="#329A65">Call 909-375-4434</font><font color="#9A3265">" =~ /</font><font color="#443254">\d{3}-\d{3}-\d{4}</font><font color="#9A3265">/<br/>
=&gt; </font><font color="#329A65">5</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; "</font><font color="#329A65">The number is (909) 375-4434</font><font color="#9A3265">" =~ /</font><font color="#443254">[(]\d{3}[)]\s*\d{3}-\d{4}</font><font color="#9A3265">/
=&gt; </font><font color="#329A65">14</font></font></p>
<font color="#222222">This time, instead of using </font><font face="Courier, serif"><font color="#32659A">match</font></font><font color="#222222"> to search for the expression, the </font><font face="Courier, serif"><font color="#9A3265">=~</font></font><font color="#222222"> operator was used. This operator is the <b>match </b>
<p><b>operator</b>
, an equals sign followed by <b>a tilde</b>. The tilde is like a bit of smoke coming off the edge of a smokestack.
Remember the deer, the smoke they blow, a cryptic language just like regular expressions. The smoky tilde points toward the
regexp.</p>
The match operator returns a number. The number is the spot in the string where the regular expression matched. So when
the match operator returns </font><font face="Courier, serif"><font color="#329A65">5</font></font><font color="#222222">, it’s saying, “Before the match, there are five characters in the string.”<br/>
If you need to get the full string matched, you can use the special </font><font face="Courier, serif"><font color="#9A3265">$&amp;</font></font><font color="#222222"> global variable if you’re using the match operator. Or, if<br/>
you’re using the </font><font face="Courier, serif"><font color="#32659A">match</font></font><font color="#222222"> method, you can get the full string by converting the </font><font face="Courier, serif"><font color="#653200"><b>MatchData</b></font></font><font color="#222222"> object to a string.</font><br/>
<font face="Courier, serif"><font color="#545454"># Using =~ and $&amp; together.</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; "</font><font color="#329A65">The number is (909) 375-4434</font><font color="#9A3265">" =~ /</font><font color="#443254">[(]\d{3}[)]\s*\d{3}-\d{4}</font><font color="#9A3265">/</font>
<p><font color="#9A3265">=&gt; </font>
<font color="#329A65">14</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; $&amp;<br/>
=&gt; "</font><font color="#329A65">(909) 375-4434</font><font color="#9A3265">" </font></p>
<font color="#545454"># Using the MatchData object.</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">phone</font><font color="#9A3265"> = /</font><font color="#443254">[(]\d{3}[)]\s*\d{3}-\d{4}</font><font color="#9A3265">/.</font><font color="#32659A">match</font><font color="#9A3265">("</font><font color="#329A65">The number is (909) 375-4434</font><font color="#9A3265">")     </font>
<p><font color="#9A3265">=&gt; </font>
<font color="#545454">#&lt;MatchData:0xb7d51680&gt;</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">phone</font><font color="#9A3265">.</font><font color="#32659A">to_s</font><br/>
<font color="#9A3265">=&gt; "</font><font color="#329A65">(909) 375-4434</font><font color="#9A3265">"</font></p></font>
<font color="#222222"><p>Most Rubyists prefer the second approach, as it uses an object within a 
<i>local variable</i> rather than a <i>global variable</i>. Global 
variables are kind of sketchy, since they can be easily overwritten. If you run two regular expressions in a row, the global
variable gets overwritten the second time. But with local variables, you can keep both matches around as long as the variables
are named differently.</p>
Other than matching, another common use of regular expression is to do <b>search-and-replace</b> from within Ruby. You can
search for the word “cat” and replace it with the word “banjo.” Sure, you can do that with strings or regexps.</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">song</font><font color="#9A3265"> = "</font><font color="#329A65">I swiped your cat / And I stole your cathodes</font><font color="#9A3265">" </font>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">song</font><font color="#9A3265">.</font><font color="#32659A">gsub</font><font color="#9A3265"> '</font><font color="#329A65">cat</font><font color="#9A3265">', '</font><font color="#329A65">banjo</font><font color="#9A3265">'<br/>
=&gt; "</font><font color="#329A65">I swiped your banjo / And I stole your banjohodes</font><font color="#9A3265">" </font><br/>
<font color="#32659A">irb</font><font color="#9A3265">&gt; </font><font color="#32659A">song</font><font color="#9A3265">.</font><font color="#32659A">gsub</font><font color="#9A3265"> /\</font><font color="#32659A">bcat\b</font><font color="#9A3265">/, '</font><font color="#329A65">banjo</font><font color="#9A3265">'<br/>
=&gt; "</font><font color="#329A65">I swiped your banjo / And I stole your cathodes</font><font color="#9A3265">"</font></font><br/>
<font color="#222222">The </font><font face="Courier, serif"><font color="#32659A">gsub</font></font><font color="#222222"> method is named for “global substitution.” Notice how in the first example it replaced the word “cat” and the first<br/>
three letters of “cathodes.” Strings also have a simple </font><font face="Courier, serif"><font color="#32659A">sub</font></font><font color="#222222"> method which will substite only once.<br/>
And so this chapter ends, with Blix and the Foxes cruising aloft the solid pink belched from a very outspoken deer somewhere 
in those pastures.<br/>
<b>6. Just Stopping To Assure You That the Porcupine Hasn't Budged</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0091.png"/><font color="#222222"><b>7. I'm Out</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic0093.png"/><font color="#222222"><p>One day, back around the time I met Bigelow (that dog
who walked off with the balloons), I came back to my
apartment hauling some board games I’d bought at a
garage sale. And Quil was on my porch. Which stunned
me since she’d been in San Antonio for like three years.
She was sleeping in a sleeping bag on my porch.</p>
She had run out of money to go to art school, so she 
stayed at my place for five months or so.
<p>I found this used bunkbed for our place. At night we’d
sit in our beds and read each other stories from our
notebooks. I was writing a book about a kid who’s a
detective and he’s trying to figure out who killed this kid
on his tennis team and all these animals end up helping
him figure it out. She was writing a book about this kid
who puts an ad in the classifieds to get other kids to join
his made-up cult and they end up building a rocket ship.
But during most of her book these kids are lost in the
woods and pretty directionless, which I got a kick out of
hearing each night.</p></font>
<img src="whys-poignant-guide-to-ruby_pic0092.png"/><font color="#222222"><p>Yeah, each night it was poetry or stories or ideas for 
tricking our neighbors. Our neighbor Justin was a big fan of Warhammer and he had all these real swords and tunics. We
decided to make suits of armor out of tin foil and go attack his apartment. We started ransacking his apartment and he loved
it. So he made his own suit of armor out of tin foil and we all went to a professional glamour studio and had a quality group
shot taken.</p>
<p>I’m not saying my life is any
better than yours. I just miss
my sister. Life isn’t like that
now. We’re dissolved or
something.</p>
<p>I don’t know. I’m confused. Is
this growing up? Watching all
your feathers come off? And
even though some of those
feathers were the most lovely
things?</p>
<p>I’m having a hard time telling
who stopped it all up. Who
stopped loving who? Did I stop
caring? Maybe I only saw her
in two-dimensions and I didn’t
care to look at the other angles.
I only saw planes. Then she
shimmied up the z-axis when I
wasn’t looking and I never did
the homework to trace the</p></font>
<img src="whys-poignant-guide-to-ruby_pic0094.png"/><font color="#222222"><p>coordinates. A limb on a geometrical tree and I am insisting on circles.</p>
Blix was right. I’m in so shape to write this book. Goodbye until I can shake this.</font>
<img src="whys-poignant-guide-to-ruby_pic0095.png"/><font color="#222222"><b>7.
<h3>When You Wish Upon a Beard</h3></b>
[o]</font><br/>
<img src="whys-poignant-guide-to-ruby_pic0097.png"/><img src="whys-poignant-guide-to-ruby_pic0099.png"/><img src="whys-poignant-guide-to-ruby_pic009A.png"/><img src="whys-poignant-guide-to-ruby_pic009B.png"/><img src="whys-poignant-guide-to-ruby_pic009C.png"/><img src="whys-poignant-guide-to-ruby_pic009D.png"/><img src="whys-poignant-guide-to-ruby_pic009E.png"/><img src="whys-poignant-guide-to-ruby_pic009F.png"/><img src="whys-poignant-guide-to-ruby_pic00A0.png"/><img src="whys-poignant-guide-to-ruby_pic00A1.png"/><img src="whys-poignant-guide-to-ruby_pic00A2.png"/><img src="whys-poignant-guide-to-ruby_pic00A3.png"/><img src="whys-poignant-guide-to-ruby_pic00A4.png"/><img src="whys-poignant-guide-to-ruby_pic00A5.png"/><img src="whys-poignant-guide-to-ruby_pic00A6.png"/><img src="whys-poignant-guide-to-ruby_pic00A7.png"/><img src="whys-poignant-guide-to-ruby_pic00A8.png"/><img src="whys-poignant-guide-to-ruby_pic00A9.png"/><img src="whys-poignant-guide-to-ruby_pic00AA.png"/><img src="whys-poignant-guide-to-ruby_pic00AB.png"/><img src="whys-poignant-guide-to-ruby_pic00AC.png"/><font color="#222222"><b>8.
<h3>Heaven’s Harp</h3></b>
[o]</font><br/>
<img src="whys-poignant-guide-to-ruby_pic00AE.png"/><font color="#222222"><b>Expansion Pak No. 1.
<h3>The Tiger’s Vest (with a Basic
Introduction to Irb)</h3></b></font>
<img src="whys-poignant-guide-to-ruby_pic00B2.png"/><font color="#222222">Let’s install the very latest Ruby on your computer so you can follow all the examples
in the (Poignant) Guide and actually do things right now! (Yes, things!)</font><br/>
<b><font color="#F0FAEE">sidebar!</font>
<font color="#545454">About Ruby Versions</font></b><br/>
<img src="whys-poignant-guide-to-ruby_pic00B0.png"/>If you’ve visited any sites which offer Ruby
<p><font color="#222222">If you are using 
<b>Microsoft Windows</b>, begin by downloading the </font><font color="#0000EF">Ruby 
Installer for Windows</font><font color="#222222">. Running this “one-click” installer will setup Ruby for you,
as well as a tidy pack of useful software, such as a small text editor and some
additional libraries.</font></p>
<p><font color="#222222">If you are on Apple’s 
<b>Mac OS X</b>, then Ruby might already be installed.
Versions 10.2 and 10.3 of OS X both came with Ruby. Still, I encourage you to
upgrade Ruby so that all the examples in this book will work for you. Download
a <b>stable</b></font><font color="#0000EF"> disk image</font><font color="#222222">. You will need OS X 10.3 (Panther) and the XCode Tools in 
order to use this image.</font></p>
<p><font color="#222222">On 
<b>FreeBSD</b>, Ruby is right there in the ports system. In fact, if you’ve used the
essential </font><font face="Courier, serif"><font color="#32659A">portupgrade</font></font><font color="#222222"> tool, then Ruby is already installed. Akinori</font></p>
<font color="#222222">Musha, one of Ruby’s immensely talented core developers, wrote portupgrade,
which means that you can use your Ruby learning right away to hack up your</font><br/>
<font face="Courier, serif"><font color="#32659A">pkgtools</font><font color="#9A3265">.</font><font color="#32659A">conf</font></font><font color="#222222"><sub>. _*</sub></font><br/>
<font face="Courier, serif"><font color="#9A3265">cd /usr/ports/lang/ruby18
sudo make install</font></font>
<p>for download, you’ve probably seen a
number of different versions of Ruby
available. Obviously, the greater the version
number, the more recent the version of
Ruby. But that’s not exactly true. Version
numbers have meaning in Rubyland and I’d
like you to make an educated choice.</p>
<p><b>1.8.3</b>
 is the latest <b>stable</b> version of Ruby.
Stable versions offer the latest features 
which have been widely tested and are 
recommended for general use. When new
stable versions come out, you can safely 
upgrade to these new versions.</p>
<p><b>1.9.0</b>
 is the latest <b>development</b> release 
of Ruby. The development release includes
experimental changes to Ruby and unfixed 
problems. This release is for anyone who
wants take a peep into the future of Ruby at 
the risk of encountering some bugs.</p>
<font color="#222222">On <b>RedHat</b> or <b>Mandrake</b> Linux, you can find </font><font color="#0000EF">Ruby RPMs</font><font color="#222222">. I believe Ruby is
also available through Ximian’s Red Carpet.<br/>
On <b>Debian</b>, use </font><font face="Courier, serif"><font color="#32659A">apt</font><font color="#9A3265">-</font><font color="#32659A">get install ruby</font></font><font color="#222222">.<br/>
<sub>On </sub><b>Gentoo</b><sub>, </sub></font><font face="Courier, serif"><font color="#32659A">emerge ruby</font></font><font color="#222222"><sub>.</sub></font>
<p><font color="#222222">Other 
<b>Linux</b> and <b>UNIX</b> platforms, even <b>OS X</b> (if the disk images don’t work
for you): Download the </font><font color="#0000EF">latest source code</font><font color="#222222">. For instance, </font><font color="#0000EF">Ruby 1.8.3</font><font color="#222222">. To unpack
and compile: _*</font></p>
<p><font face="Courier, serif"><font color="#9A3265">tar xzvf ruby-1.8.3.tar.gz
cd ruby-1.8.3<br/>
./configure<br/>
make<br/>
make install</font></font></p>
<font color="#222222">_* (Again, the above commands are for installing Ruby from the source code.
You may need to use </font><font face="Courier, serif"><font color="#32659A">su</font></font><font color="#222222"> or </font><font face="Courier, serif"><font color="#32659A">sudo</font></font><font color="#222222"> to give you permission to run the </font><font face="Courier, serif"><font color="#32659A">make<br/>
install</font></font><font color="#222222">.)</font>
<p>Now, you’ll notice that the version number is
comprised of three individual numbers,
which are: <b>the major version</b>, <b>the 
minor version</b>, and <b>the teeny 
version</b>. The major version counts each
complete rewrite of Ruby. The minor version
is changed based on sweeping changes to
Ruby. The teeny version is incremented
every few months as smaller changes and 
bug fixes are brought in.</p>
<p>All editions of Ruby thus far have a major
version of 1. When Ruby2 comes along,
you’ll see this notch up one.</p>
<p>The minor version indicates whether a 
version is stable or not. <b>If the minor
version is an even number, then
that version of Ruby is stable. If it’s
odd, then that Ruby is a<br/>
development version.</b> After a year or
so, when the development version is ready
for the world, both numbers are increased 
and the teeny version is returned to zero.</p>
<font color="#222222">To test if Ruby is installed, open a command shell and run: </font><font face="Courier, serif"><font color="#32659A">ruby</font><font color="#9A3265"> </font><font color="#32659A">v</font></font><font color="#222222">. If Ruby is
installed properly, you’ll see a bit of version info.</font><br/>
<font face="Courier, serif"><font color="#9A3265">ruby 1.8.3 (2005-11-25) [i386-mswin32]</font></font><br/>
<font color="#222222">To open a command shell in <b>Microsoft Windows</b>, go to the Start Menu and </font>
<p>Oh, and if I could give you a taste of how
smoothly Ruby moves along! I can’t count
how often a fresh idea lands on the<br/>
Ruby-Core mailing list, where the Emperors
of Ruby converse, and <b>that same idea</b>
gets worked into Ruby within a few days. It
is a lovely machine says I.</p>
<img src="whys-poignant-guide-to-ruby_pic00B3.png"/><font color="#222222">select </font><font face="Courier, serif"><font color="#653200"><b>Run</b></font><font color="#9A3265">...</font></font><font color="#222222">. Type in: </font><font face="Courier, serif"><font color="#32659A">cmd</font></font><font color="#222222">. Press OK. A command shell window will</font><font color="#F0FAEE"><sup><b>sidebar!</b></sup></font>
<img src="whys-poignant-guide-to-ruby_pic00B4.png"/><img src="whys-poignant-guide-to-ruby_pic00B1.png"/><font color="#222222">appear.<br/>
To open a command shell on <b>Mac OS X</b>, go to <b>Applications &gt; Utilities</b>. Run the <b>Terminal</b> program.<br/>
Okay, keep that command shell open cause we’ll need it if the Earth gets rescued from its plummet toward the sun.</font>
<img src="whys-poignant-guide-to-ruby_pic00B5.png"/><font color="#222222">Ruby comes with a very, very, very extremely helpful tool called <b>Irb</b>. Interactive Ruby. In your command shell, type: </font><font face="Courier, serif"><font color="#32659A">irb</font></font><font color="#222222">.</font><br/>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">(</font><font color="#32659A">main</font><font color="#9A3265">):</font><font color="#329A65">001</font><font color="#9A3265">:</font><font color="#329A65">0</font><font color="#9A3265">&gt;</font></font><br/>
<font color="#222222">You should see the prompt above. This Irb prompt will allow you to enter Ruby code and, upon pressing <i>Enter</i>, the code will 
run.<br/>
So, at the Irb prompt, do a: </font><font face="Courier, serif"><font color="#329A65">3000</font><font color="#9A3265"> + </font><font color="#329A65">500</font></font><font color="#222222">.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">(</font><font color="#32659A">main</font><font color="#9A3265">):</font><font color="#329A65">001</font><font color="#9A3265">:</font><font color="#329A65">0</font><font color="#9A3265">&gt; </font><font color="#329A65">3000</font><font color="#9A3265"> + </font><font color="#329A65">500</font>
<font color="#9A3265">=&gt;</font><font color="#329A65"> 3500</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">(</font><font color="#32659A">main</font><font color="#9A3265">):</font><font color="#329A65">002</font><font color="#9A3265">:</font><font color="#329A65">0</font><font color="#9A3265">&gt;</font></font></p>
<font color="#222222">The example </font><font face="Courier, serif"><font color="#329A65">3000</font><font color="#9A3265"> + </font><font color="#329A65">500</font></font><font color="#222222"> is legitimate code. We’re just not assigning the answer to a variable. Which is okay in Irb,
because Irb prints the answer given back by code you run.<br/>
Irb is a great calculator.</font>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">(</font><font color="#32659A">main</font><font color="#9A3265">):</font><font color="#329A65">002</font><font color="#9A3265">:</font><font color="#329A65">0</font><font color="#9A3265">&gt; ( ( </font><font color="#329A65">220.00</font><font color="#9A3265"> + </font><font color="#329A65">34.15</font><font color="#9A3265"> ) *</font><font color="#329A65"> 1.08</font><font color="#9A3265"> ) / </font><font color="#329A65">12</font><br/>
<font color="#9A3265">=&gt;</font><font color="#329A65"> 22.8735</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">(</font><font color="#32659A">main</font><font color="#9A3265">):</font><font color="#329A65">003</font><font color="#9A3265">:</font><font color="#329A65">0</font><font color="#9A3265">&gt; "</font><font color="#329A65">1011010</font><font color="#9A3265">".</font><font color="#32659A">to_i</font><font color="#9A3265">( </font><font color="#329A65">2</font><font color="#9A3265"> )<br/>
=&gt;</font><font color="#329A65"> 90</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">(</font><font color="#32659A">main</font><font color="#9A3265">):</font><font color="#329A65">004</font><font color="#9A3265">:</font><font color="#329A65">0</font><font color="#9A3265">&gt; </font><font color="#653200"><b>Time</b></font><font color="#9A3265">.</font><font color="#32659A">now</font><font color="#9A3265"> - </font><font color="#653200"><b>Time</b></font><font color="#9A3265">.</font><font color="#32659A">local</font><font color="#9A3265">( </font><font color="#329A65">2003</font><font color="#9A3265">, "</font><font color="#329A65">Jul</font><font color="#9A3265">", </font><font color="#329A65">31</font><font color="#9A3265">, </font><font color="#329A65">8</font><font color="#9A3265">, </font><font color="#329A65">10</font><font color="#9A3265">, </font><font color="#329A65">0</font><font color="#9A3265"> )
=&gt;</font><font color="#329A65"> 31119052.510118</font></font></p>
<font color="#222222">The first example demonstrates a bit of math and is read as: <i>220.00 plus 34.15 times 1.08 divided by 12</i>. The second 
example takes a binary string and converts it to a decimal number. The third example computes the number of seconds
between </font><font face="Courier, serif"><font color="#32659A">now</font></font><font color="#222222"> and July 31, 2003 at 8:10 AM. The answers to all of these are printed back to us by Irb with a little ASCII arrow
pointing.<br/>
<b>Reading the Prompt</b><br/>
I know the prompt surely looks bewildering. Well, let’s not delay in dissecting it. It’s very simple. The prompt has three parts,
each separated by <b>colons</b>.</font>
<p><font color="#222222">The first section, which reads </font>
<font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265">(</font><font color="#32659A">main</font><font color="#9A3265">)</font></font><font color="#222222">, shows <b>the name of the program</b> we are running. The second section
shows a line number, <b>a count of how many lines of Ruby we’ve typed</b>. The third section is <b>a depth level</b>.
Whenever you open a statement which needs closing, the depth level will increase by one. And whenever Irb senses that your 
code is unfinished, <b>the end of the prompt will become an asterisk.</b></font></p>
<p><font face="Courier, serif"><font color="#32659A">irb</font>
<font color="#9A3265">(</font><font color="#32659A">main</font><font color="#9A3265">):</font><font color="#329A65">001</font><font color="#9A3265">:</font><font color="#329A65">0</font><font color="#9A3265">&gt; </font><font color="#32659A">bell</font><font color="#9A3265"> = </font>:pressed
<font color="#9A3265">=&gt;</font> :pressed<br/>
<font color="#32659A">irb</font><font color="#9A3265">(</font><font color="#32659A">main</font><font color="#9A3265">):</font><font color="#329A65">002</font><font color="#9A3265">:</font><font color="#329A65">0</font><font color="#9A3265">&gt; </font><font color="#32659A">ice_gun</font><font color="#9A3265"> =</font><br/>
<font color="#32659A">irb</font><font color="#9A3265">(</font><font color="#32659A">main</font><font color="#9A3265">):</font><font color="#329A65">003</font><font color="#9A3265">:</font><font color="#329A65">0</font><font color="#9A3265">*   <b>if</b></font><font color="#32659A"> bell</font><font color="#9A3265"> == </font>:pressed
<font color="#32659A">irb</font><font color="#9A3265">(</font><font color="#32659A">main</font><font color="#9A3265">):</font><font color="#329A65">004</font><font color="#9A3265">:</font><font color="#329A65">1</font><font color="#9A3265">&gt;     </font>:on<br/>
<font color="#32659A">irb</font><font color="#9A3265">(</font><font color="#32659A">main</font><font color="#9A3265">):</font><font color="#329A65">005</font><font color="#9A3265">:</font><font color="#329A65">1</font><font color="#9A3265">&gt;   <b>else</b></font><br/>
<font color="#32659A">irb</font><font color="#9A3265">(</font><font color="#32659A">main</font><font color="#9A3265">):</font><font color="#329A65">006</font><font color="#9A3265">:</font><font color="#329A65">1</font><font color="#9A3265">*     </font>:off<br/>
<font color="#32659A">irb</font><font color="#9A3265">(</font><font color="#32659A">main</font><font color="#9A3265">):</font><font color="#329A65">007</font><font color="#9A3265">:</font><font color="#329A65">1</font><font color="#9A3265">&gt;   <b>end</b><br/>
=&gt;</font> :on</font></p>
<font color="#222222">Notice how the depth level increased to 1 when I opened the </font><font face="Courier, serif"><font color="#9A3265"><b>if</b></font></font><font color="#222222"> statement. And how the asterisk indicates the continuation
of a line.<br/>
<b>Tweaking the Prompt</b><br/>
You don’t have to like the prompt’s appearance, though. I’m not forcing you to do anything and, if you want to hack it up, I’m
right here beside you.<br/>
Irb has a few other included prompts which may better appease your senses. Try </font><font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265"> -</font><font color="#32659A">prompt simple</font></font><font color="#222222">. This 
time Irb will treat you to a very basic set of arrows, allowing you to enter your code without the whole status report.</font>
<p><font face="Courier, serif"><font color="#9A3265">&gt;&gt; %w(</font>
<font color="#329A65">my best friend's arm</font><font color="#9A3265">)<br/>
=&gt; ["</font><font color="#329A65">my</font><font color="#9A3265">", "</font><font color="#329A65">best</font><font color="#9A3265">", "</font><font color="#329A65">friend's</font><font color="#9A3265">", "</font><font color="#329A65">arm</font><font color="#9A3265">"]
&gt;&gt;</font></font></p>
<p><font color="#222222">Ruby comes with a few prompts. The 
<b>simple</b> prompt seen above. The <b>xmp</b> prompt which has no prompt at all and indents
the answer arrow. (It’s supposed to look nice for printing.) Also, the <b>null</b> prompt, which eliminates prompts altogether. Set
the prompt by just supplying the name with the </font><font face="Courier, serif"><font color="#9A3265">-</font><font color="#32659A">prompt</font></font><font color="#222222"> option. (So, </font><font face="Courier, serif"><font color="#32659A">irb</font><font color="#9A3265"> -</font><font color="#32659A">prompt null</font></font><font color="#222222">.)</font></p>
<font color="#222222">Making your own prompt is okay as well. Irb is completely customizable from inside of itself. The </font><font face="Courier, serif"><font color="#32659A">conf</font></font><font color="#222222"> object contains all
of Irb’s configuration settings. Some of these configuration settings are for controlling the prompt.</font><br/>
<font face="Courier, serif"><font color="#9A3265">&gt;&gt;</font><font color="#32659A"> conf</font><font color="#9A3265">.</font><font color="#32659A">methods</font><font color="#9A3265">.</font><font color="#32659A">grep</font><font color="#9A3265"> /</font><font color="#32659A">prompt</font><font color="#9A3265">/<br/>
=&gt; ["</font><font color="#329A65">prompting?</font><font color="#9A3265">", "</font><font color="#329A65">prompt_s</font><font color="#9A3265">", "</font><font color="#329A65">prompt_s=</font><font color="#9A3265">", "</font><font color="#329A65">prompt_c</font><font color="#9A3265">", "</font><font color="#329A65">prompt_c=</font><font color="#9A3265">", 
"</font><font color="#329A65">prompt_i</font><font color="#9A3265">", "</font><font color="#329A65">prompt_mode</font><font color="#9A3265">", "</font><font color="#329A65">prompt_i=</font><font color="#9A3265">", "</font><font color="#329A65">prompt_mode=</font><font color="#9A3265">"]</font></font><br/>
<font color="#222222">Let’s setup our prompt to display line numbers with just a bit of decor.</font>
<p><font face="Courier, serif"><font color="#9A3265">&gt;&gt;</font>
<font color="#32659A"> conf</font><font color="#9A3265">.</font><font color="#32659A">prompt_i</font><font color="#9A3265"> = "</font><font color="#329A65">%3n :&gt; </font><font color="#9A3265">"</font>
<font color="#545454"># the normal prompt</font>
<font color="#9A3265">&gt;&gt;</font><font color="#32659A"> conf</font><font color="#9A3265">.</font><font color="#32659A">prompt_s</font><font color="#9A3265"> = "</font><font color="#329A65">%3n .%l </font><font color="#9A3265">"          </font><font color="#545454"># the string continuation prompt</font>
<font color="#9A3265">&gt;&gt;</font><font color="#32659A"> conf</font><font color="#9A3265">.</font><font color="#32659A">prompt_c</font><font color="#9A3265"> = "</font><font color="#329A65">%3n .^ </font><font color="#9A3265">"</font>
<font color="#545454"># the code continuation prompt</font>
<font color="#9A3265">&gt;&gt;</font><font color="#32659A"> conf</font><font color="#9A3265">.</font><font color="#32659A">return_format</font><font color="#9A3265"> = "</font>
<font color="#329A65">=&gt; %s\n</font><font color="#9A3265">"  </font><font color="#545454"># the answer arrow</font></font></p>
<p><font color="#222222">Above are the four parts to an Irb prompt. The string continuation prompt is displayed when a string is still open when you hit
<i>Enter</i>. The </font><font face="Courier, serif"><font color="#9A3265">%3n</font></font><font color="#222222"> describes that Irb should reserve three characters for the line number. The </font><font face="Courier, serif"><font color="#9A3265">%l</font></font><font color="#222222"> saves a place for displaying
the type of string being continued. (If you’re continuing a double-quoted string, it shows a double quote. If you’re continuing a
regular expression, it shows a slash.)</font></p>
<font color="#222222">The rest are little symbols to decorate the prompt. So, in the case of a continuing code line, I show a caret which points up to
the line where that line of code started.<br/>
You can read more about customizing Irb and saving your configuration to a file in the complete </font><font color="#0000EF">guide to Irb</font><font color="#222222">, available in the 
free-for-your-wandering-Internet-eyes <i>Programming Ruby</i>.</font><br/>
<font color="#F0FAEE"><b>sidebar!</b></font>
<font color="#222222"><b>Tab Completion</b>
<p>One feature of Irb which is rarely mentioned is its beneficial tab completion. And it’s a
bit of a taboo topic at the moment, since getting it to work on Windows is a slight
horror. (No, don’t be afraid. All at once now, look to your right.)</p>
If you’re on Linux or FreeBSD, the tab completion should work right off. And if you’re
using OS X, you should be sure you’re upgrade to the latest 1.8 and when run Irb, use:</font><br/>
<font face="Courier, serif"><font color="#9A3265">irb --readline -r irb/completion</font></font><br/>
<font color="#545454"><b>Windows Hiccups</b></font><br/>
<img src="whys-poignant-guide-to-ruby_pic00B6.png"/><p>Okay, here’s what you do to get tab<br/>
completion working in Windows. <font color="#0000EF">Download 
this.</font> A zip with two files inside. These get
copied into your Ruby installation. Place 
readline.dll in the <b>bin</b> folder. The<br/>
readline.so goes in <br/>
<b>lib/ruby/1.8/i386-mswin32</b> folder.</p>
<img src="whys-poignant-guide-to-ruby_pic00B1.png"/><p><font color="#222222">Basically, when you hit 
<i>Tab</i>, Irb will take a guess at what you’re trying to type. Try
typing: </font><font face="Courier, serif"><font color="#9A3265">[].</font><font color="#32659A">col</font></font><font color="#222222"> and hit <i>Tab</i>. Irb will finish it. </font><font face="Courier, serif"><font color="#9A3265">[].</font><font color="#32659A">collect</font></font><font color="#222222"> and it leaves 
your cursor at the end so you can add further.</font></p>
Then, run in your command shell: <font face="Courier, serif"><font color="#32659A">irb</font><br/>
<font color="#9A3265">-</font><font color="#32659A">readline</font><font color="#9A3265"> </font><font color="#32659A">r<br/>
irb</font><font color="#9A3265">/</font><font color="#32659A">completion</font></font><sub>.</sub><br/>
<font color="#222222">If there are several matches, just hitting <i>Tab</i> will do nothing. But hit it twice and Ruby
will give you a complete list of possible matches.<br/>
This is great if you just want to see all the methods for a certain object. Type in any
number, a dot, and use <i>Tab</i>.</font><br/>
<font face="Courier, serif"><font color="#9A3265">&gt;&gt; 42.</font></font>
<p>And for Europeans, you’ll need 
<font color="#0000EF">this.</font> Save it 
as <b>.inputrc</b> and place it in your home 
directory. (Your personal directory which
contains your Desktop and My Documents 
folders.)</p>
<img src="whys-poignant-guide-to-ruby_pic00B7.png"/><p><font face="Courier, serif"><font color="#9A3265">42.floor                   42.next                    42.step</font></font><font color="#F0FAEE"><sup><b>sidebar!</b></sup></font></p>
<img src="whys-poignant-guide-to-ruby_pic00B1.png"/><p><font face="Courier, serif"><font color="#9A3265">42.__id__     42.freeze                  42.nil?                    42.succ
42.__send__   42.frozen?                 42.nonzero?                42.taint
42.abs        42.hash                    42.object_id               42.tainted?
42.between?   42.id                      42.prec                    42.times
42.ceil       42.id2name                 42.prec_f                  42.to_f
42.chr        42.inspect                 42.prec_i                  42.to_i
42.class      42.instance_eval           42.private_methods         42.to_int
42.clone      42.instance_of?            42.protected_methods       42.to_s
42.coerce     42.instance_variable_get   42.public_methods          42.to_sym
42.display    42.instance_variable_set   42.quo                     42.truncate
42.div        42.instance_variables      42.remainder               42.type
42.divmod     42.integer?                42.respond_to?             42.untaint
42.downto     42.is_a?                   42.round                   42.upto
42.dup        42.kind_of?                42.send                    42.zero?
42.eql?       42.method                  42.singleton_method_added  
42.equal?     42.methods                 42.singleton_methods       
42.extend     42.modulo                  42.size  </font></font></p>
<font color="#222222">Now, trying typing </font><font face="Courier, serif"><font color="#653200"><b>Kernel</b></font><font color="#9A3265">::</font></font><font color="#222222"> and then <i>Tab</i>. All the core methods. Don’t ever forget this and use it all the time.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic00B8.png"/><font color="#222222">Okay, one last thing and then I’ll quit bugging you with all this great technology. But I have to say it loud, so take cover! I’m
across the world here, folks, but the volume comes down from the sky - a bold, red crescendo of </font><b><h1><font color="#FFDDDD">((</font><font color="#AB5432">ri</font><font color="#FFDDDD">))</font></h1>
<font color="#320000">(Ruby’s Own 411 or 555-1212 or <i>Yes, Operator, Get Belgrade on the Line</i> - I’ll Be Right Here Just Plain Hammering The Pound Key Until Someone Picks Up…)</font></b><br/>
<font color="#222222">And Ri picks up the line. “This is Ri. Class and colon, please.”<br/>
You rush in, “This is an instance method, Operator. Enumerable#zip.”</font><br/>
<font face="Courier, serif"><font color="#9A3265">ri Enumerable#zip</font></font><br/>
<font color="#222222">Without delay, right up on your teletype display (so swiftly that even the cat perched atop cranes his neck around, gapes and 
hands it the royal cup <i>Most Blatantly Great Thing Since Michael Dorn</i>):</font>
<font face="Courier, serif"><font color="#9A3265"><p>--------------------------------------------------------- Enumerable#zip<br/>
enum.zip(arg, ...)                   =&gt; array<br/>
enum.zip(arg, ...) {|arr| block }    =&gt; nil<br/>
-----------------------------------------------------------------------</p><p>Converts any arguments to arrays, then merges elements of _enum_<br/>
with corresponding elements from each argument. This generates a<br/>
sequence of +enum#size+ _n_-element arrays, where _n_ is one more<br/>
that the count of arguments. If the size of any argument is less<br/>
than +enum#size+, +nil+ values are supplied. If a block given, it<br/>
is invoked for each output array, otherwise an array of arrays is<br/>
returned.</p>
a = [ 4, 5, 6 ]<br/>
b = [ 7, 8, 9 ]
<p>(1..3).zip(a, b)      #=&gt; [[1, 4, 7], [2, 5, 8], [3, 6, 9]]<br/>
"cat\ndog".zip([1])   #=&gt; [["cat\n", 1], ["dog", nil]]<br/>
(1..3).zip            #=&gt; [[1], [2], [3]]</p></font></font>
<font color="#222222">It’s an unabridged Ruby dictionary servo - the Power of Just Asking is at your fingertips <i> don’t tell me you’ve never heard
of this no-money-down lifetime-supply-of-proper-explanations!</i></font>
<p><font color="#222222">To get an explanation of any class, along with a complete directory to all of its methods, all in a very soothing voice fit for
calming any of you panicking cosmonauts out there fighting the pull of some zero-tolerance tractor beam, just use at your
command shell: </font><font face="Courier, serif"><font color="#32659A">ri</font><font color="#653200"><b> Class</b></font></font><font color="#222222">.</font></p>
<font color="#222222">But for help on class methods, you cuff on: </font><font face="Courier, serif"><font color="#32659A">ri</font><font color="#653200"><b> Class</b></font><font color="#9A3265">::</font><font color="#32659A">method</font></font><font color="#222222">.<br/>
Though instance methods use a pound key rather than a dot. (Since the dot can mean class <b>or</b> instance methods.) I mean:</font><br/>
<font face="Courier, serif"><font color="#32659A">ri</font><font color="#653200"><b> Class</b></font><font color="#545454">#method</font></font><font color="#222222"><sub>.</sub></font><br/>
<img src="whys-poignant-guide-to-ruby_pic00AF.png"/><font color="#222222">The full spread of classes, a full list from the Very Top down to the Earth’s core, can be achieved with </font><font face="Courier, serif"><font color="#32659A">ri</font><font color="#9A3265"> </font><font color="#32659A">c</font></font><font color="#222222">.<br/>
And beyond text, you can make HTML: </font><font face="Courier, serif"><font color="#32659A">ri</font><font color="#9A3265"> </font><font color="#653200"><b>Tf</b></font><font color="#32659A"> html</font><font color="#653200"><b> String</b></font><font color="#545454">#gsub &gt; gsub.html</font></font><font color="#222222">.</font><br/>
<b><font color="#222222">Or show colory ANSI: </font><font face="Courier, serif"><font color="#32659A">ri</font><font color="#9A3265"> </font><font color="#653200">Tf</font><font color="#32659A"> ansi</font><font color="#653200"> String</font><font color="#545454">#gsub</font></font></b><font color="#222222"><b>.</b><sub> And this is last and best.</sub><br/>
<b>Into the Ri Switchboard</b>
<p>Behind Ri sings a chorus of human voices, primarily Dave Thomas, an author of 
<i>Programming Ruby</i>, and absolutely the 
American foster parent of Ruby. Many of these elaborate spiels from Ri are straight from the references of <i>Programming 
Ruby</i>. Don’t forget to thank Dave periodically.</p>
Ri culls its lush information set from the very code that Ruby is built from. In each of the files of code back in the Ruby
Headquarter’s file cabinet, detailed comments describe everything in sight.<br/>
In Ruby’s </font><font face="Courier, serif"><font color="#32659A">date</font></font><font color="#222222"> class, here we have such commented methods:</font>
<font face="Courier, serif"><p><font color="#545454"># Get the time of this date as [hours, minutes, seconds,
# fraction_of_a_second]</font><br/>
<font color="#9A3265"><b>def </b>time() </font><font color="#653200"><b>self</b></font><font color="#9A3265">.</font><font color="#32659A">class</font><font color="#9A3265">.</font><font color="#32659A">day_fraction_to_time</font><font color="#9A3265">(</font><font color="#32659A">day_fraction</font><font color="#9A3265">) <b>end</b></font></p>
<font color="#545454"># Get the hour of this date.</font>
<font color="#9A3265"><b>def </b>hour() </font><font color="#32659A">time</font><font color="#9A3265">[</font><font color="#329A65">0</font><font color="#9A3265">] <b>end</b></font><br/>
<font color="#545454"># Get the minute of this date.</font>
<font color="#9A3265"><b>def </b>min() </font><font color="#32659A">time</font><font color="#9A3265">[</font><font color="#329A65">1</font><font color="#9A3265">] <b>end</b></font></font><br/>
<font color="#222222">The comments show up in Ri. We type: </font><font face="Courier, serif"><font color="#32659A">ri</font><font color="#653200"><b> Date</b></font><font color="#545454">#time</font></font><font color="#222222">.</font>
<p><font face="Courier, serif"><font color="#9A3265">-------------------------------------------------------------- Date#time
time()<br/>
-----------------------------------------------------------------------Get the time of this date as [hours, minutes, seconds,
fraction_of_a_second]</font></font></p>
<p><font color="#222222">Ri figures out much of how a method works, although it expects coders to write a brief description in the comments just before
a method or class definition. I would suggest that whenever you write a method, add a brief description in the comments 
before that method. In time, you can generate Ri documentation for that method.</font></p>
<p><font color="#222222">You can also use a few special characters to enhance your description. For example, if you indent a paragraph and use an
asterisk </font><font face="Courier, serif"><font color="#9A3265">*</font></font><font color="#222222"> or a dash </font><font face="Courier, serif"><font color="#9A3265">-</font></font><font color="#222222"> just before the letters of the first sentence, the paragraph will be recognized as a list item. Then, if your
description needs to be converted to HTML, you’ll see the list item appear as an HTML unordered list.</font></p>
<font face="Courier, serif"><p><font color="#545454"># Get the time of this date as an Array of:
# * hours<br/>
# * minutes<br/>
# * seconds<br/>
# * fraction_of_a_second</font></p>
<font color="#9A3265"><b>def </b>time() </font><font color="#653200"><b>self</b></font><font color="#9A3265">.</font><font color="#32659A">class</font><font color="#9A3265">.</font><font color="#32659A">day_fraction_to_time</font><font color="#9A3265">(</font><font color="#32659A">day_fraction</font><font color="#9A3265">) <b>end</b></font></font>
<font color="#222222"><p>Other rules as well: Lists which start with digits followed by periods are recognized as numbered lists. Emphasized words are
surrounded by underscores, bold words by asterisks, code words by plus signs. Examples are simply blocks of text indented a
few spaces. All of these rules together are called RDoc.</p>
Here’s a bit of RDoc from the </font><font face="Courier, serif"><font color="#32659A">initialize</font></font><font color="#222222"> method in one of my projects called RedCloth. Notice the indented example
as well as the Ruby class and method names flanked with plusses.</font>
<font face="Courier, serif"><p><font color="#545454">#<br/>
# Returns a new RedCloth object, based on +String+ and
# enforcing all the included +restrictions+.<br/>
#<br/>
#   r = RedCloth.new( "h1. A &lt;b&gt;bold&lt;/b&gt; man", [:filter_html] )
#   r.to_html<br/>
#     #=&gt;"&lt;h1&gt;A &amp;amp;lt;b&amp;amp;gt;bold&amp;amp;lt;/b&amp;amp;gt; man&lt;/h1&gt;" 
#</font><br/>
<font color="#9A3265"><b>def </b>initialize( </font><font color="#32659A">string</font><font color="#9A3265">, </font><font color="#32659A">restrictions</font><font color="#9A3265"> = [] )</font></p>
<p><font color="#9A3265">@lite = </font>
<font color="#653200"><b>false</b></font><br/>
<font color="#32659A">restrictions</font><font color="#9A3265">.</font><font color="#32659A">each</font><font color="#9A3265"> { |</font><font color="#32659A">r</font><font color="#9A3265">| </font><font color="#32659A">method</font><font color="#9A3265">( "</font><font color="#329A65">#{ r }=</font><font color="#9A3265">" ).</font><font color="#32659A">call</font><font color="#9A3265">( </font><font color="#653200"><b>true</b></font><font color="#9A3265"> ) }
<b>super</b>( </font><font color="#32659A">string</font><font color="#9A3265"> )</font></p>
<font color="#9A3265"><b>end</b></font></font><br/>
<font color="#222222">For the full set of RDoc rules see the <b>Markup</b> section of the </font><font color="#0000EF">README</font><font color="#222222">.<br/>
<b>Pushing Out Your Own Ri</b><br/>
Ri doesn’t automatically read your files for you, though. You’ve got to push it along, show it the way. Change to the directory of
the code you’d like to scan. Then, use the RDoc tool to make it happen.</font><br/>
<font face="Courier, serif"><font color="#9A3265">cd ~/cvs/your-code
rdoc --ri-site</font></font><br/>
<font color="#222222">Now, try using </font><font face="Courier, serif"><font color="#32659A">ri</font><font color="#653200"><b> YourClass</b></font></font><font color="#222222"> to ensure all your descriptions are showing up properly. If you want to make HTML
documentation, try this:</font><br/>
<font face="Courier, serif"><font color="#9A3265">cd ~/cvs/your-code
rdoc</font></font><br/>
<font color="#222222">The </font><font face="Courier, serif"><font color="#9A3265">~/</font><font color="#443254">cvs</font><font color="#9A3265">/</font><font color="#32659A">your</font><font color="#9A3265">-</font><font color="#32659A">code</font></font><font color="#222222"> directory should now also have a fresh </font><font face="Courier, serif"><font color="#32659A">doc</font></font><font color="#222222"> directory containing HTML documentation <br/>
for all of your classes. View </font><font face="Courier, serif"><font color="#32659A">index</font><font color="#9A3265">.</font><font color="#32659A">html</font></font><font color="#222222"> for the pleasant news.<br/>
Well then. Your hands are in it all now. Welcome to Ruby.</font><br/>
<img src="whys-poignant-guide-to-ruby_pic00B9.png"/>
</BODY></HTML>